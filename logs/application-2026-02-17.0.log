2026-02-17 07:54:24.955 [main] INFO  c.s.ShopjoyEcommerceSystemApplication - Starting ShopjoyEcommerceSystemApplication using Java 25.0.1 with PID 6916 (C:\Users\EugeneDokyeAnokye\IdeaProjects\spring-data-ecommerce\target\classes started by EugeneDokyeAnokye in C:\Users\EugeneDokyeAnokye\IdeaProjects\spring-data-ecommerce)
2026-02-17 07:54:24.961 [main] DEBUG c.s.ShopjoyEcommerceSystemApplication - Running with Spring Boot v4.0.2, Spring v7.0.3
2026-02-17 07:54:24.962 [main] INFO  c.s.ShopjoyEcommerceSystemApplication - The following 1 profile is active: "dev"
2026-02-17 07:54:25.641 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 9.0.1.Final
2026-02-17 07:54:27.735 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-17 07:54:28.090 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 340 ms. Found 9 JPA repository interfaces.
2026-02-17 07:54:29.995 [main] INFO  o.s.boot.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-02-17 07:54:30.015 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-02-17 07:54:30.018 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-02-17 07:54:30.018 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/11.0.15]
2026-02-17 07:54:30.141 [main] INFO  o.s.b.w.c.s.WebApplicationContextInitializer - Root WebApplicationContext: initialization completed in 5095 ms
2026-02-17 07:54:31.264 [main] INFO  org.hibernate.orm.jpa - HHH008540: Processing PersistenceUnitInfo [name: default]
2026-02-17 07:54:31.353 [main] INFO  org.hibernate.orm.core - HHH000001: Hibernate ORM core version 7.2.1.Final
2026-02-17 07:54:32.288 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-17 07:54:32.364 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-17 07:54:32.888 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3f213e97
2026-02-17 07:54:32.891 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-17 07:54:33.049 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [jdbc:postgresql://localhost:5432/shopjoy_db]
	Database driver: PostgreSQL JDBC Driver
	Database dialect: PostgreSQLDialect
	Database version: 18.1
	Default catalog/schema: shopjoy_db/public
	Autocommit mode: undefined/unknown
	Isolation level: READ_COMMITTED [default READ_COMMITTED]
	JDBC fetch size: none
	Pool: DataSourceConnectionProvider
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-02-17 07:54:35.213 [main] INFO  org.hibernate.orm.core - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-17 07:54:35.399 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-17 07:54:36.495 [main] INFO  o.s.d.j.r.q.QueryEnhancerFactories - Hibernate is in classpath; If applicable, HQL parser will be used.
2026-02-17 07:54:55.989 [main] INFO  o.s.g.e.DefaultSchemaResourceGraphQlSourceBuilder - Loaded 1 resource(s) in the GraphQL schema.
2026-02-17 07:54:56.834 [main] INFO  o.s.b.g.a.GraphQlAutoConfiguration - GraphQL schema inspection:
	Unmapped fields: {OrderItem=[orderId, product, createdAt], Inventory=[reservedQuantity]}
	Unmapped registrations: {}
	Unmapped arguments: {}
	Field nullness errors: {}
	Argument nullness errors: {}
	Skipped types: []
2026-02-17 07:54:56.997 [main] INFO  o.s.b.g.a.s.GraphQlWebMvcAutoConfiguration - GraphQL endpoint HTTP POST /graphql
2026-02-17 07:55:01.281 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2026-02-17 07:55:01.677 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2026-02-17 07:55:01.757 [main] INFO  o.s.boot.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2026-02-17 07:55:01.787 [main] INFO  c.s.ShopjoyEcommerceSystemApplication - Started ShopjoyEcommerceSystemApplication in 37.57 seconds (process running for 38.463)
2026-02-17 07:55:02.149 [main] INFO  c.s.config.AdminUserInitializer - Checking for existing admin user with username: admin
2026-02-17 07:55:02.167 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@425737632 wrapping org.postgresql.jdbc.PgConnection@3f213e97] read-only
2026-02-17 07:55:02.180 [main] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:55:02.180] ENTERING: UserServiceImpl.isUsernameTaken with arguments: [admin]
2026-02-17 07:55:02.192 [main] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:55:02.192] TRANSACTION START: UserServiceImpl.isUsernameTaken(String)
2026-02-17 07:55:02.447 [main] DEBUG org.hibernate.SQL - select u1_0.user_id from users u1_0 where u1_0.username=? fetch first ? rows only
2026-02-17 07:55:02.498 [main] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:55:02.498] TRANSACTION COMMIT: UserServiceImpl.isUsernameTaken(String)
2026-02-17 07:55:02.499 [main] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:55:02.499] EXITING: UserServiceImpl.isUsernameTaken returned: Boolean
2026-02-17 07:55:02.513 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@425737632 wrapping org.postgresql.jdbc.PgConnection@3f213e97]
2026-02-17 07:55:02.515 [main] INFO  c.s.config.AdminUserInitializer - Admin user 'admin' already exists, skipping creation
2026-02-17 07:55:02.516 [main] WARN  o.s.c.events.SpringDocAppInitializer - SpringDoc /api-docs endpoint is enabled by default. To disable it in production, set the property 'springdoc.api-docs.enabled=false'
2026-02-17 07:57:32.606 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-17 07:57:32.607 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-02-17 07:57:32.608 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2026-02-17 07:57:32.783 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: UserController.authenticateUser with arguments: [***REDACTED***]
2026-02-17 07:57:32.784 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1824291110 wrapping org.postgresql.jdbc.PgConnection@3f213e97] read-only
2026-02-17 07:57:32.784 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:57:32.784] ENTERING: UserServiceImpl.authenticateUser with arguments: [admin, ***REDACTED***]
2026-02-17 07:57:32.784 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:57:32.784] TRANSACTION START: UserServiceImpl.authenticateUser(String, String)
2026-02-17 07:57:32.793 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-17 07:57:32.897 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:57:32.897] TRANSACTION COMMIT: UserServiceImpl.authenticateUser(String, String)
2026-02-17 07:57:32.898 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:57:32.898] EXITING: UserServiceImpl.authenticateUser returned: UserResponse
2026-02-17 07:57:32.898 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1824291110 wrapping org.postgresql.jdbc.PgConnection@3f213e97]
2026-02-17 07:57:32.901 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint UserController.authenticateUser responded in 118ms
2026-02-17 07:57:32.901 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: UserController.authenticateUser returned: ResponseEntity
2026-02-17 07:57:33.066 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: PerformanceController.getMetrics with arguments: []
2026-02-17 07:57:33.066 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint PerformanceController.getMetrics responded in 0ms
2026-02-17 07:57:33.066 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: PerformanceController.getMetrics returned: ResponseEntity
2026-02-17 07:57:33.076 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: PerformanceController.getMetrics with arguments: []
2026-02-17 07:57:33.076 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint PerformanceController.getMetrics responded in 0ms
2026-02-17 07:57:33.076 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: PerformanceController.getMetrics returned: ResponseEntity
2026-02-17 07:57:33.244 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1516660588 wrapping org.postgresql.jdbc.PgConnection@3f213e97] read-only
2026-02-17 07:57:33.245 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:57:33.245] ENTERING: UserServiceImpl.getAllUsers with arguments: []
2026-02-17 07:57:33.245 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:57:33.245] TRANSACTION START: UserServiceImpl.getAllUsers()
2026-02-17 07:57:33.263 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0
2026-02-17 07:57:33.274 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:57:33.273] TRANSACTION COMMIT: UserServiceImpl.getAllUsers()
2026-02-17 07:57:33.274 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:57:33.274] EXITING: UserServiceImpl.getAllUsers returned: ArrayList
2026-02-17 07:57:33.275 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1516660588 wrapping org.postgresql.jdbc.PgConnection@3f213e97]
2026-02-17 07:57:33.296 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1113292614 wrapping org.postgresql.jdbc.PgConnection@3f213e97] read-only
2026-02-17 07:57:33.296 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:57:33.296] ENTERING: ProductServiceImpl.getProductsWithFilters with arguments: [null, Page request [number: 0, size 20, sort: id: ASC], id, ASC]
2026-02-17 07:57:33.299 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:57:33.299] TRANSACTION START: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-17 07:57:33.325 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?) order by p1_0.product_id fetch first ? rows only
2026-02-17 07:57:33.345 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:33.354 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:33.355 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:33.358 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:33.359 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:33.360 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:33.364 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:33.365 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:33.367 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:33.368 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:33.369 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:33.372 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:33.374 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:33.375 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:33.376 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:33.378 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:33.379 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:33.381 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:33.382 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:33.383 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:33.390 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select count(*) from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?)
2026-02-17 07:57:33.396 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 07:57:33.409 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:57:33.409] TRANSACTION COMMIT: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-17 07:57:33.409 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:57:33.409] EXITING: ProductServiceImpl.getProductsWithFilters returned: PageImpl
2026-02-17 07:57:33.409 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1113292614 wrapping org.postgresql.jdbc.PgConnection@3f213e97]
2026-02-17 07:57:33.432 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1892403417 wrapping org.postgresql.jdbc.PgConnection@3f213e97] read-only
2026-02-17 07:57:33.433 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:57:33.432] ENTERING: OrderServiceImpl.getOrders with arguments: [null, null, Page request [number: 0, size 20, sort: orderDate: DESC]]
2026-02-17 07:57:33.435 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:57:33.435] TRANSACTION START: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 07:57:33.446 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select o1_0.order_id,o1_0.created_at,o1_0.notes,o1_0.order_date,o1_0.payment_method,o1_0.payment_status,o1_0.shipping_address,o1_0.status,o1_0.total_amount,o1_0.updated_at,o1_0.user_id from orders o1_0 where 1=1 order by o1_0.order_date desc offset ? rows fetch first ? rows only
2026-02-17 07:57:33.460 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:57:33.473 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:57:33.477 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:57:33.479 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id = any (?)
2026-02-17 07:57:33.481 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:57:33.482 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:57:33.485 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:57:33.486 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:57:33.489 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:57:33.491 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:57:33.493 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:57:33.495 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:57:33.496 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:57:33.499 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:57:33.518 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 07:57:33.521 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:57:33.524 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:57:33.527 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:57:33.528 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:57:33.531 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 07:57:33.532 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:57:33.533 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:57:33.535 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:57:33.538 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:57:33.541 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:57:33.543 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:57:33.544 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:57:33.546 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:57:33.546 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:57:33.548 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:57:33.551 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:57:33.556 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:57:33.558 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:57:33.558 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:57:33.561 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:57:33.560] TRANSACTION COMMIT: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 07:57:33.561 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:57:33.561] EXITING: OrderServiceImpl.getOrders returned: PageImpl
2026-02-17 07:57:33.561 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1892403417 wrapping org.postgresql.jdbc.PgConnection@3f213e97]
2026-02-17 07:57:33.592 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@843479141 wrapping org.postgresql.jdbc.PgConnection@3f213e97] read-only
2026-02-17 07:57:33.593 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:57:33.593] ENTERING: InventoryServiceImpl.getLowStockProducts with arguments: []
2026-02-17 07:57:33.595 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:57:33.595] TRANSACTION START: InventoryServiceImpl.getLowStockProducts()
2026-02-17 07:57:33.597 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.quantity_in_stock<=i1_0.reorder_level
2026-02-17 07:57:33.602 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:57:33.608 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:57:33.608] TRANSACTION COMMIT: InventoryServiceImpl.getLowStockProducts()
2026-02-17 07:57:33.608 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:57:33.608] EXITING: InventoryServiceImpl.getLowStockProducts returned: ArrayList
2026-02-17 07:57:33.608 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@843479141 wrapping org.postgresql.jdbc.PgConnection@3f213e97]
2026-02-17 07:57:33.614 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1361373785 wrapping org.postgresql.jdbc.PgConnection@3f213e97] read-only
2026-02-17 07:57:33.614 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:57:33.614] ENTERING: CategoryServiceImpl.getCategoriesByIds with arguments: [[11, 12, 13, 14, 15, 16]]
2026-02-17 07:57:33.616 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:57:33.616] TRANSACTION START: CategoryServiceImpl.getCategoriesByIds(List)
2026-02-17 07:57:33.624 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id in (?,?,?,?,?,?)
2026-02-17 07:57:33.628 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:57:33.628] TRANSACTION COMMIT: CategoryServiceImpl.getCategoriesByIds(List)
2026-02-17 07:57:33.628 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:57:33.628] EXITING: CategoryServiceImpl.getCategoriesByIds returned: ListN
2026-02-17 07:57:33.628 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1361373785 wrapping org.postgresql.jdbc.PgConnection@3f213e97]
2026-02-17 07:57:33.639 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@923827611 wrapping org.postgresql.jdbc.PgConnection@3f213e97] read-only
2026-02-17 07:57:33.639 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:57:33.639] ENTERING: UserServiceImpl.getUsersByIds with arguments: [[26, 3, 18]]
2026-02-17 07:57:33.640 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:57:33.640] TRANSACTION START: UserServiceImpl.getUsersByIds(List)
2026-02-17 07:57:33.642 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id in (?,?,?)
2026-02-17 07:57:33.645 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:57:33.645] TRANSACTION COMMIT: UserServiceImpl.getUsersByIds(List)
2026-02-17 07:57:33.645 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:57:33.645] EXITING: UserServiceImpl.getUsersByIds returned: ListN
2026-02-17 07:57:33.645 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@923827611 wrapping org.postgresql.jdbc.PgConnection@3f213e97]
2026-02-17 07:57:33.654 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@921920780 wrapping org.postgresql.jdbc.PgConnection@3f213e97] read-only
2026-02-17 07:57:33.654 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:57:33.654] ENTERING: ProductServiceImpl.getProductsByIds with arguments: [[21, 28, 35, 42, 45, 49, 56, 63, 69, 75, 77, 70, 14]]
2026-02-17 07:57:33.654 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:57:33.654] TRANSACTION START: ProductServiceImpl.getProductsByIds(List)
2026-02-17 07:57:33.657 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 where p1_0.product_id in (?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-02-17 07:57:33.658 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:33.660 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:33.660 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:33.661 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:33.663 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:33.663 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:33.663 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:33.666 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:33.667 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:33.667 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:33.668 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:33.669 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:33.671 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:33.672 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 07:57:33.674 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:57:33.674] TRANSACTION COMMIT: ProductServiceImpl.getProductsByIds(List)
2026-02-17 07:57:33.674 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:57:33.674] EXITING: ProductServiceImpl.getProductsByIds returned: ArrayList
2026-02-17 07:57:33.675 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@921920780 wrapping org.postgresql.jdbc.PgConnection@3f213e97]
2026-02-17 07:57:39.532 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CategoryController.getAllCategories with arguments: []
2026-02-17 07:57:39.533 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1385774565 wrapping org.postgresql.jdbc.PgConnection@3f213e97] read-only
2026-02-17 07:57:39.533 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:57:39.533] ENTERING: CategoryServiceImpl.getAllCategories with arguments: []
2026-02-17 07:57:39.534 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:57:39.534] TRANSACTION START: CategoryServiceImpl.getAllCategories()
2026-02-17 07:57:39.535 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0
2026-02-17 07:57:39.540 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:57:39.540] TRANSACTION COMMIT: CategoryServiceImpl.getAllCategories()
2026-02-17 07:57:39.540 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:57:39.540] EXITING: CategoryServiceImpl.getAllCategories returned: ArrayList
2026-02-17 07:57:39.541 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1385774565 wrapping org.postgresql.jdbc.PgConnection@3f213e97]
2026-02-17 07:57:39.542 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CategoryController.getAllCategories responded in 10ms
2026-02-17 07:57:39.542 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CategoryController.getAllCategories returned: ResponseEntity
2026-02-17 07:57:39.544 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: ProductController.getProductsWithFilters with arguments: [null, null, null, null, null, null, null, null, 0, 10, id, ASC]
2026-02-17 07:57:39.549 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CategoryController.getAllCategories with arguments: []
2026-02-17 07:57:39.550 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CategoryController.getAllCategories responded in 1ms
2026-02-17 07:57:39.550 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CategoryController.getAllCategories returned: ResponseEntity
2026-02-17 07:57:39.572 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1074636100 wrapping org.postgresql.jdbc.PgConnection@3f213e97] read-only
2026-02-17 07:57:39.572 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:57:39.572] ENTERING: ProductServiceImpl.getProductsWithFilters with arguments: [com.shopjoy.dto.filter.ProductFilter@10c27698, Page request [number: 0, size 10, sort: id: ASC], id, ASC]
2026-02-17 07:57:39.572 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:57:39.572] TRANSACTION START: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-17 07:57:39.573 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?) order by p1_0.product_id fetch first ? rows only
2026-02-17 07:57:39.574 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:39.576 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:39.577 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:39.579 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:39.581 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:39.582 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:39.584 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:39.585 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:39.586 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:39.587 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:39.590 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select count(*) from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?)
2026-02-17 07:57:39.591 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 07:57:39.593 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:57:39.593] TRANSACTION COMMIT: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-17 07:57:39.594 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:57:39.594] EXITING: ProductServiceImpl.getProductsWithFilters returned: PageImpl
2026-02-17 07:57:39.594 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1074636100 wrapping org.postgresql.jdbc.PgConnection@3f213e97]
2026-02-17 07:57:39.596 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint ProductController.getProductsWithFilters responded in 51ms
2026-02-17 07:57:39.596 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: ProductController.getProductsWithFilters returned: ResponseEntity
2026-02-17 07:57:39.600 [http-nio-8080-exec-5] WARN  o.s.d.w.c.SpringDataJackson3Configuration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2026-02-17 07:57:39.613 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: ProductController.getProductsWithFilters with arguments: [null, null, null, null, null, null, null, null, 0, 10, id, ASC]
2026-02-17 07:57:39.614 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@821130138 wrapping org.postgresql.jdbc.PgConnection@3f213e97] read-only
2026-02-17 07:57:39.614 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:57:39.614] ENTERING: ProductServiceImpl.getProductsWithFilters with arguments: [com.shopjoy.dto.filter.ProductFilter@7e724a2f, Page request [number: 0, size 10, sort: id: ASC], id, ASC]
2026-02-17 07:57:39.614 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:57:39.614] TRANSACTION START: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-17 07:57:39.615 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?) order by p1_0.product_id fetch first ? rows only
2026-02-17 07:57:39.617 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:39.618 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:39.619 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:39.621 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:39.622 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:39.623 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:39.624 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:39.626 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:39.627 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:39.629 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:39.633 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select count(*) from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?)
2026-02-17 07:57:39.635 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 07:57:39.637 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:57:39.637] TRANSACTION COMMIT: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-17 07:57:39.637 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:57:39.637] EXITING: ProductServiceImpl.getProductsWithFilters returned: PageImpl
2026-02-17 07:57:39.637 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@821130138 wrapping org.postgresql.jdbc.PgConnection@3f213e97]
2026-02-17 07:57:39.637 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint ProductController.getProductsWithFilters responded in 23ms
2026-02-17 07:57:39.637 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: ProductController.getProductsWithFilters returned: ResponseEntity
2026-02-17 07:57:56.876 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: ProductController.updateProduct with arguments: [2, com.shopjoy.dto.request.UpdateProductRequest@3c5cf75a]
2026-02-17 07:57:56.880 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - DATA MODIFICATION STARTED: ProductServiceImpl.updateProduct(Integer, UpdateProductRequest) with arguments: [2, com.shopjoy.dto.request.UpdateProductRequest@3c5cf75a]
2026-02-17 07:57:56.881 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:57:56.881] ENTERING: ProductServiceImpl.updateProduct with arguments: [2, com.shopjoy.dto.request.UpdateProductRequest@3c5cf75a]
2026-02-17 07:57:56.881 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:57:56.881] TRANSACTIONAL DATA MODIFICATION: ProductServiceImpl.updateProduct(Integer, UpdateProductRequest) with arguments: [2, com.shopjoy.dto.request.UpdateProductRequest@3c5cf75a]
2026-02-17 07:57:56.881 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:57:56.881] TRANSACTION START: ProductServiceImpl.updateProduct(Integer, UpdateProductRequest)
2026-02-17 07:57:56.881 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:57:56.881] TRANSACTION START: ProductServiceImpl.updateProduct(Integer, UpdateProductRequest)
2026-02-17 07:57:56.885 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:57:56.895 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:57:56.897 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:57:56.897] TRANSACTION COMMIT: ProductServiceImpl.updateProduct(Integer, UpdateProductRequest)
2026-02-17 07:57:56.898 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:57:56.898] TRANSACTION COMMIT: ProductServiceImpl.updateProduct(Integer, UpdateProductRequest)
2026-02-17 07:57:56.901 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:57:56.901] EXITING: ProductServiceImpl.updateProduct returned: ProductResponse
2026-02-17 07:57:56.901 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - DATA MODIFICATION COMPLETED: ProductServiceImpl.updateProduct(Integer, UpdateProductRequest) in 21ms
2026-02-17 07:57:56.940 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - update products set is_active=?,brand=?,category_id=?,cost_price=?,created_at=?,description=?,image_url=?,price=?,product_name=?,sku=?,updated_at=? where product_id=?
2026-02-17 07:57:57.043 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.CachingAspect - CACHE INVALIDATED: 4 entries cleared for ProductServiceImpl.updateProduct
2026-02-17 07:57:57.043 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint ProductController.updateProduct responded in 167ms
2026-02-17 07:57:57.043 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: ProductController.updateProduct returned: ResponseEntity
2026-02-17 07:57:57.051 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: ProductController.getProductsWithFilters with arguments: [null, null, null, null, null, null, null, null, 0, 10, id, ASC]
2026-02-17 07:57:57.053 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1686888485 wrapping org.postgresql.jdbc.PgConnection@3f213e97] read-only
2026-02-17 07:57:57.054 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:57:57.054] ENTERING: ProductServiceImpl.getProductsWithFilters with arguments: [com.shopjoy.dto.filter.ProductFilter@60b468eb, Page request [number: 0, size 10, sort: id: ASC], id, ASC]
2026-02-17 07:57:57.054 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:57:57.054] TRANSACTION START: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-17 07:57:57.054 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?) order by p1_0.product_id fetch first ? rows only
2026-02-17 07:57:57.057 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:57.060 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:57.061 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:57.062 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:57.063 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:57.065 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:57.067 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:57.069 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:57.070 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:57.072 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:57:57.076 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select count(*) from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?)
2026-02-17 07:57:57.078 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 07:57:57.080 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:57:57.080] TRANSACTION COMMIT: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-17 07:57:57.081 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:57:57.081] EXITING: ProductServiceImpl.getProductsWithFilters returned: PageImpl
2026-02-17 07:57:57.082 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1686888485 wrapping org.postgresql.jdbc.PgConnection@3f213e97]
2026-02-17 07:57:57.082 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint ProductController.getProductsWithFilters responded in 31ms
2026-02-17 07:57:57.082 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: ProductController.getProductsWithFilters returned: ResponseEntity
2026-02-17 07:58:03.293 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CategoryController.getAllCategories with arguments: []
2026-02-17 07:58:03.293 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CategoryController.getAllCategories responded in 0ms
2026-02-17 07:58:03.293 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CategoryController.getAllCategories returned: ResponseEntity
2026-02-17 07:58:03.298 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CategoryController.getAllCategories with arguments: []
2026-02-17 07:58:03.298 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CategoryController.getAllCategories responded in 0ms
2026-02-17 07:58:03.298 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CategoryController.getAllCategories returned: ResponseEntity
2026-02-17 07:58:17.514 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@562598179 wrapping org.postgresql.jdbc.PgConnection@3f213e97] read-only
2026-02-17 07:58:17.515 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:58:17.515] ENTERING: OrderServiceImpl.getOrders with arguments: [null, OrderFilter(status=null, paymentStatus=null, startDate=null, endDate=null, minAmount=null, maxAmount=null, searchTerm=null), Page request [number: 0, size 20, sort: orderDate: DESC]]
2026-02-17 07:58:17.515 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:58:17.515] TRANSACTION START: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 07:58:17.517 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select o1_0.order_id,o1_0.created_at,o1_0.notes,o1_0.order_date,o1_0.payment_method,o1_0.payment_status,o1_0.shipping_address,o1_0.status,o1_0.total_amount,o1_0.updated_at,o1_0.user_id from orders o1_0 where 1=1 order by o1_0.order_date desc offset ? rows fetch first ? rows only
2026-02-17 07:58:17.521 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:17.522 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:17.525 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:58:17.526 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id = any (?)
2026-02-17 07:58:17.527 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:17.529 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:17.531 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:58:17.532 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:17.533 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:17.534 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:17.536 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:17.537 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:17.539 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:17.540 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:58:17.542 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 07:58:17.544 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:17.545 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:17.547 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:17.549 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:58:17.551 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 07:58:17.552 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:17.553 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:17.554 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:58:17.555 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:17.556 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:17.557 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:17.558 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:17.560 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:17.561 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:58:17.563 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:17.565 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:17.566 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:58:17.567 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:17.568 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:17.569 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:58:17.569] TRANSACTION COMMIT: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 07:58:17.569 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:58:17.569] EXITING: OrderServiceImpl.getOrders returned: PageImpl
2026-02-17 07:58:17.570 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@562598179 wrapping org.postgresql.jdbc.PgConnection@3f213e97]
2026-02-17 07:58:20.402 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: OrderController.processPayment with arguments: [25, TXN-L469XOBX9]
2026-02-17 07:58:20.403 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:58:20.403] ENTERING: OrderServiceImpl.processPayment with arguments: [25, TXN-L469XOBX9]
2026-02-17 07:58:20.404 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:58:20.404] TRANSACTION START: OrderServiceImpl.processPayment(Integer, String)
2026-02-17 07:58:20.405 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:58:20.405] TRANSACTION START: OrderServiceImpl.processPayment(Integer, String)
2026-02-17 07:58:20.408 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select o1_0.order_id,o1_0.created_at,o1_0.notes,o1_0.order_date,o1_0.payment_method,o1_0.payment_status,o1_0.shipping_address,o1_0.status,o1_0.total_amount,o1_0.updated_at,o1_0.user_id from orders o1_0 where o1_0.order_id=?
2026-02-17 07:58:20.412 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:20.414 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:20.416 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:58:20.416 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id=?
2026-02-17 07:58:20.417 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:58:20.417] TRANSACTION COMMIT: OrderServiceImpl.processPayment(Integer, String)
2026-02-17 07:58:20.418 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:58:20.418] TRANSACTION COMMIT: OrderServiceImpl.processPayment(Integer, String)
2026-02-17 07:58:20.418 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:58:20.418] EXITING: OrderServiceImpl.processPayment returned: OrderResponse
2026-02-17 07:58:20.420 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - update orders set created_at=?,notes=?,order_date=?,payment_method=?,payment_status=?,shipping_address=?,status=?,total_amount=?,updated_at=?,user_id=? where order_id=?
2026-02-17 07:58:20.422 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.CachingAspect - CACHE INVALIDATED: 2 entries cleared for OrderServiceImpl.processPayment
2026-02-17 07:58:20.422 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint OrderController.processPayment responded in 19ms
2026-02-17 07:58:20.422 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: OrderController.processPayment returned: ResponseEntity
2026-02-17 07:58:20.436 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1984296372 wrapping org.postgresql.jdbc.PgConnection@3f213e97] read-only
2026-02-17 07:58:20.437 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:58:20.437] ENTERING: OrderServiceImpl.getOrders with arguments: [null, OrderFilter(status=null, paymentStatus=null, startDate=null, endDate=null, minAmount=null, maxAmount=null, searchTerm=null), Page request [number: 0, size 20, sort: orderDate: DESC]]
2026-02-17 07:58:20.437 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:58:20.437] TRANSACTION START: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 07:58:20.438 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select o1_0.order_id,o1_0.created_at,o1_0.notes,o1_0.order_date,o1_0.payment_method,o1_0.payment_status,o1_0.shipping_address,o1_0.status,o1_0.total_amount,o1_0.updated_at,o1_0.user_id from orders o1_0 where 1=1 order by o1_0.order_date desc offset ? rows fetch first ? rows only
2026-02-17 07:58:20.441 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:20.442 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:20.444 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:58:20.445 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id = any (?)
2026-02-17 07:58:20.447 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:20.448 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:20.450 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:58:20.451 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:20.451 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:20.452 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:20.454 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:20.454 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:20.456 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:20.456 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:58:20.459 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 07:58:20.461 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:20.462 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:20.463 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:20.464 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:58:20.466 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 07:58:20.467 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:20.467 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:20.469 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:58:20.470 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:20.471 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:20.471 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:20.472 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:20.472 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:20.473 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:58:20.474 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:20.475 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:20.477 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:58:20.478 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:20.478 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:20.479 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:58:20.479] TRANSACTION COMMIT: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 07:58:20.479 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:58:20.479] EXITING: OrderServiceImpl.getOrders returned: PageImpl
2026-02-17 07:58:20.480 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1984296372 wrapping org.postgresql.jdbc.PgConnection@3f213e97]
2026-02-17 07:58:22.164 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - DATA MODIFICATION STARTED: OrderServiceImpl.updateOrderStatus(Integer, OrderStatus) with arguments: [25, SHIPPED]
2026-02-17 07:58:22.164 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:58:22.164] ENTERING: OrderServiceImpl.updateOrderStatus with arguments: [25, SHIPPED]
2026-02-17 07:58:22.165 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:58:22.164] TRANSACTIONAL DATA MODIFICATION: OrderServiceImpl.updateOrderStatus(Integer, OrderStatus) with arguments: [25, SHIPPED]
2026-02-17 07:58:22.165 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:58:22.165] TRANSACTION START: OrderServiceImpl.updateOrderStatus(Integer, OrderStatus)
2026-02-17 07:58:22.165 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:58:22.165] TRANSACTION START: OrderServiceImpl.updateOrderStatus(Integer, OrderStatus)
2026-02-17 07:58:22.166 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select o1_0.order_id,o1_0.created_at,o1_0.notes,o1_0.order_date,o1_0.payment_method,o1_0.payment_status,o1_0.shipping_address,o1_0.status,o1_0.total_amount,o1_0.updated_at,o1_0.user_id from orders o1_0 where o1_0.order_id=?
2026-02-17 07:58:22.167 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:22.168 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:22.169 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:58:22.170 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id=?
2026-02-17 07:58:22.171 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:58:22.171] TRANSACTION COMMIT: OrderServiceImpl.updateOrderStatus(Integer, OrderStatus)
2026-02-17 07:58:22.171 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:58:22.171] TRANSACTION COMMIT: OrderServiceImpl.updateOrderStatus(Integer, OrderStatus)
2026-02-17 07:58:22.171 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:58:22.171] EXITING: OrderServiceImpl.updateOrderStatus returned: OrderResponse
2026-02-17 07:58:22.171 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - DATA MODIFICATION COMPLETED: OrderServiceImpl.updateOrderStatus(Integer, OrderStatus) in 7ms
2026-02-17 07:58:22.173 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - update orders set created_at=?,notes=?,order_date=?,payment_method=?,payment_status=?,shipping_address=?,status=?,total_amount=?,updated_at=?,user_id=? where order_id=?
2026-02-17 07:58:22.175 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.CachingAspect - CACHE INVALIDATED: 1 entries cleared for OrderServiceImpl.updateOrderStatus
2026-02-17 07:58:22.186 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1491304906 wrapping org.postgresql.jdbc.PgConnection@3f213e97] read-only
2026-02-17 07:58:22.186 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:58:22.186] ENTERING: OrderServiceImpl.getOrders with arguments: [null, null, Page request [number: 0, size 20, sort: orderDate: DESC]]
2026-02-17 07:58:22.186 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:58:22.186] TRANSACTION START: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 07:58:22.188 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select o1_0.order_id,o1_0.created_at,o1_0.notes,o1_0.order_date,o1_0.payment_method,o1_0.payment_status,o1_0.shipping_address,o1_0.status,o1_0.total_amount,o1_0.updated_at,o1_0.user_id from orders o1_0 where 1=1 order by o1_0.order_date desc offset ? rows fetch first ? rows only
2026-02-17 07:58:22.191 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:22.191 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:22.192 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:58:22.194 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id = any (?)
2026-02-17 07:58:22.195 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:22.196 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:22.196 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:58:22.198 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:22.198 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:22.199 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:22.201 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:22.201 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:22.203 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:22.204 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:58:22.206 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 07:58:22.208 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:22.208 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:22.210 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:22.211 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:58:22.212 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 07:58:22.213 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:22.214 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:22.215 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:58:22.216 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:22.216 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:22.216 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:22.219 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:22.219 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:22.220 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:58:22.221 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:22.222 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:22.224 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:58:22.226 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:22.226 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:22.227 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:58:22.227] TRANSACTION COMMIT: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 07:58:22.227 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:58:22.227] EXITING: OrderServiceImpl.getOrders returned: PageImpl
2026-02-17 07:58:22.227 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1491304906 wrapping org.postgresql.jdbc.PgConnection@3f213e97]
2026-02-17 07:58:22.258 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@31097574 wrapping org.postgresql.jdbc.PgConnection@3f213e97] read-only
2026-02-17 07:58:22.260 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:58:22.260] ENTERING: OrderServiceImpl.getOrders with arguments: [null, OrderFilter(status=null, paymentStatus=null, startDate=null, endDate=null, minAmount=null, maxAmount=null, searchTerm=null), Page request [number: 0, size 20, sort: orderDate: DESC]]
2026-02-17 07:58:22.260 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:58:22.260] TRANSACTION START: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 07:58:22.261 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select o1_0.order_id,o1_0.created_at,o1_0.notes,o1_0.order_date,o1_0.payment_method,o1_0.payment_status,o1_0.shipping_address,o1_0.status,o1_0.total_amount,o1_0.updated_at,o1_0.user_id from orders o1_0 where 1=1 order by o1_0.order_date desc offset ? rows fetch first ? rows only
2026-02-17 07:58:22.263 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:22.264 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:22.266 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:58:22.267 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id = any (?)
2026-02-17 07:58:22.268 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:22.271 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:22.271 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:58:22.274 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:22.275 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:22.276 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:22.277 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:22.278 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:22.279 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:22.280 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:58:22.282 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 07:58:22.283 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:22.283 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:22.284 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:22.286 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:58:22.287 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 07:58:22.289 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:22.291 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:22.293 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:58:22.293 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:22.293 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:22.295 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:22.297 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:22.298 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:22.298 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:58:22.299 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:22.300 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:22.301 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:58:22.302 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:22.303 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:22.304 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:58:22.304] TRANSACTION COMMIT: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 07:58:22.304 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:58:22.304] EXITING: OrderServiceImpl.getOrders returned: PageImpl
2026-02-17 07:58:22.304 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@31097574 wrapping org.postgresql.jdbc.PgConnection@3f213e97]
2026-02-17 07:58:23.358 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - DATA MODIFICATION STARTED: OrderServiceImpl.updateOrderStatus(Integer, OrderStatus) with arguments: [25, DELIVERED]
2026-02-17 07:58:23.358 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:58:23.358] ENTERING: OrderServiceImpl.updateOrderStatus with arguments: [25, DELIVERED]
2026-02-17 07:58:23.359 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:58:23.359] TRANSACTIONAL DATA MODIFICATION: OrderServiceImpl.updateOrderStatus(Integer, OrderStatus) with arguments: [25, DELIVERED]
2026-02-17 07:58:23.359 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:58:23.359] TRANSACTION START: OrderServiceImpl.updateOrderStatus(Integer, OrderStatus)
2026-02-17 07:58:23.359 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:58:23.359] TRANSACTION START: OrderServiceImpl.updateOrderStatus(Integer, OrderStatus)
2026-02-17 07:58:23.360 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select o1_0.order_id,o1_0.created_at,o1_0.notes,o1_0.order_date,o1_0.payment_method,o1_0.payment_status,o1_0.shipping_address,o1_0.status,o1_0.total_amount,o1_0.updated_at,o1_0.user_id from orders o1_0 where o1_0.order_id=?
2026-02-17 07:58:23.362 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:23.364 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:23.364 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:58:23.364 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id=?
2026-02-17 07:58:23.365 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:58:23.365] TRANSACTION COMMIT: OrderServiceImpl.updateOrderStatus(Integer, OrderStatus)
2026-02-17 07:58:23.365 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:58:23.365] TRANSACTION COMMIT: OrderServiceImpl.updateOrderStatus(Integer, OrderStatus)
2026-02-17 07:58:23.366 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:58:23.365] EXITING: OrderServiceImpl.updateOrderStatus returned: OrderResponse
2026-02-17 07:58:23.366 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - DATA MODIFICATION COMPLETED: OrderServiceImpl.updateOrderStatus(Integer, OrderStatus) in 8ms
2026-02-17 07:58:23.366 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - update orders set created_at=?,notes=?,order_date=?,payment_method=?,payment_status=?,shipping_address=?,status=?,total_amount=?,updated_at=?,user_id=? where order_id=?
2026-02-17 07:58:23.368 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.CachingAspect - CACHE INVALIDATED: 2 entries cleared for OrderServiceImpl.updateOrderStatus
2026-02-17 07:58:23.380 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1764040550 wrapping org.postgresql.jdbc.PgConnection@3f213e97] read-only
2026-02-17 07:58:23.380 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:58:23.380] ENTERING: OrderServiceImpl.getOrders with arguments: [null, null, Page request [number: 0, size 20, sort: orderDate: DESC]]
2026-02-17 07:58:23.381 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:58:23.381] TRANSACTION START: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 07:58:23.382 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select o1_0.order_id,o1_0.created_at,o1_0.notes,o1_0.order_date,o1_0.payment_method,o1_0.payment_status,o1_0.shipping_address,o1_0.status,o1_0.total_amount,o1_0.updated_at,o1_0.user_id from orders o1_0 where 1=1 order by o1_0.order_date desc offset ? rows fetch first ? rows only
2026-02-17 07:58:23.383 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:23.384 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:23.384 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:58:23.384 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id = any (?)
2026-02-17 07:58:23.386 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:23.387 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:23.387 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:58:23.389 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:23.390 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:23.390 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:23.391 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:23.391 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:23.392 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:23.392 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:58:23.394 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 07:58:23.395 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:23.396 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:23.397 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:23.397 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:58:23.398 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 07:58:23.398 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:23.400 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:23.400 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:58:23.401 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:23.401 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:23.403 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:23.404 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:23.406 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:23.407 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:58:23.407 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:23.408 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:23.408 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:58:23.410 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:23.410 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:23.410 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:58:23.410] TRANSACTION COMMIT: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 07:58:23.410 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:58:23.410] EXITING: OrderServiceImpl.getOrders returned: PageImpl
2026-02-17 07:58:23.412 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1764040550 wrapping org.postgresql.jdbc.PgConnection@3f213e97]
2026-02-17 07:58:23.451 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1896667855 wrapping org.postgresql.jdbc.PgConnection@3f213e97] read-only
2026-02-17 07:58:23.451 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:58:23.451] ENTERING: OrderServiceImpl.getOrders with arguments: [null, OrderFilter(status=null, paymentStatus=null, startDate=null, endDate=null, minAmount=null, maxAmount=null, searchTerm=null), Page request [number: 0, size 20, sort: orderDate: DESC]]
2026-02-17 07:58:23.451 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:58:23.451] TRANSACTION START: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 07:58:23.453 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select o1_0.order_id,o1_0.created_at,o1_0.notes,o1_0.order_date,o1_0.payment_method,o1_0.payment_status,o1_0.shipping_address,o1_0.status,o1_0.total_amount,o1_0.updated_at,o1_0.user_id from orders o1_0 where 1=1 order by o1_0.order_date desc offset ? rows fetch first ? rows only
2026-02-17 07:58:23.456 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:23.457 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:23.458 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:58:23.458 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id = any (?)
2026-02-17 07:58:23.460 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:23.461 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:23.462 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:58:23.462 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:23.463 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:23.464 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:23.464 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:23.465 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:23.466 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:23.467 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:58:23.468 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 07:58:23.468 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:23.469 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:23.472 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:23.473 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:58:23.473 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 07:58:23.475 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:23.476 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:23.477 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:58:23.477 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:23.479 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:23.480 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:23.481 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:23.482 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:23.482 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:58:23.483 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:23.484 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:23.485 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:58:23.486 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:23.486 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:23.489 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:58:23.489] TRANSACTION COMMIT: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 07:58:23.490 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:58:23.490] EXITING: OrderServiceImpl.getOrders returned: PageImpl
2026-02-17 07:58:23.490 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1896667855 wrapping org.postgresql.jdbc.PgConnection@3f213e97]
2026-02-17 07:58:29.445 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: UserController.getAllUsers with arguments: []
2026-02-17 07:58:29.445 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint UserController.getAllUsers responded in 0ms
2026-02-17 07:58:29.445 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: UserController.getAllUsers returned: ResponseEntity
2026-02-17 07:58:29.451 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: UserController.getAllUsers with arguments: []
2026-02-17 07:58:29.451 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint UserController.getAllUsers responded in 0ms
2026-02-17 07:58:29.451 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: UserController.getAllUsers returned: ResponseEntity
2026-02-17 07:58:31.438 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: ProductController.getAllProducts with arguments: []
2026-02-17 07:58:31.438 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1538806360 wrapping org.postgresql.jdbc.PgConnection@3f213e97] read-only
2026-02-17 07:58:31.439 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:58:31.439] ENTERING: ProductServiceImpl.getAllProducts with arguments: []
2026-02-17 07:58:31.442 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:58:31.442] TRANSACTION START: ProductServiceImpl.getAllProducts()
2026-02-17 07:58:31.444 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0
2026-02-17 07:58:31.445 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.446 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.447 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.448 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.448 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.448 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.449 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.449 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.450 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.450 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.451 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.451 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.452 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.453 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.453 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.454 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.454 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.454 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.455 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.456 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.457 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.458 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.458 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.458 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.459 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.459 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.461 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.462 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.463 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.464 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.464 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.465 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.465 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.465 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.466 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.467 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.467 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.467 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.468 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.468 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.469 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.469 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.469 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.471 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.472 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.472 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.473 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.474 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.474 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.474 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.475 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.475 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.476 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.476 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.477 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.478 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.479 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.480 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.480 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.481 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.482 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.482 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.482 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.483 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.483 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.484 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.485 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.485 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.485 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.485 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.486 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.487 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.488 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.489 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.489 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.490 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.490 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.492 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.492 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.492 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.493 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.495 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.496 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.496 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.498 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:31.499 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 07:58:31.501 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 07:58:31.502 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:58:31.502] TRANSACTION COMMIT: ProductServiceImpl.getAllProducts()
2026-02-17 07:58:31.503 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:58:31.503] EXITING: ProductServiceImpl.getAllProducts returned: ArrayList
2026-02-17 07:58:31.503 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1538806360 wrapping org.postgresql.jdbc.PgConnection@3f213e97]
2026-02-17 07:58:31.504 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint ProductController.getAllProducts responded in 66ms
2026-02-17 07:58:31.504 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: ProductController.getAllProducts returned: ResponseEntity
2026-02-17 07:58:31.509 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: ProductController.getAllProducts with arguments: []
2026-02-17 07:58:31.509 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint ProductController.getAllProducts responded in 0ms
2026-02-17 07:58:31.509 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: ProductController.getAllProducts returned: ResponseEntity
2026-02-17 07:58:31.516 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: InventoryController.getInventoryBatch with arguments: [[85, 86, 87, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 84, 21, 62, 15, 16, 17, 18, 19, 20, 22, 23, 24, 25, 26, 27, 28, 63, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82]]
2026-02-17 07:58:31.516 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1355855819 wrapping org.postgresql.jdbc.PgConnection@3f213e97] read-only
2026-02-17 07:58:31.517 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:58:31.517] ENTERING: InventoryServiceImpl.getInventoryByProducts with arguments: [[85, 86, 87, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 84, 21, 62, 15, 16, 17, 18, 19, 20, 22, 23, 24, 25, 26, 27, 28, 63, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82]]
2026-02-17 07:58:31.519 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:58:31.519] TRANSACTION START: InventoryServiceImpl.getInventoryByProducts(List)
2026-02-17 07:58:31.529 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id in (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-02-17 07:58:31.535 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:58:31.538 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:58:31.540 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:58:31.542 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:58:31.545 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:58:31.546 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:58:31.546] TRANSACTION COMMIT: InventoryServiceImpl.getInventoryByProducts(List)
2026-02-17 07:58:31.546 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:58:31.546] EXITING: InventoryServiceImpl.getInventoryByProducts returned: ArrayList
2026-02-17 07:58:31.546 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1355855819 wrapping org.postgresql.jdbc.PgConnection@3f213e97]
2026-02-17 07:58:31.546 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint InventoryController.getInventoryBatch responded in 30ms
2026-02-17 07:58:31.546 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: InventoryController.getInventoryBatch returned: ResponseEntity
2026-02-17 07:58:31.553 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: InventoryController.getInventoryBatch with arguments: [[85, 86, 87, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 84, 21, 62, 15, 16, 17, 18, 19, 20, 22, 23, 24, 25, 26, 27, 28, 63, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82]]
2026-02-17 07:58:31.553 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint InventoryController.getInventoryBatch responded in 0ms
2026-02-17 07:58:31.554 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: InventoryController.getInventoryBatch returned: ResponseEntity
2026-02-17 07:58:35.730 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: PerformanceController.getMetrics with arguments: []
2026-02-17 07:58:35.731 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint PerformanceController.getMetrics responded in 1ms
2026-02-17 07:58:35.731 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: PerformanceController.getMetrics returned: ResponseEntity
2026-02-17 07:58:35.732 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: PerformanceController.getCacheStats with arguments: []
2026-02-17 07:58:35.734 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint PerformanceController.getCacheStats responded in 2ms
2026-02-17 07:58:35.734 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: PerformanceController.getCacheStats returned: ResponseEntity
2026-02-17 07:58:35.735 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: PerformanceController.getMetrics with arguments: []
2026-02-17 07:58:35.737 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint PerformanceController.getMetrics responded in 2ms
2026-02-17 07:58:35.737 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: PerformanceController.getMetrics returned: ResponseEntity
2026-02-17 07:58:35.739 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: PerformanceController.getCacheStats with arguments: []
2026-02-17 07:58:35.739 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint PerformanceController.getCacheStats responded in 0ms
2026-02-17 07:58:35.739 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: PerformanceController.getCacheStats returned: ResponseEntity
2026-02-17 07:58:52.333 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: UserController.authenticateUser with arguments: [***REDACTED***]
2026-02-17 07:58:52.334 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1726617710 wrapping org.postgresql.jdbc.PgConnection@3f213e97] read-only
2026-02-17 07:58:52.335 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:58:52.334] ENTERING: UserServiceImpl.authenticateUser with arguments: [jane_smith, ***REDACTED***]
2026-02-17 07:58:52.335 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:58:52.335] TRANSACTION START: UserServiceImpl.authenticateUser(String, String)
2026-02-17 07:58:52.335 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-17 07:58:52.407 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:58:52.407] TRANSACTION COMMIT: UserServiceImpl.authenticateUser(String, String)
2026-02-17 07:58:52.408 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:58:52.408] EXITING: UserServiceImpl.authenticateUser returned: UserResponse
2026-02-17 07:58:52.408 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1726617710 wrapping org.postgresql.jdbc.PgConnection@3f213e97]
2026-02-17 07:58:52.408 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint UserController.authenticateUser responded in 75ms
2026-02-17 07:58:52.408 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: UserController.authenticateUser returned: ResponseEntity
2026-02-17 07:58:52.436 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@479234355 wrapping org.postgresql.jdbc.PgConnection@3f213e97] read-only
2026-02-17 07:58:52.436 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:58:52.436] ENTERING: OrderServiceImpl.getOrders with arguments: [3, null, Page request [number: 0, size 20, sort: orderDate: DESC]]
2026-02-17 07:58:52.436 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:58:52.436] TRANSACTION START: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 07:58:52.439 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select o1_0.order_id,o1_0.created_at,o1_0.notes,o1_0.order_date,o1_0.payment_method,o1_0.payment_status,o1_0.shipping_address,o1_0.status,o1_0.total_amount,o1_0.updated_at,o1_0.user_id from orders o1_0 where o1_0.user_id=? order by o1_0.order_date desc offset ? rows fetch first ? rows only
2026-02-17 07:58:52.444 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:52.445 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:52.446 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:58:52.448 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id=?
2026-02-17 07:58:52.448 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:52.449 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:58:52.451 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:58:52.452 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:52.453 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:58:52.454 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 07:58:52.454 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:52.455 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:52.456 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:52.456 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:58:52.457 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 07:58:52.458 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:52.458 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:52.458 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:58:52.459 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:52.459 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:52.460 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:52.460 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:52.461 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:52.462 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:58:52.462 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:52.464 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:58:52.464 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:58:52.464 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:58:52.465 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:58:52.465] TRANSACTION COMMIT: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 07:58:52.466 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:58:52.466] EXITING: OrderServiceImpl.getOrders returned: PageImpl
2026-02-17 07:58:52.466 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@479234355 wrapping org.postgresql.jdbc.PgConnection@3f213e97]
2026-02-17 07:58:52.469 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@11594456 wrapping org.postgresql.jdbc.PgConnection@3f213e97] read-only
2026-02-17 07:58:52.469 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:58:52.469] ENTERING: CartServiceImpl.getCartItems with arguments: [3]
2026-02-17 07:58:52.472 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:58:52.472] TRANSACTION START: CartServiceImpl.getCartItems(Integer)
2026-02-17 07:58:52.476 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 where ci1_0.user_id=?
2026-02-17 07:58:52.484 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:58:52.484] TRANSACTION COMMIT: CartServiceImpl.getCartItems(Integer)
2026-02-17 07:58:52.486 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:58:52.486] EXITING: CartServiceImpl.getCartItems returned: ArrayList
2026-02-17 07:58:52.486 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@11594456 wrapping org.postgresql.jdbc.PgConnection@3f213e97]
2026-02-17 07:58:52.489 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1769295830 wrapping org.postgresql.jdbc.PgConnection@3f213e97] read-only
2026-02-17 07:58:52.489 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:58:52.489] ENTERING: ReviewServiceImpl.getReviewsByUser with arguments: [3]
2026-02-17 07:58:52.492 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:58:52.492] TRANSACTION START: ReviewServiceImpl.getReviewsByUser(Integer)
2026-02-17 07:58:52.494 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select r1_0.review_id,r1_0.comment,r1_0.created_at,r1_0.helpful_count,r1_0.is_verified_purchase,r1_0.product_id,r1_0.rating,r1_0.title,r1_0.updated_at,r1_0.user_id from reviews r1_0 where r1_0.user_id=?
2026-02-17 07:58:52.504 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:58:52.504] TRANSACTION COMMIT: ReviewServiceImpl.getReviewsByUser(Integer)
2026-02-17 07:58:52.504 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:58:52.504] EXITING: ReviewServiceImpl.getReviewsByUser returned: ArrayList
2026-02-17 07:58:52.505 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1769295830 wrapping org.postgresql.jdbc.PgConnection@3f213e97]
2026-02-17 07:58:58.157 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CategoryController.getAllCategories with arguments: []
2026-02-17 07:58:58.157 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CategoryController.getAllCategories responded in 0ms
2026-02-17 07:58:58.158 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CategoryController.getAllCategories returned: ResponseEntity
2026-02-17 07:58:58.163 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: ProductController.getProductsWithFilters with arguments: [null, null, null, null, null, null, null, true, 0, 8, productName, ASC]
2026-02-17 07:58:58.163 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@839805303 wrapping org.postgresql.jdbc.PgConnection@3f213e97] read-only
2026-02-17 07:58:58.164 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:58:58.164] ENTERING: ProductServiceImpl.getProductsWithFilters with arguments: [com.shopjoy.dto.filter.ProductFilter@5d4ce52a, Page request [number: 0, size 8, sort: productName: ASC], productName, ASC]
2026-02-17 07:58:58.164 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:58:58.164] TRANSACTION START: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-17 07:58:58.166 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CategoryController.getAllCategories with arguments: []
2026-02-17 07:58:58.166 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CategoryController.getAllCategories responded in 0ms
2026-02-17 07:58:58.166 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CategoryController.getAllCategories returned: ResponseEntity
2026-02-17 07:58:58.172 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?) order by p1_0.product_name fetch first ? rows only
2026-02-17 07:58:58.174 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:58.175 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:58.177 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:58.178 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:58.179 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:58.179 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:58.181 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:58.181 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:58.184 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select count(*) from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?)
2026-02-17 07:58:58.186 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 07:58:58.186 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:58:58.186] TRANSACTION COMMIT: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-17 07:58:58.186 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:58:58.186] EXITING: ProductServiceImpl.getProductsWithFilters returned: PageImpl
2026-02-17 07:58:58.187 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@839805303 wrapping org.postgresql.jdbc.PgConnection@3f213e97]
2026-02-17 07:58:58.187 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint ProductController.getProductsWithFilters responded in 24ms
2026-02-17 07:58:58.187 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: ProductController.getProductsWithFilters returned: ResponseEntity
2026-02-17 07:58:58.194 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: ProductController.getProductsWithFilters with arguments: [null, null, null, null, null, null, null, true, 0, 8, productName, ASC]
2026-02-17 07:58:58.195 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@2084945220 wrapping org.postgresql.jdbc.PgConnection@3f213e97] read-only
2026-02-17 07:58:58.195 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:58:58.195] ENTERING: ProductServiceImpl.getProductsWithFilters with arguments: [com.shopjoy.dto.filter.ProductFilter@13235eb0, Page request [number: 0, size 8, sort: productName: ASC], productName, ASC]
2026-02-17 07:58:58.195 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:58:58.195] TRANSACTION START: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-17 07:58:58.196 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?) order by p1_0.product_name fetch first ? rows only
2026-02-17 07:58:58.197 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:58.198 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:58.198 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:58.198 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:58.199 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:58.199 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:58.200 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:58.201 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:58:58.202 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select count(*) from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?)
2026-02-17 07:58:58.204 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 07:58:58.206 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:58:58.205] TRANSACTION COMMIT: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-17 07:58:58.206 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:58:58.206] EXITING: ProductServiceImpl.getProductsWithFilters returned: PageImpl
2026-02-17 07:58:58.206 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@2084945220 wrapping org.postgresql.jdbc.PgConnection@3f213e97]
2026-02-17 07:58:58.207 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint ProductController.getProductsWithFilters responded in 13ms
2026-02-17 07:58:58.207 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: ProductController.getProductsWithFilters returned: ResponseEntity
2026-02-17 07:59:01.509 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.addToCart with arguments: [com.shopjoy.dto.request.AddToCartRequest@4cce7a1f]
2026-02-17 07:59:01.510 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:01.510] ENTERING: CartServiceImpl.addToCart with arguments: [com.shopjoy.dto.request.AddToCartRequest@4cce7a1f]
2026-02-17 07:59:01.510 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:01.510] TRANSACTION START: CartServiceImpl.addToCart(AddToCartRequest)
2026-02-17 07:59:01.510 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:01.510] TRANSACTION START: CartServiceImpl.addToCart(AddToCartRequest)
2026-02-17 07:59:01.512 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:01.512] ENTERING: ProductServiceImpl.getProductById with arguments: [23]
2026-02-17 07:59:01.512 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:01.512] TRANSACTION START: ProductServiceImpl.getProductById(Integer)
2026-02-17 07:59:01.512 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:59:01.514 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:59:01.516 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:01.516] TRANSACTION COMMIT: ProductServiceImpl.getProductById(Integer)
2026-02-17 07:59:01.516 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:01.516] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-02-17 07:59:01.516 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:01.516] ENTERING: InventoryServiceImpl.hasAvailableStock with arguments: [23, 1]
2026-02-17 07:59:01.516 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:01.516] TRANSACTION START: InventoryServiceImpl.hasAvailableStock(Integer, int)
2026-02-17 07:59:01.523 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:59:01.524 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:01.524] TRANSACTION COMMIT: InventoryServiceImpl.hasAvailableStock(Integer, int)
2026-02-17 07:59:01.526 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:01.526] EXITING: InventoryServiceImpl.hasAvailableStock returned: Boolean
2026-02-17 07:59:01.532 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 where ci1_0.user_id=? and ci1_0.product_id=?
2026-02-17 07:59:01.550 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - insert into cart_items (added_at,product_id,quantity,user_id) values (?,?,?,?)
2026-02-17 07:59:01.604 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:01.604] TRANSACTION COMMIT: CartServiceImpl.addToCart(AddToCartRequest)
2026-02-17 07:59:01.604 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:01.604] TRANSACTION COMMIT: CartServiceImpl.addToCart(AddToCartRequest)
2026-02-17 07:59:01.604 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:01.604] EXITING: CartServiceImpl.addToCart returned: CartItemResponse
2026-02-17 07:59:01.607 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.CachingAspect - CACHE INVALIDATED: 1 entries cleared for CartServiceImpl.addToCart
2026-02-17 07:59:01.607 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.addToCart responded in 98ms
2026-02-17 07:59:01.607 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.addToCart returned: ResponseEntity
2026-02-17 07:59:04.535 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.addToCart with arguments: [com.shopjoy.dto.request.AddToCartRequest@58493913]
2026-02-17 07:59:04.536 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:04.536] ENTERING: CartServiceImpl.addToCart with arguments: [com.shopjoy.dto.request.AddToCartRequest@58493913]
2026-02-17 07:59:04.536 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:04.536] TRANSACTION START: CartServiceImpl.addToCart(AddToCartRequest)
2026-02-17 07:59:04.536 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:04.536] TRANSACTION START: CartServiceImpl.addToCart(AddToCartRequest)
2026-02-17 07:59:04.537 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:04.537] ENTERING: ProductServiceImpl.getProductById with arguments: [70]
2026-02-17 07:59:04.537 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:04.537] TRANSACTION START: ProductServiceImpl.getProductById(Integer)
2026-02-17 07:59:04.539 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:59:04.540 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:59:04.541 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:04.541] TRANSACTION COMMIT: ProductServiceImpl.getProductById(Integer)
2026-02-17 07:59:04.541 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:04.541] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-02-17 07:59:04.542 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:04.542] ENTERING: InventoryServiceImpl.hasAvailableStock with arguments: [70, 1]
2026-02-17 07:59:04.542 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:04.542] TRANSACTION START: InventoryServiceImpl.hasAvailableStock(Integer, int)
2026-02-17 07:59:04.544 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:59:04.545 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:04.545] TRANSACTION COMMIT: InventoryServiceImpl.hasAvailableStock(Integer, int)
2026-02-17 07:59:04.546 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:04.546] EXITING: InventoryServiceImpl.hasAvailableStock returned: Boolean
2026-02-17 07:59:04.547 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 where ci1_0.user_id=? and ci1_0.product_id=?
2026-02-17 07:59:04.550 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - insert into cart_items (added_at,product_id,quantity,user_id) values (?,?,?,?)
2026-02-17 07:59:04.552 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:04.552] TRANSACTION COMMIT: CartServiceImpl.addToCart(AddToCartRequest)
2026-02-17 07:59:04.553 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:04.553] TRANSACTION COMMIT: CartServiceImpl.addToCart(AddToCartRequest)
2026-02-17 07:59:04.553 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:04.553] EXITING: CartServiceImpl.addToCart returned: CartItemResponse
2026-02-17 07:59:04.554 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.addToCart responded in 19ms
2026-02-17 07:59:04.554 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.addToCart returned: ResponseEntity
2026-02-17 07:59:07.227 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.getCartItems with arguments: [3]
2026-02-17 07:59:07.228 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1346689877 wrapping org.postgresql.jdbc.PgConnection@3f213e97] read-only
2026-02-17 07:59:07.228 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.getCartTotal with arguments: [3]
2026-02-17 07:59:07.228 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:07.228] ENTERING: CartServiceImpl.getCartItems with arguments: [3]
2026-02-17 07:59:07.228 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:07.228] TRANSACTION START: CartServiceImpl.getCartItems(Integer)
2026-02-17 07:59:07.229 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1609795169 wrapping org.postgresql.jdbc.PgConnection@5f245bab] read-only
2026-02-17 07:59:07.229 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:07.229] ENTERING: CartServiceImpl.getCartTotal with arguments: [3]
2026-02-17 07:59:07.230 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:07.230] TRANSACTION START: CartServiceImpl.getCartTotal(Integer)
2026-02-17 07:59:07.230 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 where ci1_0.user_id=?
2026-02-17 07:59:07.233 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:59:07.235 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 where ci1_0.user_id=?
2026-02-17 07:59:07.236 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:07.236] TRANSACTION COMMIT: CartServiceImpl.getCartItems(Integer)
2026-02-17 07:59:07.236 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:07.236] EXITING: CartServiceImpl.getCartItems returned: ArrayList
2026-02-17 07:59:07.236 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1346689877 wrapping org.postgresql.jdbc.PgConnection@3f213e97]
2026-02-17 07:59:07.236 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.getCartItems responded in 9ms
2026-02-17 07:59:07.237 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.getCartItems returned: ResponseEntity
2026-02-17 07:59:07.239 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:59:07.242 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.getCartItems with arguments: [3]
2026-02-17 07:59:07.242 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.getCartItems responded in 0ms
2026-02-17 07:59:07.242 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.getCartItems returned: ResponseEntity
2026-02-17 07:59:07.256 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:07.256] TRANSACTION COMMIT: CartServiceImpl.getCartTotal(Integer)
2026-02-17 07:59:07.257 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:07.257] EXITING: CartServiceImpl.getCartTotal returned: Double
2026-02-17 07:59:07.257 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1609795169 wrapping org.postgresql.jdbc.PgConnection@5f245bab]
2026-02-17 07:59:07.258 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.getCartTotal responded in 30ms
2026-02-17 07:59:07.258 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.getCartTotal returned: ResponseEntity
2026-02-17 07:59:07.264 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.getCartTotal with arguments: [3]
2026-02-17 07:59:07.265 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.getCartTotal responded in 0ms
2026-02-17 07:59:07.265 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.getCartTotal returned: ResponseEntity
2026-02-17 07:59:08.852 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CategoryController.getAllCategories with arguments: []
2026-02-17 07:59:08.852 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CategoryController.getAllCategories responded in 0ms
2026-02-17 07:59:08.852 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CategoryController.getAllCategories returned: ResponseEntity
2026-02-17 07:59:08.852 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: ProductController.getProductsWithFilters with arguments: [null, null, null, null, null, null, null, true, 0, 8, productName, ASC]
2026-02-17 07:59:08.854 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@480124670 wrapping org.postgresql.jdbc.PgConnection@3f213e97] read-only
2026-02-17 07:59:08.854 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:08.854] ENTERING: ProductServiceImpl.getProductsWithFilters with arguments: [com.shopjoy.dto.filter.ProductFilter@4f7a1a65, Page request [number: 0, size 8, sort: productName: ASC], productName, ASC]
2026-02-17 07:59:08.855 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:08.855] TRANSACTION START: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-17 07:59:08.856 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?) order by p1_0.product_name fetch first ? rows only
2026-02-17 07:59:08.857 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:59:08.858 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CategoryController.getAllCategories with arguments: []
2026-02-17 07:59:08.859 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CategoryController.getAllCategories responded in 1ms
2026-02-17 07:59:08.859 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CategoryController.getAllCategories returned: ResponseEntity
2026-02-17 07:59:08.859 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:59:08.860 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:59:08.861 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:59:08.862 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:59:08.864 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:59:08.864 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:59:08.865 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:59:08.867 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select count(*) from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?)
2026-02-17 07:59:08.868 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 07:59:08.871 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:08.871] TRANSACTION COMMIT: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-17 07:59:08.871 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:08.871] EXITING: ProductServiceImpl.getProductsWithFilters returned: PageImpl
2026-02-17 07:59:08.871 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@480124670 wrapping org.postgresql.jdbc.PgConnection@3f213e97]
2026-02-17 07:59:08.871 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint ProductController.getProductsWithFilters responded in 19ms
2026-02-17 07:59:08.871 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: ProductController.getProductsWithFilters returned: ResponseEntity
2026-02-17 07:59:08.875 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: ProductController.getProductsWithFilters with arguments: [null, null, null, null, null, null, null, true, 0, 8, productName, ASC]
2026-02-17 07:59:08.876 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@53031540 wrapping org.postgresql.jdbc.PgConnection@3f213e97] read-only
2026-02-17 07:59:08.876 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:08.876] ENTERING: ProductServiceImpl.getProductsWithFilters with arguments: [com.shopjoy.dto.filter.ProductFilter@45c8b2ed, Page request [number: 0, size 8, sort: productName: ASC], productName, ASC]
2026-02-17 07:59:08.876 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:08.876] TRANSACTION START: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-17 07:59:08.876 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?) order by p1_0.product_name fetch first ? rows only
2026-02-17 07:59:08.879 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:59:08.880 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:59:08.880 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:59:08.881 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:59:08.881 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:59:08.882 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:59:08.882 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:59:08.883 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:59:08.886 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select count(*) from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?)
2026-02-17 07:59:08.887 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 07:59:08.888 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:08.888] TRANSACTION COMMIT: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-17 07:59:08.888 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:08.888] EXITING: ProductServiceImpl.getProductsWithFilters returned: PageImpl
2026-02-17 07:59:08.888 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@53031540 wrapping org.postgresql.jdbc.PgConnection@3f213e97]
2026-02-17 07:59:08.889 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint ProductController.getProductsWithFilters responded in 14ms
2026-02-17 07:59:08.889 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: ProductController.getProductsWithFilters returned: ResponseEntity
2026-02-17 07:59:11.422 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: ReviewController.getReviewsByProduct with arguments: [23]
2026-02-17 07:59:11.429 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@120442630 wrapping org.postgresql.jdbc.PgConnection@3f213e97] read-only
2026-02-17 07:59:11.430 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:11.430] ENTERING: ReviewServiceImpl.getReviewsByProduct with arguments: [23]
2026-02-17 07:59:11.431 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:11.431] TRANSACTION START: ReviewServiceImpl.getReviewsByProduct(Integer)
2026-02-17 07:59:11.434 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select r1_0.review_id,r1_0.comment,r1_0.created_at,r1_0.helpful_count,r1_0.is_verified_purchase,r1_0.product_id,r1_0.rating,r1_0.title,r1_0.updated_at,r1_0.user_id from reviews r1_0 where r1_0.product_id=?
2026-02-17 07:59:11.437 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:11.437] TRANSACTION COMMIT: ReviewServiceImpl.getReviewsByProduct(Integer)
2026-02-17 07:59:11.437 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:11.437] EXITING: ReviewServiceImpl.getReviewsByProduct returned: ArrayList
2026-02-17 07:59:11.437 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@120442630 wrapping org.postgresql.jdbc.PgConnection@3f213e97]
2026-02-17 07:59:11.438 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint ReviewController.getReviewsByProduct responded in 16ms
2026-02-17 07:59:11.438 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: ReviewController.getReviewsByProduct returned: ResponseEntity
2026-02-17 07:59:11.448 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: ReviewController.getReviewsByProduct with arguments: [23]
2026-02-17 07:59:11.448 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint ReviewController.getReviewsByProduct responded in 0ms
2026-02-17 07:59:11.448 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: ReviewController.getReviewsByProduct returned: ResponseEntity
2026-02-17 07:59:27.133 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: ReviewController.createReview with arguments: [com.shopjoy.dto.request.CreateReviewRequest@5367541b]
2026-02-17 07:59:27.134 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - DATA MODIFICATION STARTED: ReviewServiceImpl.createReview(CreateReviewRequest) with arguments: [com.shopjoy.dto.request.CreateReviewRequest@5367541b]
2026-02-17 07:59:27.134 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:27.134] ENTERING: ReviewServiceImpl.createReview with arguments: [com.shopjoy.dto.request.CreateReviewRequest@5367541b]
2026-02-17 07:59:27.134 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:27.134] TRANSACTIONAL DATA MODIFICATION: ReviewServiceImpl.createReview(CreateReviewRequest) with arguments: [com.shopjoy.dto.request.CreateReviewRequest@5367541b]
2026-02-17 07:59:27.134 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:27.134] TRANSACTION START: ReviewServiceImpl.createReview(CreateReviewRequest)
2026-02-17 07:59:27.134 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:27.134] TRANSACTION START: ReviewServiceImpl.createReview(CreateReviewRequest)
2026-02-17 07:59:27.140 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select r1_0.review_id from reviews r1_0 where r1_0.user_id=? and r1_0.product_id=? fetch first ? rows only
2026-02-17 07:59:27.149 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select case when count(oi1_0.order_item_id)>0 then true else false end from order_items oi1_0 join orders o1_0 on o1_0.order_id=oi1_0.order_id where o1_0.user_id=? and oi1_0.product_id=? and o1_0.status<>'CANCELLED'
2026-02-17 07:59:27.152 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - insert into reviews (comment,created_at,helpful_count,is_verified_purchase,product_id,rating,title,updated_at,user_id) values (?,?,?,?,?,?,?,?,?)
2026-02-17 07:59:27.171 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:59:27.171 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id=?
2026-02-17 07:59:27.173 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:27.173] TRANSACTION COMMIT: ReviewServiceImpl.createReview(CreateReviewRequest)
2026-02-17 07:59:27.173 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:27.173] TRANSACTION COMMIT: ReviewServiceImpl.createReview(CreateReviewRequest)
2026-02-17 07:59:27.175 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:27.175] EXITING: ReviewServiceImpl.createReview returned: ReviewResponse
2026-02-17 07:59:27.175 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - DATA MODIFICATION COMPLETED: ReviewServiceImpl.createReview(CreateReviewRequest) in 41ms
2026-02-17 07:59:27.175 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.CachingAspect - CACHE INVALIDATED: 2 entries cleared for ReviewServiceImpl.createReview
2026-02-17 07:59:27.176 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint ReviewController.createReview responded in 43ms
2026-02-17 07:59:27.176 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: ReviewController.createReview returned: ResponseEntity
2026-02-17 07:59:27.182 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: ReviewController.getReviewsByProduct with arguments: [23]
2026-02-17 07:59:27.183 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@561921208 wrapping org.postgresql.jdbc.PgConnection@3f213e97] read-only
2026-02-17 07:59:27.183 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:27.183] ENTERING: ReviewServiceImpl.getReviewsByProduct with arguments: [23]
2026-02-17 07:59:27.183 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:27.183] TRANSACTION START: ReviewServiceImpl.getReviewsByProduct(Integer)
2026-02-17 07:59:27.184 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select r1_0.review_id,r1_0.comment,r1_0.created_at,r1_0.helpful_count,r1_0.is_verified_purchase,r1_0.product_id,r1_0.rating,r1_0.title,r1_0.updated_at,r1_0.user_id from reviews r1_0 where r1_0.product_id=?
2026-02-17 07:59:27.185 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:59:27.186 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id=?
2026-02-17 07:59:27.186 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:27.186] TRANSACTION COMMIT: ReviewServiceImpl.getReviewsByProduct(Integer)
2026-02-17 07:59:27.186 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:27.186] EXITING: ReviewServiceImpl.getReviewsByProduct returned: ArrayList
2026-02-17 07:59:27.187 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@561921208 wrapping org.postgresql.jdbc.PgConnection@3f213e97]
2026-02-17 07:59:27.187 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint ReviewController.getReviewsByProduct responded in 5ms
2026-02-17 07:59:27.187 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: ReviewController.getReviewsByProduct returned: ResponseEntity
2026-02-17 07:59:32.544 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.getCartItems with arguments: [3]
2026-02-17 07:59:32.544 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.getCartTotal with arguments: [3]
2026-02-17 07:59:32.545 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.getCartItems responded in 1ms
2026-02-17 07:59:32.545 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.getCartItems returned: ResponseEntity
2026-02-17 07:59:32.545 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.getCartTotal responded in 1ms
2026-02-17 07:59:32.546 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.getCartTotal returned: ResponseEntity
2026-02-17 07:59:32.553 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.getCartItems with arguments: [3]
2026-02-17 07:59:32.554 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.getCartItems responded in 0ms
2026-02-17 07:59:32.554 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.getCartItems returned: ResponseEntity
2026-02-17 07:59:32.554 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.getCartTotal with arguments: [3]
2026-02-17 07:59:32.554 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.getCartTotal responded in 0ms
2026-02-17 07:59:32.554 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.getCartTotal returned: ResponseEntity
2026-02-17 07:59:33.715 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.updateCartItemQuantity with arguments: [39, 2]
2026-02-17 07:59:33.716 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - DATA MODIFICATION STARTED: CartServiceImpl.updateCartItemQuantity(Integer, int) with arguments: [39, 2]
2026-02-17 07:59:33.716 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:33.716] ENTERING: CartServiceImpl.updateCartItemQuantity with arguments: [39, 2]
2026-02-17 07:59:33.717 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:33.717] TRANSACTIONAL DATA MODIFICATION: CartServiceImpl.updateCartItemQuantity(Integer, int) with arguments: [39, 2]
2026-02-17 07:59:33.717 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:33.717] TRANSACTION START: CartServiceImpl.updateCartItemQuantity(Integer, int)
2026-02-17 07:59:33.717 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:33.717] TRANSACTION START: CartServiceImpl.updateCartItemQuantity(Integer, int)
2026-02-17 07:59:33.719 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 join products p1_0 on p1_0.product_id=ci1_0.product_id left join inventory i1_0 on p1_0.product_id=i1_0.product_id where ci1_0.cart_item_id=?
2026-02-17 07:59:33.722 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:33.722] ENTERING: InventoryServiceImpl.hasAvailableStock with arguments: [23, 2]
2026-02-17 07:59:33.722 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:33.722] TRANSACTION START: InventoryServiceImpl.hasAvailableStock(Integer, int)
2026-02-17 07:59:33.724 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:59:33.725 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:33.725] TRANSACTION COMMIT: InventoryServiceImpl.hasAvailableStock(Integer, int)
2026-02-17 07:59:33.725 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:33.725] EXITING: InventoryServiceImpl.hasAvailableStock returned: Boolean
2026-02-17 07:59:33.726 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:33.726] TRANSACTION COMMIT: CartServiceImpl.updateCartItemQuantity(Integer, int)
2026-02-17 07:59:33.726 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:33.726] TRANSACTION COMMIT: CartServiceImpl.updateCartItemQuantity(Integer, int)
2026-02-17 07:59:33.726 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:33.726] EXITING: CartServiceImpl.updateCartItemQuantity returned: CartItemResponse
2026-02-17 07:59:33.726 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - DATA MODIFICATION COMPLETED: CartServiceImpl.updateCartItemQuantity(Integer, int) in 10ms
2026-02-17 07:59:33.726 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - update cart_items set product_id=?,quantity=?,user_id=? where cart_item_id=?
2026-02-17 07:59:33.727 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.CachingAspect - CACHE INVALIDATED: 2 entries cleared for CartServiceImpl.updateCartItemQuantity
2026-02-17 07:59:33.729 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.updateCartItemQuantity responded in 12ms
2026-02-17 07:59:33.729 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.updateCartItemQuantity returned: ResponseEntity
2026-02-17 07:59:33.735 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.getCartItems with arguments: [3]
2026-02-17 07:59:33.735 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.getCartTotal with arguments: [3]
2026-02-17 07:59:33.735 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@2105983159 wrapping org.postgresql.jdbc.PgConnection@3f213e97] read-only
2026-02-17 07:59:33.735 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:33.735] ENTERING: CartServiceImpl.getCartItems with arguments: [3]
2026-02-17 07:59:33.736 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:33.736] TRANSACTION START: CartServiceImpl.getCartItems(Integer)
2026-02-17 07:59:33.736 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1619516279 wrapping org.postgresql.jdbc.PgConnection@5f245bab] read-only
2026-02-17 07:59:33.736 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:33.736] ENTERING: CartServiceImpl.getCartTotal with arguments: [3]
2026-02-17 07:59:33.736 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:33.736] TRANSACTION START: CartServiceImpl.getCartTotal(Integer)
2026-02-17 07:59:33.736 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 where ci1_0.user_id=?
2026-02-17 07:59:33.736 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 where ci1_0.user_id=?
2026-02-17 07:59:33.737 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:59:33.737 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:59:33.738 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:33.738] TRANSACTION COMMIT: CartServiceImpl.getCartItems(Integer)
2026-02-17 07:59:33.738 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:33.738] EXITING: CartServiceImpl.getCartItems returned: ArrayList
2026-02-17 07:59:33.739 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:33.739] TRANSACTION COMMIT: CartServiceImpl.getCartTotal(Integer)
2026-02-17 07:59:33.739 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@2105983159 wrapping org.postgresql.jdbc.PgConnection@3f213e97]
2026-02-17 07:59:33.739 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:33.739] EXITING: CartServiceImpl.getCartTotal returned: Double
2026-02-17 07:59:33.739 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.getCartItems responded in 4ms
2026-02-17 07:59:33.739 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.getCartItems returned: ResponseEntity
2026-02-17 07:59:33.739 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1619516279 wrapping org.postgresql.jdbc.PgConnection@5f245bab]
2026-02-17 07:59:33.739 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.getCartTotal responded in 4ms
2026-02-17 07:59:33.739 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.getCartTotal returned: ResponseEntity
2026-02-17 07:59:34.063 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.updateCartItemQuantity with arguments: [40, 2]
2026-02-17 07:59:34.064 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - DATA MODIFICATION STARTED: CartServiceImpl.updateCartItemQuantity(Integer, int) with arguments: [40, 2]
2026-02-17 07:59:34.064 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:34.064] ENTERING: CartServiceImpl.updateCartItemQuantity with arguments: [40, 2]
2026-02-17 07:59:34.064 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:34.064] TRANSACTIONAL DATA MODIFICATION: CartServiceImpl.updateCartItemQuantity(Integer, int) with arguments: [40, 2]
2026-02-17 07:59:34.065 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:34.065] TRANSACTION START: CartServiceImpl.updateCartItemQuantity(Integer, int)
2026-02-17 07:59:34.065 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:34.065] TRANSACTION START: CartServiceImpl.updateCartItemQuantity(Integer, int)
2026-02-17 07:59:34.065 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 join products p1_0 on p1_0.product_id=ci1_0.product_id left join inventory i1_0 on p1_0.product_id=i1_0.product_id where ci1_0.cart_item_id=?
2026-02-17 07:59:34.067 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:34.067] ENTERING: InventoryServiceImpl.hasAvailableStock with arguments: [70, 2]
2026-02-17 07:59:34.067 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:34.067] TRANSACTION START: InventoryServiceImpl.hasAvailableStock(Integer, int)
2026-02-17 07:59:34.067 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:59:34.068 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:34.068] TRANSACTION COMMIT: InventoryServiceImpl.hasAvailableStock(Integer, int)
2026-02-17 07:59:34.068 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:34.068] EXITING: InventoryServiceImpl.hasAvailableStock returned: Boolean
2026-02-17 07:59:34.068 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:34.068] TRANSACTION COMMIT: CartServiceImpl.updateCartItemQuantity(Integer, int)
2026-02-17 07:59:34.068 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:34.068] TRANSACTION COMMIT: CartServiceImpl.updateCartItemQuantity(Integer, int)
2026-02-17 07:59:34.068 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:34.068] EXITING: CartServiceImpl.updateCartItemQuantity returned: CartItemResponse
2026-02-17 07:59:34.068 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - DATA MODIFICATION COMPLETED: CartServiceImpl.updateCartItemQuantity(Integer, int) in 4ms
2026-02-17 07:59:34.069 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - update cart_items set product_id=?,quantity=?,user_id=? where cart_item_id=?
2026-02-17 07:59:34.077 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.CachingAspect - CACHE INVALIDATED: 2 entries cleared for CartServiceImpl.updateCartItemQuantity
2026-02-17 07:59:34.077 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.updateCartItemQuantity responded in 14ms
2026-02-17 07:59:34.077 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.updateCartItemQuantity returned: ResponseEntity
2026-02-17 07:59:34.082 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.getCartItems with arguments: [3]
2026-02-17 07:59:34.082 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.getCartTotal with arguments: [3]
2026-02-17 07:59:34.082 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1372810222 wrapping org.postgresql.jdbc.PgConnection@3f213e97] read-only
2026-02-17 07:59:34.082 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1500508893 wrapping org.postgresql.jdbc.PgConnection@5f245bab] read-only
2026-02-17 07:59:34.082 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:34.082] ENTERING: CartServiceImpl.getCartTotal with arguments: [3]
2026-02-17 07:59:34.082 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:34.082] ENTERING: CartServiceImpl.getCartItems with arguments: [3]
2026-02-17 07:59:34.082 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:34.082] TRANSACTION START: CartServiceImpl.getCartTotal(Integer)
2026-02-17 07:59:34.082 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:34.082] TRANSACTION START: CartServiceImpl.getCartItems(Integer)
2026-02-17 07:59:34.082 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 where ci1_0.user_id=?
2026-02-17 07:59:34.082 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 where ci1_0.user_id=?
2026-02-17 07:59:34.083 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:59:34.083 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:59:34.084 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:34.084] TRANSACTION COMMIT: CartServiceImpl.getCartItems(Integer)
2026-02-17 07:59:34.084 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:34.084] TRANSACTION COMMIT: CartServiceImpl.getCartTotal(Integer)
2026-02-17 07:59:34.084 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:34.084] EXITING: CartServiceImpl.getCartItems returned: ArrayList
2026-02-17 07:59:34.084 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:34.084] EXITING: CartServiceImpl.getCartTotal returned: Double
2026-02-17 07:59:34.084 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1372810222 wrapping org.postgresql.jdbc.PgConnection@3f213e97]
2026-02-17 07:59:34.084 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1500508893 wrapping org.postgresql.jdbc.PgConnection@5f245bab]
2026-02-17 07:59:34.084 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.getCartTotal responded in 2ms
2026-02-17 07:59:34.084 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.getCartTotal returned: ResponseEntity
2026-02-17 07:59:34.084 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.getCartItems responded in 2ms
2026-02-17 07:59:34.084 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.getCartItems returned: ResponseEntity
2026-02-17 07:59:35.865 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: OrderController.createOrder with arguments: [com.shopjoy.dto.request.CreateOrderRequest@24ed283e]
2026-02-17 07:59:35.865 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Changing isolation level of JDBC Connection [HikariProxyConnection@1021969526 wrapping org.postgresql.jdbc.PgConnection@3f213e97] to 8
2026-02-17 07:59:35.873 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - DATA MODIFICATION STARTED: OrderServiceImpl.createOrder(CreateOrderRequest) with arguments: [com.shopjoy.dto.request.CreateOrderRequest@24ed283e]
2026-02-17 07:59:35.874 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:35.874] ENTERING: OrderServiceImpl.createOrder with arguments: [com.shopjoy.dto.request.CreateOrderRequest@24ed283e]
2026-02-17 07:59:35.874 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:35.874] TRANSACTIONAL DATA MODIFICATION: OrderServiceImpl.createOrder(CreateOrderRequest) with arguments: [com.shopjoy.dto.request.CreateOrderRequest@24ed283e]
2026-02-17 07:59:35.874 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:35.874] TRANSACTION START: OrderServiceImpl.createOrder(CreateOrderRequest)
2026-02-17 07:59:35.874 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:35.874] TRANSACTION START: OrderServiceImpl.createOrder(CreateOrderRequest)
2026-02-17 07:59:35.874 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:35.874] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-02-17 07:59:35.877 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:35.877] TRANSACTION START: UserServiceImpl.getUserById(Integer)
2026-02-17 07:59:35.877 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id=?
2026-02-17 07:59:35.879 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:35.879] TRANSACTION COMMIT: UserServiceImpl.getUserById(Integer)
2026-02-17 07:59:35.879 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:35.879] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-02-17 07:59:35.879 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:35.879] ENTERING: ProductServiceImpl.getProductById with arguments: [39]
2026-02-17 07:59:35.879 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:35.879] TRANSACTION START: ProductServiceImpl.getProductById(Integer)
2026-02-17 07:59:35.880 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:59:35.881 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:59:35.881 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:35.881] TRANSACTION COMMIT: ProductServiceImpl.getProductById(Integer)
2026-02-17 07:59:35.881 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:35.881] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-02-17 07:59:35.882 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:35.882] ENTERING: ProductServiceImpl.getProductById with arguments: [40]
2026-02-17 07:59:35.882 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:35.882] TRANSACTION START: ProductServiceImpl.getProductById(Integer)
2026-02-17 07:59:35.883 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:59:35.883 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:35.883] TRANSACTION COMMIT: ProductServiceImpl.getProductById(Integer)
2026-02-17 07:59:35.883 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:35.883] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-02-17 07:59:35.884 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:35.884] ENTERING: InventoryServiceImpl.hasAvailableStock with arguments: [39, 2]
2026-02-17 07:59:35.884 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:35.884] TRANSACTION START: InventoryServiceImpl.hasAvailableStock(Integer, int)
2026-02-17 07:59:35.885 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:59:35.886 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:35.885] TRANSACTION COMMIT: InventoryServiceImpl.hasAvailableStock(Integer, int)
2026-02-17 07:59:35.886 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:35.886] EXITING: InventoryServiceImpl.hasAvailableStock returned: Boolean
2026-02-17 07:59:35.886 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:35.886] ENTERING: InventoryServiceImpl.hasAvailableStock with arguments: [40, 2]
2026-02-17 07:59:35.886 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:35.886] TRANSACTION START: InventoryServiceImpl.hasAvailableStock(Integer, int)
2026-02-17 07:59:35.886 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:59:35.887 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:35.887] TRANSACTION COMMIT: InventoryServiceImpl.hasAvailableStock(Integer, int)
2026-02-17 07:59:35.887 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:35.887] EXITING: InventoryServiceImpl.hasAvailableStock returned: Boolean
2026-02-17 07:59:35.887 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:35.887] ENTERING: InventoryServiceImpl.reserveStock with arguments: [39, 2]
2026-02-17 07:59:35.887 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:35.887] TRANSACTION START: InventoryServiceImpl.reserveStock(Integer, int)
2026-02-17 07:59:35.887 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:35.887] TRANSACTION START: InventoryServiceImpl.reserveStock(Integer, int)
2026-02-17 07:59:35.891 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:59:35.892 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:35.892] TRANSACTION COMMIT: InventoryServiceImpl.reserveStock(Integer, int)
2026-02-17 07:59:35.892 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:35.892] TRANSACTION COMMIT: InventoryServiceImpl.reserveStock(Integer, int)
2026-02-17 07:59:35.894 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:35.894] EXITING: InventoryServiceImpl.reserveStock returned: void
2026-02-17 07:59:35.894 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:35.894] ENTERING: InventoryServiceImpl.reserveStock with arguments: [40, 2]
2026-02-17 07:59:35.894 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:35.894] TRANSACTION START: InventoryServiceImpl.reserveStock(Integer, int)
2026-02-17 07:59:35.894 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:35.894] TRANSACTION START: InventoryServiceImpl.reserveStock(Integer, int)
2026-02-17 07:59:35.895 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - update inventory set last_restocked=?,product_id=?,quantity_in_stock=?,reorder_level=?,updated_at=?,warehouse_location=? where inventory_id=?
2026-02-17 07:59:35.896 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:59:35.897 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:35.897] TRANSACTION COMMIT: InventoryServiceImpl.reserveStock(Integer, int)
2026-02-17 07:59:35.898 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:35.898] TRANSACTION COMMIT: InventoryServiceImpl.reserveStock(Integer, int)
2026-02-17 07:59:35.898 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:35.898] EXITING: InventoryServiceImpl.reserveStock returned: void
2026-02-17 07:59:35.898 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - insert into orders (created_at,notes,order_date,payment_method,payment_status,shipping_address,status,total_amount,updated_at,user_id) values (?,?,?,?,?,?,?,?,?,?)
2026-02-17 07:59:35.916 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - insert into order_items (created_at,order_id,product_id,quantity,subtotal,unit_price) values (?,?,?,?,?,?)
2026-02-17 07:59:35.920 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - insert into order_items (created_at,order_id,product_id,quantity,subtotal,unit_price) values (?,?,?,?,?,?)
2026-02-17 07:59:35.921 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:35.921] TRANSACTION COMMIT: OrderServiceImpl.createOrder(CreateOrderRequest)
2026-02-17 07:59:35.921 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:35.921] TRANSACTION COMMIT: OrderServiceImpl.createOrder(CreateOrderRequest)
2026-02-17 07:59:35.922 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:35.922] EXITING: OrderServiceImpl.createOrder returned: OrderResponse
2026-02-17 07:59:35.922 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - DATA MODIFICATION COMPLETED: OrderServiceImpl.createOrder(CreateOrderRequest) in 49ms
2026-02-17 07:59:35.926 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - update inventory set last_restocked=?,product_id=?,quantity_in_stock=?,reorder_level=?,updated_at=?,warehouse_location=? where inventory_id=?
2026-02-17 07:59:35.930 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting isolation level of JDBC Connection [HikariProxyConnection@1021969526 wrapping org.postgresql.jdbc.PgConnection@3f213e97] to 2
2026-02-17 07:59:35.931 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.CachingAspect - CACHE INVALIDATED: 3 entries cleared for OrderServiceImpl.createOrder
2026-02-17 07:59:35.931 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint OrderController.createOrder responded in 66ms
2026-02-17 07:59:35.931 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: OrderController.createOrder returned: ResponseEntity
2026-02-17 07:59:35.936 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.clearCart with arguments: [3]
2026-02-17 07:59:35.936 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:35.936] ENTERING: CartServiceImpl.clearCart with arguments: [3]
2026-02-17 07:59:35.936 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:35.936] TRANSACTION START: CartServiceImpl.clearCart(Integer)
2026-02-17 07:59:35.936 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:35.936] TRANSACTION START: CartServiceImpl.clearCart(Integer)
2026-02-17 07:59:35.937 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 where ci1_0.user_id=?
2026-02-17 07:59:35.939 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:59:35.944 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:35.944] TRANSACTION COMMIT: CartServiceImpl.clearCart(Integer)
2026-02-17 07:59:35.944 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:35.944] TRANSACTION COMMIT: CartServiceImpl.clearCart(Integer)
2026-02-17 07:59:35.944 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:35.944] EXITING: CartServiceImpl.clearCart returned: void
2026-02-17 07:59:35.946 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - delete from cart_items where cart_item_id=?
2026-02-17 07:59:35.950 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - delete from cart_items where cart_item_id=?
2026-02-17 07:59:35.951 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.CachingAspect - CACHE INVALIDATED: 2 entries cleared for CartServiceImpl.clearCart
2026-02-17 07:59:35.951 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.clearCart responded in 15ms
2026-02-17 07:59:35.951 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.clearCart returned: ResponseEntity
2026-02-17 07:59:35.957 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.getCartTotal with arguments: [3]
2026-02-17 07:59:35.957 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.getCartItems with arguments: [3]
2026-02-17 07:59:35.957 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@895158158 wrapping org.postgresql.jdbc.PgConnection@3f213e97] read-only
2026-02-17 07:59:35.957 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:35.957] ENTERING: CartServiceImpl.getCartTotal with arguments: [3]
2026-02-17 07:59:35.957 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:35.957] TRANSACTION START: CartServiceImpl.getCartTotal(Integer)
2026-02-17 07:59:35.957 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1021492410 wrapping org.postgresql.jdbc.PgConnection@5f245bab] read-only
2026-02-17 07:59:35.958 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:35.957] ENTERING: CartServiceImpl.getCartItems with arguments: [3]
2026-02-17 07:59:35.958 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:35.958] TRANSACTION START: CartServiceImpl.getCartItems(Integer)
2026-02-17 07:59:35.958 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 where ci1_0.user_id=?
2026-02-17 07:59:35.958 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 where ci1_0.user_id=?
2026-02-17 07:59:35.958 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:35.958] TRANSACTION COMMIT: CartServiceImpl.getCartTotal(Integer)
2026-02-17 07:59:35.960 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:35.960] EXITING: CartServiceImpl.getCartTotal returned: Double
2026-02-17 07:59:35.960 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:35.960] TRANSACTION COMMIT: CartServiceImpl.getCartItems(Integer)
2026-02-17 07:59:35.960 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:35.960] EXITING: CartServiceImpl.getCartItems returned: ArrayList
2026-02-17 07:59:35.960 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@895158158 wrapping org.postgresql.jdbc.PgConnection@3f213e97]
2026-02-17 07:59:35.960 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1021492410 wrapping org.postgresql.jdbc.PgConnection@5f245bab]
2026-02-17 07:59:35.960 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.getCartItems responded in 3ms
2026-02-17 07:59:35.960 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.getCartTotal responded in 3ms
2026-02-17 07:59:35.960 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.getCartItems returned: ResponseEntity
2026-02-17 07:59:35.960 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.getCartTotal returned: ResponseEntity
2026-02-17 07:59:37.127 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@130704918 wrapping org.postgresql.jdbc.PgConnection@5f245bab] read-only
2026-02-17 07:59:37.127 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:37.127] ENTERING: OrderServiceImpl.getOrders with arguments: [3, OrderFilter(status=null, paymentStatus=null, startDate=null, endDate=null, minAmount=null, maxAmount=null, searchTerm=null), Page request [number: 0, size 10, sort: orderDate: DESC]]
2026-02-17 07:59:37.128 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:37.128] TRANSACTION START: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 07:59:37.129 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select o1_0.order_id,o1_0.created_at,o1_0.notes,o1_0.order_date,o1_0.payment_method,o1_0.payment_status,o1_0.shipping_address,o1_0.status,o1_0.total_amount,o1_0.updated_at,o1_0.user_id from orders o1_0 where o1_0.user_id=? order by o1_0.order_date desc offset ? rows fetch first ? rows only
2026-02-17 07:59:37.137 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select count(o1_0.order_id) from orders o1_0 where o1_0.user_id=?
2026-02-17 07:59:37.138 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:37.142 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:59:37.144 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:59:37.148 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id=?
2026-02-17 07:59:37.152 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:37.152 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:59:37.153 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:59:37.154 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:37.155 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:59:37.156 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:37.157 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:59:37.158 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 07:59:37.159 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:37.161 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:59:37.162 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:37.162 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:59:37.164 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 07:59:37.165 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:37.166 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:59:37.167 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:59:37.168 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:37.168 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:37.170 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:37.171 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:37.171] TRANSACTION COMMIT: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 07:59:37.171 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:37.171] EXITING: OrderServiceImpl.getOrders returned: PageImpl
2026-02-17 07:59:37.171 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@130704918 wrapping org.postgresql.jdbc.PgConnection@5f245bab]
2026-02-17 07:59:45.910 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Changing isolation level of JDBC Connection [HikariProxyConnection@560630881 wrapping org.postgresql.jdbc.PgConnection@3f213e97] to 8
2026-02-17 07:59:45.911 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - DATA MODIFICATION STARTED: OrderServiceImpl.updateOrder(Integer, UpdateOrderRequest) with arguments: [26, com.shopjoy.dto.request.UpdateOrderRequest@1337cb49]
2026-02-17 07:59:45.911 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:45.911] ENTERING: OrderServiceImpl.updateOrder with arguments: [26, com.shopjoy.dto.request.UpdateOrderRequest@1337cb49]
2026-02-17 07:59:45.912 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:45.911] TRANSACTIONAL DATA MODIFICATION: OrderServiceImpl.updateOrder(Integer, UpdateOrderRequest) with arguments: [26, com.shopjoy.dto.request.UpdateOrderRequest@1337cb49]
2026-02-17 07:59:45.912 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:45.912] TRANSACTION START: OrderServiceImpl.updateOrder(Integer, UpdateOrderRequest)
2026-02-17 07:59:45.912 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:45.912] TRANSACTION START: OrderServiceImpl.updateOrder(Integer, UpdateOrderRequest)
2026-02-17 07:59:45.912 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select o1_0.order_id,o1_0.created_at,o1_0.notes,o1_0.order_date,o1_0.payment_method,o1_0.payment_status,o1_0.shipping_address,o1_0.status,o1_0.total_amount,o1_0.updated_at,o1_0.user_id from orders o1_0 where o1_0.order_id=?
2026-02-17 07:59:45.917 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_item_id,oi1_0.created_at,oi1_0.order_id,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:45.919 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:45.919] ENTERING: InventoryServiceImpl.releaseStock with arguments: [39, 2]
2026-02-17 07:59:45.919 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:45.919] TRANSACTION START: InventoryServiceImpl.releaseStock(Integer, int)
2026-02-17 07:59:45.919 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:45.919] TRANSACTION START: InventoryServiceImpl.releaseStock(Integer, int)
2026-02-17 07:59:45.919 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:59:45.922 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:45.922] TRANSACTION COMMIT: InventoryServiceImpl.releaseStock(Integer, int)
2026-02-17 07:59:45.922 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:45.922] TRANSACTION COMMIT: InventoryServiceImpl.releaseStock(Integer, int)
2026-02-17 07:59:45.922 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:45.922] EXITING: InventoryServiceImpl.releaseStock returned: void
2026-02-17 07:59:45.922 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:45.922] ENTERING: InventoryServiceImpl.releaseStock with arguments: [40, 2]
2026-02-17 07:59:45.922 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:45.922] TRANSACTION START: InventoryServiceImpl.releaseStock(Integer, int)
2026-02-17 07:59:45.922 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:45.922] TRANSACTION START: InventoryServiceImpl.releaseStock(Integer, int)
2026-02-17 07:59:45.923 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - update orders set created_at=?,notes=?,order_date=?,payment_method=?,payment_status=?,shipping_address=?,status=?,total_amount=?,updated_at=?,user_id=? where order_id=?
2026-02-17 07:59:45.924 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - update inventory set last_restocked=?,product_id=?,quantity_in_stock=?,reorder_level=?,updated_at=?,warehouse_location=? where inventory_id=?
2026-02-17 07:59:45.924 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:59:45.926 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:45.926] TRANSACTION COMMIT: InventoryServiceImpl.releaseStock(Integer, int)
2026-02-17 07:59:45.926 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:45.926] TRANSACTION COMMIT: InventoryServiceImpl.releaseStock(Integer, int)
2026-02-17 07:59:45.926 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:45.926] EXITING: InventoryServiceImpl.releaseStock returned: void
2026-02-17 07:59:45.928 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:45.928] ENTERING: InventoryServiceImpl.hasAvailableStock with arguments: [39, 2]
2026-02-17 07:59:45.928 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:45.928] TRANSACTION START: InventoryServiceImpl.hasAvailableStock(Integer, int)
2026-02-17 07:59:45.930 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - update inventory set last_restocked=?,product_id=?,quantity_in_stock=?,reorder_level=?,updated_at=?,warehouse_location=? where inventory_id=?
2026-02-17 07:59:45.931 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - delete from order_items where order_item_id=?
2026-02-17 07:59:45.931 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - delete from order_items where order_item_id=?
2026-02-17 07:59:45.932 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:59:45.932 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:45.932] TRANSACTION COMMIT: InventoryServiceImpl.hasAvailableStock(Integer, int)
2026-02-17 07:59:45.932 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:45.932] EXITING: InventoryServiceImpl.hasAvailableStock returned: Boolean
2026-02-17 07:59:45.932 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:45.932] ENTERING: InventoryServiceImpl.reserveStock with arguments: [39, 2]
2026-02-17 07:59:45.932 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:45.932] TRANSACTION START: InventoryServiceImpl.reserveStock(Integer, int)
2026-02-17 07:59:45.932 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:45.932] TRANSACTION START: InventoryServiceImpl.reserveStock(Integer, int)
2026-02-17 07:59:45.933 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:59:45.934 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:45.934] TRANSACTION COMMIT: InventoryServiceImpl.reserveStock(Integer, int)
2026-02-17 07:59:45.934 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:45.934] TRANSACTION COMMIT: InventoryServiceImpl.reserveStock(Integer, int)
2026-02-17 07:59:45.934 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:45.934] EXITING: InventoryServiceImpl.reserveStock returned: void
2026-02-17 07:59:45.934 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:45.934] ENTERING: InventoryServiceImpl.hasAvailableStock with arguments: [40, 2]
2026-02-17 07:59:45.934 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:45.934] TRANSACTION START: InventoryServiceImpl.hasAvailableStock(Integer, int)
2026-02-17 07:59:45.936 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - update inventory set last_restocked=?,product_id=?,quantity_in_stock=?,reorder_level=?,updated_at=?,warehouse_location=? where inventory_id=?
2026-02-17 07:59:45.937 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:59:45.937 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:45.937] TRANSACTION COMMIT: InventoryServiceImpl.hasAvailableStock(Integer, int)
2026-02-17 07:59:45.939 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:45.937] EXITING: InventoryServiceImpl.hasAvailableStock returned: Boolean
2026-02-17 07:59:45.939 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:45.939] ENTERING: InventoryServiceImpl.reserveStock with arguments: [40, 2]
2026-02-17 07:59:45.939 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:45.939] TRANSACTION START: InventoryServiceImpl.reserveStock(Integer, int)
2026-02-17 07:59:45.939 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:45.939] TRANSACTION START: InventoryServiceImpl.reserveStock(Integer, int)
2026-02-17 07:59:45.939 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 07:59:45.941 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:45.941] TRANSACTION COMMIT: InventoryServiceImpl.reserveStock(Integer, int)
2026-02-17 07:59:45.941 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:45.941] TRANSACTION COMMIT: InventoryServiceImpl.reserveStock(Integer, int)
2026-02-17 07:59:45.941 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:45.941] EXITING: InventoryServiceImpl.reserveStock returned: void
2026-02-17 07:59:45.942 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - insert into order_items (created_at,order_id,product_id,quantity,subtotal,unit_price) values (?,?,?,?,?,?)
2026-02-17 07:59:45.944 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - insert into order_items (created_at,order_id,product_id,quantity,subtotal,unit_price) values (?,?,?,?,?,?)
2026-02-17 07:59:45.947 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:45.947 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:59:45.948 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:59:45.949 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:59:45.950 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id=?
2026-02-17 07:59:45.950 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:45.950] TRANSACTION COMMIT: OrderServiceImpl.updateOrder(Integer, UpdateOrderRequest)
2026-02-17 07:59:45.950 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:45.950] TRANSACTION COMMIT: OrderServiceImpl.updateOrder(Integer, UpdateOrderRequest)
2026-02-17 07:59:45.950 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:45.950] EXITING: OrderServiceImpl.updateOrder returned: OrderResponse
2026-02-17 07:59:45.950 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - DATA MODIFICATION COMPLETED: OrderServiceImpl.updateOrder(Integer, UpdateOrderRequest) in 39ms
2026-02-17 07:59:45.951 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - update orders set created_at=?,notes=?,order_date=?,payment_method=?,payment_status=?,shipping_address=?,status=?,total_amount=?,updated_at=?,user_id=? where order_id=?
2026-02-17 07:59:45.953 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - update inventory set last_restocked=?,product_id=?,quantity_in_stock=?,reorder_level=?,updated_at=?,warehouse_location=? where inventory_id=?
2026-02-17 07:59:45.962 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting isolation level of JDBC Connection [HikariProxyConnection@560630881 wrapping org.postgresql.jdbc.PgConnection@3f213e97] to 2
2026-02-17 07:59:45.962 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.CachingAspect - CACHE INVALIDATED: 1 entries cleared for OrderServiceImpl.updateOrder
2026-02-17 07:59:45.975 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1607182555 wrapping org.postgresql.jdbc.PgConnection@3f213e97] read-only
2026-02-17 07:59:45.976 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:45.976] ENTERING: OrderServiceImpl.getOrders with arguments: [null, null, Page request [number: 0, size 20, sort: orderDate: DESC]]
2026-02-17 07:59:45.976 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:45.976] TRANSACTION START: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 07:59:45.977 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select o1_0.order_id,o1_0.created_at,o1_0.notes,o1_0.order_date,o1_0.payment_method,o1_0.payment_status,o1_0.shipping_address,o1_0.status,o1_0.total_amount,o1_0.updated_at,o1_0.user_id from orders o1_0 where 1=1 order by o1_0.order_date desc offset ? rows fetch first ? rows only
2026-02-17 07:59:45.978 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@600369765 wrapping org.postgresql.jdbc.PgConnection@5f245bab] read-only
2026-02-17 07:59:45.978 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:45.978] ENTERING: OrderServiceImpl.getOrders with arguments: [null, null, Page request [number: 0, size 20, sort: orderDate: DESC]]
2026-02-17 07:59:45.978 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:45.978] TRANSACTION START: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 07:59:45.979 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:45.981 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select o1_0.order_id,o1_0.created_at,o1_0.notes,o1_0.order_date,o1_0.payment_method,o1_0.payment_status,o1_0.shipping_address,o1_0.status,o1_0.total_amount,o1_0.updated_at,o1_0.user_id from orders o1_0 where 1=1 order by o1_0.order_date desc offset ? rows fetch first ? rows only
2026-02-17 07:59:45.981 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:59:45.982 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:59:45.983 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id = any (?)
2026-02-17 07:59:45.983 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:45.984 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:59:45.984 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:45.984 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:59:45.984 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:59:45.984 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:45.986 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id = any (?)
2026-02-17 07:59:45.986 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:59:45.986 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:59:45.987 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:45.987 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:45.987 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:59:45.987 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:59:45.988 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:45.988 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:45.989 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:45.989 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:59:45.990 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:59:45.990 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:59:45.990 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:45.991 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:45.991 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:59:45.992 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:59:45.992 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 07:59:45.992 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:45.992 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:45.993 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:45.993 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:59:45.993 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:45.993 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:59:45.995 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:59:45.995 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:45.996 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:59:45.996 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 07:59:45.997 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:45.997 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 07:59:45.998 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:59:45.998 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:45.999 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:59:45.999 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:59:45.999 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:46.000 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:46.000 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:46.001 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:46.001 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:59:46.002 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:46.002 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 07:59:46.002 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:59:46.004 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:46.004 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:59:46.004 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:46.004 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:59:46.005 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:59:46.006 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:59:46.006 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:46.006 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:59:46.007 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:46.007 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:46.007 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:46.007 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:46.008 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:46.008] TRANSACTION COMMIT: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 07:59:46.008 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:46.009 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:46.009] EXITING: OrderServiceImpl.getOrders returned: PageImpl
2026-02-17 07:59:46.009 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1607182555 wrapping org.postgresql.jdbc.PgConnection@3f213e97]
2026-02-17 07:59:46.009 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:59:46.010 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:59:46.011 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:46.012 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:59:46.013 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:59:46.014 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:46.014 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:46.015 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:46.015] TRANSACTION COMMIT: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 07:59:46.015 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:46.015] EXITING: OrderServiceImpl.getOrders returned: PageImpl
2026-02-17 07:59:46.015 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@600369765 wrapping org.postgresql.jdbc.PgConnection@5f245bab]
2026-02-17 07:59:46.015 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@979068642 wrapping org.postgresql.jdbc.PgConnection@3f213e97] read-only
2026-02-17 07:59:46.016 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:46.016] ENTERING: UserServiceImpl.getUsersByIds with arguments: [[3, 26, 18]]
2026-02-17 07:59:46.016 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:46.016] TRANSACTION START: UserServiceImpl.getUsersByIds(List)
2026-02-17 07:59:46.017 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id in (?,?,?)
2026-02-17 07:59:46.018 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:46.018] TRANSACTION COMMIT: UserServiceImpl.getUsersByIds(List)
2026-02-17 07:59:46.019 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:46.019] EXITING: UserServiceImpl.getUsersByIds returned: ListN
2026-02-17 07:59:46.019 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@979068642 wrapping org.postgresql.jdbc.PgConnection@3f213e97]
2026-02-17 07:59:46.055 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@413601303 wrapping org.postgresql.jdbc.PgConnection@5f245bab] read-only
2026-02-17 07:59:46.055 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:46.055] ENTERING: OrderServiceImpl.getOrders with arguments: [3, OrderFilter(status=null, paymentStatus=null, startDate=null, endDate=null, minAmount=null, maxAmount=null, searchTerm=null), Page request [number: 0, size 10, sort: orderDate: DESC]]
2026-02-17 07:59:46.056 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:46.056] TRANSACTION START: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 07:59:46.057 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select o1_0.order_id,o1_0.created_at,o1_0.notes,o1_0.order_date,o1_0.payment_method,o1_0.payment_status,o1_0.shipping_address,o1_0.status,o1_0.total_amount,o1_0.updated_at,o1_0.user_id from orders o1_0 where o1_0.user_id=? order by o1_0.order_date desc offset ? rows fetch first ? rows only
2026-02-17 07:59:46.059 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select count(o1_0.order_id) from orders o1_0 where o1_0.user_id=?
2026-02-17 07:59:46.059 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:46.061 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:59:46.062 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:59:46.062 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id=?
2026-02-17 07:59:46.063 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:46.064 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:59:46.064 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:59:46.065 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:46.066 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:59:46.067 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:46.067 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:59:46.067 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 07:59:46.069 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:46.069 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:59:46.071 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:46.071 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:59:46.072 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 07:59:46.073 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:46.073 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:59:46.074 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:59:46.074 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:46.074 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:46.076 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:46.078 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:46.078] TRANSACTION COMMIT: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 07:59:46.078 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:46.078] EXITING: OrderServiceImpl.getOrders returned: PageImpl
2026-02-17 07:59:46.079 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@413601303 wrapping org.postgresql.jdbc.PgConnection@5f245bab]
2026-02-17 07:59:50.679 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - DATA MODIFICATION STARTED: OrderServiceImpl.updateOrderStatus(Integer, OrderStatus) with arguments: [26, CANCELLED]
2026-02-17 07:59:50.679 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:50.679] ENTERING: OrderServiceImpl.updateOrderStatus with arguments: [26, CANCELLED]
2026-02-17 07:59:50.679 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:50.679] TRANSACTIONAL DATA MODIFICATION: OrderServiceImpl.updateOrderStatus(Integer, OrderStatus) with arguments: [26, CANCELLED]
2026-02-17 07:59:50.679 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:50.679] TRANSACTION START: OrderServiceImpl.updateOrderStatus(Integer, OrderStatus)
2026-02-17 07:59:50.679 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:50.679] TRANSACTION START: OrderServiceImpl.updateOrderStatus(Integer, OrderStatus)
2026-02-17 07:59:50.680 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select o1_0.order_id,o1_0.created_at,o1_0.notes,o1_0.order_date,o1_0.payment_method,o1_0.payment_status,o1_0.shipping_address,o1_0.status,o1_0.total_amount,o1_0.updated_at,o1_0.user_id from orders o1_0 where o1_0.order_id=?
2026-02-17 07:59:50.681 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:50.682 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:59:50.683 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:59:50.684 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id=?
2026-02-17 07:59:50.684 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:50.684] TRANSACTION COMMIT: OrderServiceImpl.updateOrderStatus(Integer, OrderStatus)
2026-02-17 07:59:50.684 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:50.684] TRANSACTION COMMIT: OrderServiceImpl.updateOrderStatus(Integer, OrderStatus)
2026-02-17 07:59:50.684 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:50.684] EXITING: OrderServiceImpl.updateOrderStatus returned: OrderResponse
2026-02-17 07:59:50.684 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - DATA MODIFICATION COMPLETED: OrderServiceImpl.updateOrderStatus(Integer, OrderStatus) in 5ms
2026-02-17 07:59:50.686 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - update orders set created_at=?,notes=?,order_date=?,payment_method=?,payment_status=?,shipping_address=?,status=?,total_amount=?,updated_at=?,user_id=? where order_id=?
2026-02-17 07:59:50.687 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.CachingAspect - CACHE INVALIDATED: 2 entries cleared for OrderServiceImpl.updateOrderStatus
2026-02-17 07:59:50.698 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@188922092 wrapping org.postgresql.jdbc.PgConnection@3f213e97] read-only
2026-02-17 07:59:50.698 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:50.698] ENTERING: OrderServiceImpl.getOrders with arguments: [null, null, Page request [number: 0, size 20, sort: orderDate: DESC]]
2026-02-17 07:59:50.698 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:50.698] TRANSACTION START: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 07:59:50.700 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select o1_0.order_id,o1_0.created_at,o1_0.notes,o1_0.order_date,o1_0.payment_method,o1_0.payment_status,o1_0.shipping_address,o1_0.status,o1_0.total_amount,o1_0.updated_at,o1_0.user_id from orders o1_0 where 1=1 order by o1_0.order_date desc offset ? rows fetch first ? rows only
2026-02-17 07:59:50.701 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:50.703 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:59:50.704 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:59:50.704 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id = any (?)
2026-02-17 07:59:50.708 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:50.709 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:59:50.710 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:50.710 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:59:50.712 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:59:50.712 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:50.713 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:59:50.713 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:50.714 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:50.714 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:59:50.715 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:50.715 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:59:50.715 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 07:59:50.716 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:50.716 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:59:50.717 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:50.718 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:59:50.718 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 07:59:50.719 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:50.719 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:59:50.719 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:59:50.720 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:50.720 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:50.720 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:50.721 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:50.721 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:59:50.722 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:59:50.723 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:50.725 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:59:50.726 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:59:50.727 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:50.728 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:50.729 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:50.729] TRANSACTION COMMIT: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 07:59:50.729 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:50.729] EXITING: OrderServiceImpl.getOrders returned: PageImpl
2026-02-17 07:59:50.729 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@188922092 wrapping org.postgresql.jdbc.PgConnection@3f213e97]
2026-02-17 07:59:50.748 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@385282176 wrapping org.postgresql.jdbc.PgConnection@3f213e97] read-only
2026-02-17 07:59:50.748 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:50.748] ENTERING: OrderServiceImpl.getOrders with arguments: [3, OrderFilter(status=null, paymentStatus=null, startDate=null, endDate=null, minAmount=null, maxAmount=null, searchTerm=null), Page request [number: 0, size 10, sort: orderDate: DESC]]
2026-02-17 07:59:50.748 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:50.748] TRANSACTION START: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 07:59:50.749 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select o1_0.order_id,o1_0.created_at,o1_0.notes,o1_0.order_date,o1_0.payment_method,o1_0.payment_status,o1_0.shipping_address,o1_0.status,o1_0.total_amount,o1_0.updated_at,o1_0.user_id from orders o1_0 where o1_0.user_id=? order by o1_0.order_date desc offset ? rows fetch first ? rows only
2026-02-17 07:59:50.752 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select count(o1_0.order_id) from orders o1_0 where o1_0.user_id=?
2026-02-17 07:59:50.753 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:50.754 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:59:50.754 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:59:50.756 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id=?
2026-02-17 07:59:50.758 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:50.758 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:59:50.759 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:59:50.760 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:50.760 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:59:50.762 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:50.762 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:59:50.762 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 07:59:50.763 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:50.764 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:59:50.764 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:50.765 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 07:59:50.766 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 07:59:50.767 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:50.767 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 07:59:50.768 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 07:59:50.769 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:50.770 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:50.770 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 07:59:50.771 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:50.771] TRANSACTION COMMIT: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 07:59:50.771 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:50.771] EXITING: OrderServiceImpl.getOrders returned: PageImpl
2026-02-17 07:59:50.771 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@385282176 wrapping org.postgresql.jdbc.PgConnection@3f213e97]
2026-02-17 07:59:58.599 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: AddressController.getAddressesByUser with arguments: [3]
2026-02-17 07:59:58.599 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1076480244 wrapping org.postgresql.jdbc.PgConnection@5f245bab] read-only
2026-02-17 07:59:58.599 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:58.599] ENTERING: AddressServiceImpl.getAddressesByUser with arguments: [3]
2026-02-17 07:59:58.603 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:58.603] TRANSACTION START: AddressServiceImpl.getAddressesByUser(Integer)
2026-02-17 07:59:58.605 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select a1_0.address_id,a1_0.address_type,a1_0.city,a1_0.country,a1_0.created_at,a1_0.is_default,a1_0.postal_code,a1_0.state,a1_0.street_address,a1_0.user_id from addresses a1_0 where a1_0.user_id=?
2026-02-17 07:59:58.611 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 07:59:58.611] TRANSACTION COMMIT: AddressServiceImpl.getAddressesByUser(Integer)
2026-02-17 07:59:58.611 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 07:59:58.611] EXITING: AddressServiceImpl.getAddressesByUser returned: ArrayList
2026-02-17 07:59:58.611 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1076480244 wrapping org.postgresql.jdbc.PgConnection@5f245bab]
2026-02-17 07:59:58.612 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint AddressController.getAddressesByUser responded in 13ms
2026-02-17 07:59:58.612 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: AddressController.getAddressesByUser returned: ResponseEntity
2026-02-17 07:59:58.618 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: AddressController.getAddressesByUser with arguments: [3]
2026-02-17 07:59:58.618 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint AddressController.getAddressesByUser responded in 0ms
2026-02-17 07:59:58.618 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: AddressController.getAddressesByUser returned: ResponseEntity
2026-02-17 08:23:35.956 [HikariPool-1:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=6m2s912ms364s900ns).
2026-02-17 08:55:08.096 [SpringApplicationShutdownHook] INFO  o.s.boot.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2026-02-17 08:55:08.116 [tomcat-shutdown] INFO  o.s.boot.tomcat.GracefulShutdown - Graceful shutdown complete
2026-02-17 08:55:08.137 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-02-17 08:55:08.154 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-02-17 08:55:08.158 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-02-17 08:55:21.892 [main] INFO  c.s.ShopjoyEcommerceSystemApplication - Starting ShopjoyEcommerceSystemApplication using Java 25.0.1 with PID 24632 (C:\Users\EugeneDokyeAnokye\IdeaProjects\spring-data-ecommerce\target\classes started by EugeneDokyeAnokye in C:\Users\EugeneDokyeAnokye\IdeaProjects\spring-data-ecommerce)
2026-02-17 08:55:21.898 [main] DEBUG c.s.ShopjoyEcommerceSystemApplication - Running with Spring Boot v4.0.2, Spring v7.0.3
2026-02-17 08:55:21.898 [main] INFO  c.s.ShopjoyEcommerceSystemApplication - The following 1 profile is active: "dev"
2026-02-17 08:55:22.710 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 9.0.1.Final
2026-02-17 08:55:24.790 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-17 08:55:25.237 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 432 ms. Found 9 JPA repository interfaces.
2026-02-17 08:55:28.096 [main] INFO  o.s.boot.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-02-17 08:55:28.120 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-02-17 08:55:28.124 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-02-17 08:55:28.124 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/11.0.15]
2026-02-17 08:55:28.298 [main] INFO  o.s.b.w.c.s.WebApplicationContextInitializer - Root WebApplicationContext: initialization completed in 6278 ms
2026-02-17 08:55:29.910 [main] INFO  org.hibernate.orm.jpa - HHH008540: Processing PersistenceUnitInfo [name: default]
2026-02-17 08:55:30.062 [main] INFO  org.hibernate.orm.core - HHH000001: Hibernate ORM core version 7.2.1.Final
2026-02-17 08:55:31.193 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-17 08:55:31.246 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-17 08:55:31.583 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@125ace20
2026-02-17 08:55:31.585 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-17 08:55:31.749 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [jdbc:postgresql://localhost:5432/shopjoy_db]
	Database driver: PostgreSQL JDBC Driver
	Database dialect: PostgreSQLDialect
	Database version: 18.1
	Default catalog/schema: shopjoy_db/public
	Autocommit mode: undefined/unknown
	Isolation level: READ_COMMITTED [default READ_COMMITTED]
	JDBC fetch size: none
	Pool: DataSourceConnectionProvider
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-02-17 08:55:33.862 [main] INFO  org.hibernate.orm.core - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-17 08:55:34.022 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-17 08:55:34.894 [main] INFO  o.s.d.j.r.q.QueryEnhancerFactories - Hibernate is in classpath; If applicable, HQL parser will be used.
2026-02-17 08:55:41.402 [main] INFO  o.s.g.e.DefaultSchemaResourceGraphQlSourceBuilder - Loaded 1 resource(s) in the GraphQL schema.
2026-02-17 08:55:41.746 [main] INFO  o.s.b.g.a.GraphQlAutoConfiguration - GraphQL schema inspection:
	Unmapped fields: {OrderItem=[orderId, product, createdAt], Address=[id], Inventory=[reservedQuantity]}
	Unmapped registrations: {}
	Unmapped arguments: {}
	Field nullness errors: {}
	Argument nullness errors: {}
	Skipped types: []
2026-02-17 08:55:41.805 [main] INFO  o.s.b.g.a.s.GraphQlWebMvcAutoConfiguration - GraphQL endpoint HTTP POST /graphql
2026-02-17 08:55:43.324 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2026-02-17 08:55:43.442 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2026-02-17 08:55:43.464 [main] INFO  o.s.boot.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2026-02-17 08:55:43.477 [main] INFO  c.s.ShopjoyEcommerceSystemApplication - Started ShopjoyEcommerceSystemApplication in 22.862 seconds (process running for 24.277)
2026-02-17 08:55:43.590 [main] INFO  c.s.config.AdminUserInitializer - Checking for existing admin user with username: admin
2026-02-17 08:55:43.603 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@914504033 wrapping org.postgresql.jdbc.PgConnection@125ace20] read-only
2026-02-17 08:55:43.614 [main] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:55:43.614] ENTERING: UserServiceImpl.isUsernameTaken with arguments: [admin]
2026-02-17 08:55:43.621 [main] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:55:43.621] TRANSACTION START: UserServiceImpl.isUsernameTaken(String)
2026-02-17 08:55:43.736 [main] DEBUG org.hibernate.SQL - select u1_0.user_id from users u1_0 where u1_0.username=? fetch first ? rows only
2026-02-17 08:55:43.758 [main] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:55:43.758] TRANSACTION COMMIT: UserServiceImpl.isUsernameTaken(String)
2026-02-17 08:55:43.759 [main] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:55:43.759] EXITING: UserServiceImpl.isUsernameTaken returned: Boolean
2026-02-17 08:55:43.762 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@914504033 wrapping org.postgresql.jdbc.PgConnection@125ace20]
2026-02-17 08:55:43.763 [main] INFO  c.s.config.AdminUserInitializer - Admin user 'admin' already exists, skipping creation
2026-02-17 08:55:43.764 [main] WARN  o.s.c.events.SpringDocAppInitializer - SpringDoc /api-docs endpoint is enabled by default. To disable it in production, set the property 'springdoc.api-docs.enabled=false'
2026-02-17 08:56:52.166 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-17 08:56:52.166 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-02-17 08:56:52.167 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2026-02-17 08:56:52.345 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: UserController.authenticateUser with arguments: [***REDACTED***]
2026-02-17 08:56:52.346 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@796251769 wrapping org.postgresql.jdbc.PgConnection@125ace20] read-only
2026-02-17 08:56:52.347 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:56:52.347] ENTERING: UserServiceImpl.authenticateUser with arguments: [admin, ***REDACTED***]
2026-02-17 08:56:52.347 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:56:52.347] TRANSACTION START: UserServiceImpl.authenticateUser(String, String)
2026-02-17 08:56:52.355 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-17 08:56:52.467 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:56:52.467] TRANSACTION COMMIT: UserServiceImpl.authenticateUser(String, String)
2026-02-17 08:56:52.467 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:56:52.467] EXITING: UserServiceImpl.authenticateUser returned: UserResponse
2026-02-17 08:56:52.468 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@796251769 wrapping org.postgresql.jdbc.PgConnection@125ace20]
2026-02-17 08:56:52.470 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint UserController.authenticateUser responded in 124ms
2026-02-17 08:56:52.470 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: UserController.authenticateUser returned: ResponseEntity
2026-02-17 08:56:52.601 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: PerformanceController.getMetrics with arguments: []
2026-02-17 08:56:52.602 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint PerformanceController.getMetrics responded in 0ms
2026-02-17 08:56:52.602 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: PerformanceController.getMetrics returned: ResponseEntity
2026-02-17 08:56:52.613 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: PerformanceController.getMetrics with arguments: []
2026-02-17 08:56:52.613 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint PerformanceController.getMetrics responded in 0ms
2026-02-17 08:56:52.613 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: PerformanceController.getMetrics returned: ResponseEntity
2026-02-17 08:56:52.731 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@651948703 wrapping org.postgresql.jdbc.PgConnection@125ace20] read-only
2026-02-17 08:56:52.731 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:56:52.731] ENTERING: UserServiceImpl.getAllUsers with arguments: []
2026-02-17 08:56:52.732 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:56:52.732] TRANSACTION START: UserServiceImpl.getAllUsers()
2026-02-17 08:56:52.749 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0
2026-02-17 08:56:52.758 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:56:52.758] TRANSACTION COMMIT: UserServiceImpl.getAllUsers()
2026-02-17 08:56:52.760 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:56:52.760] EXITING: UserServiceImpl.getAllUsers returned: ArrayList
2026-02-17 08:56:52.761 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@651948703 wrapping org.postgresql.jdbc.PgConnection@125ace20]
2026-02-17 08:56:52.786 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1176146269 wrapping org.postgresql.jdbc.PgConnection@125ace20] read-only
2026-02-17 08:56:52.786 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:56:52.786] ENTERING: ProductServiceImpl.getProductsWithFilters with arguments: [null, Page request [number: 0, size 20, sort: id: ASC], id, ASC]
2026-02-17 08:56:52.789 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:56:52.789] TRANSACTION START: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-17 08:56:52.815 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?) order by p1_0.product_id fetch first ? rows only
2026-02-17 08:56:52.837 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:56:52.845 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:56:52.846 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:56:52.848 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:56:52.849 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:56:52.852 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:56:52.854 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:56:52.854 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:56:52.855 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:56:52.858 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:56:52.861 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:56:52.862 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:56:52.864 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:56:52.865 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:56:52.866 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:56:52.867 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:56:52.869 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:56:52.870 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:56:52.871 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:56:52.872 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:56:52.880 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select count(*) from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?)
2026-02-17 08:56:52.884 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 08:56:52.899 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:56:52.898] TRANSACTION COMMIT: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-17 08:56:52.899 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:56:52.899] EXITING: ProductServiceImpl.getProductsWithFilters returned: PageImpl
2026-02-17 08:56:52.899 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1176146269 wrapping org.postgresql.jdbc.PgConnection@125ace20]
2026-02-17 08:56:52.920 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@20642824 wrapping org.postgresql.jdbc.PgConnection@125ace20] read-only
2026-02-17 08:56:52.920 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:56:52.920] ENTERING: OrderServiceImpl.getOrders with arguments: [null, null, Page request [number: 0, size 20, sort: orderDate: DESC]]
2026-02-17 08:56:52.923 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:56:52.921] TRANSACTION START: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 08:56:52.932 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select o1_0.order_id,o1_0.created_at,o1_0.notes,o1_0.order_date,o1_0.payment_method,o1_0.payment_status,o1_0.shipping_address,o1_0.status,o1_0.total_amount,o1_0.updated_at,o1_0.user_id from orders o1_0 where 1=1 order by o1_0.order_date desc offset ? rows fetch first ? rows only
2026-02-17 08:56:52.946 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:56:52.956 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 08:56:52.982 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:56:52.984 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id = any (?)
2026-02-17 08:56:52.985 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:56:52.988 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:56:52.990 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:56:52.993 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:56:52.996 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:56:52.997 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:56:52.998 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:56:53.000 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:56:53.002 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:56:53.004 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:56:53.005 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:56:53.007 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 08:56:53.010 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 08:56:53.012 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:56:53.013 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:56:53.015 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:56:53.016 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 08:56:53.018 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 08:56:53.021 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:56:53.022 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:56:53.024 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:56:53.026 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:56:53.027 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:56:53.028 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:56:53.029 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:56:53.030 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:56:53.032 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:56:53.033 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:56:53.034 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:56:53.035 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:56:53.037 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:56:53.037 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:56:53.039 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:56:53.038] TRANSACTION COMMIT: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 08:56:53.039 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:56:53.039] EXITING: OrderServiceImpl.getOrders returned: PageImpl
2026-02-17 08:56:53.039 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@20642824 wrapping org.postgresql.jdbc.PgConnection@125ace20]
2026-02-17 08:56:53.062 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1251140504 wrapping org.postgresql.jdbc.PgConnection@125ace20] read-only
2026-02-17 08:56:53.062 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:56:53.062] ENTERING: InventoryServiceImpl.getLowStockProducts with arguments: []
2026-02-17 08:56:53.064 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:56:53.064] TRANSACTION START: InventoryServiceImpl.getLowStockProducts()
2026-02-17 08:56:53.067 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.quantity_in_stock<=i1_0.reorder_level
2026-02-17 08:56:53.071 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 08:56:53.076 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:56:53.076] TRANSACTION COMMIT: InventoryServiceImpl.getLowStockProducts()
2026-02-17 08:56:53.077 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:56:53.076] EXITING: InventoryServiceImpl.getLowStockProducts returned: ArrayList
2026-02-17 08:56:53.077 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1251140504 wrapping org.postgresql.jdbc.PgConnection@125ace20]
2026-02-17 08:56:53.083 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@279845977 wrapping org.postgresql.jdbc.PgConnection@125ace20] read-only
2026-02-17 08:56:53.083 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:56:53.083] ENTERING: CategoryServiceImpl.getCategoriesByIds with arguments: [[11, 12, 13, 14, 15, 16]]
2026-02-17 08:56:53.085 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:56:53.085] TRANSACTION START: CategoryServiceImpl.getCategoriesByIds(List)
2026-02-17 08:56:53.093 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id in (?,?,?,?,?,?)
2026-02-17 08:56:53.095 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:56:53.095] TRANSACTION COMMIT: CategoryServiceImpl.getCategoriesByIds(List)
2026-02-17 08:56:53.096 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:56:53.096] EXITING: CategoryServiceImpl.getCategoriesByIds returned: ListN
2026-02-17 08:56:53.096 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@279845977 wrapping org.postgresql.jdbc.PgConnection@125ace20]
2026-02-17 08:56:53.106 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@36487825 wrapping org.postgresql.jdbc.PgConnection@125ace20] read-only
2026-02-17 08:56:53.106 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:56:53.106] ENTERING: UserServiceImpl.getUsersByIds with arguments: [[3, 26, 18]]
2026-02-17 08:56:53.106 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:56:53.106] TRANSACTION START: UserServiceImpl.getUsersByIds(List)
2026-02-17 08:56:53.108 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id in (?,?,?)
2026-02-17 08:56:53.111 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:56:53.111] TRANSACTION COMMIT: UserServiceImpl.getUsersByIds(List)
2026-02-17 08:56:53.111 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:56:53.111] EXITING: UserServiceImpl.getUsersByIds returned: ListN
2026-02-17 08:56:53.112 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@36487825 wrapping org.postgresql.jdbc.PgConnection@125ace20]
2026-02-17 08:56:53.121 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1481618913 wrapping org.postgresql.jdbc.PgConnection@125ace20] read-only
2026-02-17 08:56:53.122 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:56:53.121] ENTERING: ProductServiceImpl.getProductsByIds with arguments: [[21, 28, 35, 42, 45, 49, 56, 63, 69, 75, 77, 70, 14, 39]]
2026-02-17 08:56:53.122 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:56:53.122] TRANSACTION START: ProductServiceImpl.getProductsByIds(List)
2026-02-17 08:56:53.125 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 where p1_0.product_id in (?,?,?,?,?,?,?,?,?,?,?,?,?,?)
2026-02-17 08:56:53.127 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:56:53.129 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:56:53.130 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:56:53.131 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:56:53.132 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:56:53.132 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:56:53.133 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:56:53.134 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:56:53.134 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:56:53.136 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:56:53.137 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:56:53.138 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:56:53.138 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:56:53.139 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:56:53.141 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 08:56:53.143 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:56:53.143] TRANSACTION COMMIT: ProductServiceImpl.getProductsByIds(List)
2026-02-17 08:56:53.144 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:56:53.144] EXITING: ProductServiceImpl.getProductsByIds returned: ArrayList
2026-02-17 08:56:53.144 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1481618913 wrapping org.postgresql.jdbc.PgConnection@125ace20]
2026-02-17 08:56:57.299 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1219972764 wrapping org.postgresql.jdbc.PgConnection@125ace20] read-only
2026-02-17 08:56:57.301 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:56:57.301] ENTERING: OrderServiceImpl.getOrders with arguments: [null, OrderFilter(status=null, paymentStatus=null, startDate=null, endDate=null, minAmount=null, maxAmount=null, searchTerm=null), Page request [number: 0, size 20, sort: orderDate: DESC]]
2026-02-17 08:56:57.301 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:56:57.301] TRANSACTION START: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 08:56:57.304 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select o1_0.order_id,o1_0.created_at,o1_0.notes,o1_0.order_date,o1_0.payment_method,o1_0.payment_status,o1_0.shipping_address,o1_0.status,o1_0.total_amount,o1_0.updated_at,o1_0.user_id from orders o1_0 where 1=1 order by o1_0.order_date desc offset ? rows fetch first ? rows only
2026-02-17 08:56:57.307 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:56:57.308 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 08:56:57.311 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:56:57.312 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id = any (?)
2026-02-17 08:56:57.313 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:56:57.314 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:56:57.316 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:56:57.316 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:56:57.317 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:56:57.319 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:56:57.321 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:56:57.323 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:56:57.324 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:56:57.325 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:56:57.326 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:56:57.326 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 08:56:57.329 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 08:56:57.330 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:56:57.331 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:56:57.332 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:56:57.332 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 08:56:57.334 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 08:56:57.337 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:56:57.339 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:56:57.339 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:56:57.340 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:56:57.342 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:56:57.343 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:56:57.343 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:56:57.344 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:56:57.344 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:56:57.346 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:56:57.346 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:56:57.347 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:56:57.348 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:56:57.350 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:56:57.350 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:56:57.350] TRANSACTION COMMIT: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 08:56:57.351 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:56:57.351] EXITING: OrderServiceImpl.getOrders returned: PageImpl
2026-02-17 08:56:57.351 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1219972764 wrapping org.postgresql.jdbc.PgConnection@125ace20]
2026-02-17 08:57:34.651 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: UserController.authenticateUser with arguments: [***REDACTED***]
2026-02-17 08:57:34.651 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@625793142 wrapping org.postgresql.jdbc.PgConnection@125ace20] read-only
2026-02-17 08:57:34.652 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:34.651] ENTERING: UserServiceImpl.authenticateUser with arguments: [jane_smith, ***REDACTED***]
2026-02-17 08:57:34.652 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:34.652] TRANSACTION START: UserServiceImpl.authenticateUser(String, String)
2026-02-17 08:57:34.653 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-17 08:57:34.729 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:34.729] TRANSACTION COMMIT: UserServiceImpl.authenticateUser(String, String)
2026-02-17 08:57:34.729 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:34.729] EXITING: UserServiceImpl.authenticateUser returned: UserResponse
2026-02-17 08:57:34.730 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@625793142 wrapping org.postgresql.jdbc.PgConnection@125ace20]
2026-02-17 08:57:34.731 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint UserController.authenticateUser responded in 80ms
2026-02-17 08:57:34.731 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: UserController.authenticateUser returned: ResponseEntity
2026-02-17 08:57:34.754 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@140719255 wrapping org.postgresql.jdbc.PgConnection@125ace20] read-only
2026-02-17 08:57:34.754 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:34.754] ENTERING: OrderServiceImpl.getOrders with arguments: [3, null, Page request [number: 0, size 20, sort: orderDate: DESC]]
2026-02-17 08:57:34.754 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:34.754] TRANSACTION START: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 08:57:34.757 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select o1_0.order_id,o1_0.created_at,o1_0.notes,o1_0.order_date,o1_0.payment_method,o1_0.payment_status,o1_0.shipping_address,o1_0.status,o1_0.total_amount,o1_0.updated_at,o1_0.user_id from orders o1_0 where o1_0.user_id=? order by o1_0.order_date desc offset ? rows fetch first ? rows only
2026-02-17 08:57:34.762 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:57:34.763 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 08:57:34.765 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:57:34.766 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id=?
2026-02-17 08:57:34.767 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:57:34.767 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:57:34.769 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:57:34.769 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:57:34.772 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 08:57:34.774 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:57:34.775 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 08:57:34.777 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 08:57:34.778 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:57:34.779 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:57:34.780 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:57:34.781 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 08:57:34.782 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 08:57:34.784 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:57:34.784 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:57:34.785 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:57:34.786 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:57:34.787 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:57:34.787 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:57:34.789 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:57:34.790 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:57:34.791 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:57:34.792 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:57:34.793 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:57:34.793 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:57:34.794 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:57:34.795 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:34.795] TRANSACTION COMMIT: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 08:57:34.795 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:34.795] EXITING: OrderServiceImpl.getOrders returned: PageImpl
2026-02-17 08:57:34.795 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@140719255 wrapping org.postgresql.jdbc.PgConnection@125ace20]
2026-02-17 08:57:34.801 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1012847838 wrapping org.postgresql.jdbc.PgConnection@125ace20] read-only
2026-02-17 08:57:34.801 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:34.801] ENTERING: CartServiceImpl.getCartItems with arguments: [3]
2026-02-17 08:57:34.804 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:34.804] TRANSACTION START: CartServiceImpl.getCartItems(Integer)
2026-02-17 08:57:34.808 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 where ci1_0.user_id=?
2026-02-17 08:57:34.814 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:34.814] TRANSACTION COMMIT: CartServiceImpl.getCartItems(Integer)
2026-02-17 08:57:34.815 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:34.815] EXITING: CartServiceImpl.getCartItems returned: ArrayList
2026-02-17 08:57:34.815 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1012847838 wrapping org.postgresql.jdbc.PgConnection@125ace20]
2026-02-17 08:57:34.819 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@918739429 wrapping org.postgresql.jdbc.PgConnection@125ace20] read-only
2026-02-17 08:57:34.820 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:34.820] ENTERING: ReviewServiceImpl.getReviewsByUser with arguments: [3]
2026-02-17 08:57:34.821 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:34.821] TRANSACTION START: ReviewServiceImpl.getReviewsByUser(Integer)
2026-02-17 08:57:34.825 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select r1_0.review_id,r1_0.comment,r1_0.created_at,r1_0.helpful_count,r1_0.is_verified_purchase,r1_0.product_id,r1_0.rating,r1_0.title,r1_0.updated_at,r1_0.user_id from reviews r1_0 where r1_0.user_id=?
2026-02-17 08:57:34.833 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:57:34.834 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id=?
2026-02-17 08:57:34.835 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:34.835] TRANSACTION COMMIT: ReviewServiceImpl.getReviewsByUser(Integer)
2026-02-17 08:57:34.836 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:34.836] EXITING: ReviewServiceImpl.getReviewsByUser returned: ArrayList
2026-02-17 08:57:34.836 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@918739429 wrapping org.postgresql.jdbc.PgConnection@125ace20]
2026-02-17 08:57:34.842 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@151670241 wrapping org.postgresql.jdbc.PgConnection@125ace20] read-only
2026-02-17 08:57:34.842 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:34.842] ENTERING: ProductServiceImpl.getProductsByIds with arguments: [[23]]
2026-02-17 08:57:34.842 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:34.842] TRANSACTION START: ProductServiceImpl.getProductsByIds(List)
2026-02-17 08:57:34.843 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 where p1_0.product_id in (?)
2026-02-17 08:57:34.844 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:57:34.846 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:57:34.847 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:34.847] TRANSACTION COMMIT: ProductServiceImpl.getProductsByIds(List)
2026-02-17 08:57:34.847 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:34.847] EXITING: ProductServiceImpl.getProductsByIds returned: ArrayList
2026-02-17 08:57:34.848 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@151670241 wrapping org.postgresql.jdbc.PgConnection@125ace20]
2026-02-17 08:57:36.987 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CategoryController.getAllCategories with arguments: []
2026-02-17 08:57:36.988 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@297721534 wrapping org.postgresql.jdbc.PgConnection@125ace20] read-only
2026-02-17 08:57:36.988 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:36.988] ENTERING: CategoryServiceImpl.getAllCategories with arguments: []
2026-02-17 08:57:36.989 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:36.989] TRANSACTION START: CategoryServiceImpl.getAllCategories()
2026-02-17 08:57:36.991 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0
2026-02-17 08:57:36.994 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:36.994] TRANSACTION COMMIT: CategoryServiceImpl.getAllCategories()
2026-02-17 08:57:36.994 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:36.994] EXITING: CategoryServiceImpl.getAllCategories returned: ArrayList
2026-02-17 08:57:36.995 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@297721534 wrapping org.postgresql.jdbc.PgConnection@125ace20]
2026-02-17 08:57:36.996 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CategoryController.getAllCategories responded in 9ms
2026-02-17 08:57:36.996 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CategoryController.getAllCategories returned: ResponseEntity
2026-02-17 08:57:37.005 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CategoryController.getAllCategories with arguments: []
2026-02-17 08:57:37.005 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: ProductController.getProductsWithFilters with arguments: [null, null, null, null, null, null, null, true, 0, 8, productName, ASC]
2026-02-17 08:57:37.005 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CategoryController.getAllCategories responded in 0ms
2026-02-17 08:57:37.005 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CategoryController.getAllCategories returned: ResponseEntity
2026-02-17 08:57:37.032 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1522823904 wrapping org.postgresql.jdbc.PgConnection@125ace20] read-only
2026-02-17 08:57:37.032 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:37.032] ENTERING: ProductServiceImpl.getProductsWithFilters with arguments: [com.shopjoy.dto.filter.ProductFilter@17704756, Page request [number: 0, size 8, sort: productName: ASC], productName, ASC]
2026-02-17 08:57:37.034 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:37.034] TRANSACTION START: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-17 08:57:37.042 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?) order by p1_0.product_name fetch first ? rows only
2026-02-17 08:57:37.045 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:57:37.046 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:57:37.047 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:57:37.049 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:57:37.049 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:57:37.051 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:57:37.053 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:57:37.055 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:57:37.058 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select count(*) from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?)
2026-02-17 08:57:37.058 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 08:57:37.060 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:37.060] TRANSACTION COMMIT: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-17 08:57:37.060 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:37.060] EXITING: ProductServiceImpl.getProductsWithFilters returned: PageImpl
2026-02-17 08:57:37.061 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1522823904 wrapping org.postgresql.jdbc.PgConnection@125ace20]
2026-02-17 08:57:37.062 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint ProductController.getProductsWithFilters responded in 57ms
2026-02-17 08:57:37.062 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: ProductController.getProductsWithFilters returned: ResponseEntity
2026-02-17 08:57:37.066 [http-nio-8080-exec-10] WARN  o.s.d.w.c.SpringDataJackson3Configuration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2026-02-17 08:57:37.081 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: ProductController.getProductsWithFilters with arguments: [null, null, null, null, null, null, null, true, 0, 8, productName, ASC]
2026-02-17 08:57:37.082 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1555055115 wrapping org.postgresql.jdbc.PgConnection@125ace20] read-only
2026-02-17 08:57:37.082 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:37.082] ENTERING: ProductServiceImpl.getProductsWithFilters with arguments: [com.shopjoy.dto.filter.ProductFilter@588fcdc2, Page request [number: 0, size 8, sort: productName: ASC], productName, ASC]
2026-02-17 08:57:37.082 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:37.082] TRANSACTION START: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-17 08:57:37.085 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?) order by p1_0.product_name fetch first ? rows only
2026-02-17 08:57:37.087 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:57:37.087 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:57:37.089 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:57:37.091 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:57:37.092 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:57:37.093 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:57:37.094 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:57:37.095 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:57:37.099 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select count(*) from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?)
2026-02-17 08:57:37.101 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 08:57:37.103 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:37.103] TRANSACTION COMMIT: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-17 08:57:37.103 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:37.103] EXITING: ProductServiceImpl.getProductsWithFilters returned: PageImpl
2026-02-17 08:57:37.103 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1555055115 wrapping org.postgresql.jdbc.PgConnection@125ace20]
2026-02-17 08:57:37.104 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint ProductController.getProductsWithFilters responded in 23ms
2026-02-17 08:57:37.104 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: ProductController.getProductsWithFilters returned: ResponseEntity
2026-02-17 08:57:39.489 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.addToCart with arguments: [com.shopjoy.dto.request.AddToCartRequest@30e9362b]
2026-02-17 08:57:39.489 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:39.489] ENTERING: CartServiceImpl.addToCart with arguments: [com.shopjoy.dto.request.AddToCartRequest@30e9362b]
2026-02-17 08:57:39.491 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:39.491] TRANSACTION START: CartServiceImpl.addToCart(AddToCartRequest)
2026-02-17 08:57:39.491 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:39.491] TRANSACTION START: CartServiceImpl.addToCart(AddToCartRequest)
2026-02-17 08:57:39.494 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:39.494] ENTERING: ProductServiceImpl.getProductById with arguments: [47]
2026-02-17 08:57:39.494 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:39.494] TRANSACTION START: ProductServiceImpl.getProductById(Integer)
2026-02-17 08:57:39.498 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:57:39.501 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:57:39.501 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:39.501] TRANSACTION COMMIT: ProductServiceImpl.getProductById(Integer)
2026-02-17 08:57:39.501 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:39.501] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-02-17 08:57:39.502 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:39.501] ENTERING: InventoryServiceImpl.hasAvailableStock with arguments: [47, 1]
2026-02-17 08:57:39.502 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:39.502] TRANSACTION START: InventoryServiceImpl.hasAvailableStock(Integer, int)
2026-02-17 08:57:39.522 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:57:39.522 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:39.522] TRANSACTION COMMIT: InventoryServiceImpl.hasAvailableStock(Integer, int)
2026-02-17 08:57:39.523 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:39.523] EXITING: InventoryServiceImpl.hasAvailableStock returned: Boolean
2026-02-17 08:57:39.527 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 where ci1_0.user_id=? and ci1_0.product_id=?
2026-02-17 08:57:39.543 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - insert into cart_items (added_at,product_id,quantity,user_id) values (?,?,?,?)
2026-02-17 08:57:39.575 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:39.575] TRANSACTION COMMIT: CartServiceImpl.addToCart(AddToCartRequest)
2026-02-17 08:57:39.575 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:39.575] TRANSACTION COMMIT: CartServiceImpl.addToCart(AddToCartRequest)
2026-02-17 08:57:39.575 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:39.575] EXITING: CartServiceImpl.addToCart returned: CartItemResponse
2026-02-17 08:57:39.577 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.CachingAspect - CACHE INVALIDATED: 1 entries cleared for CartServiceImpl.addToCart
2026-02-17 08:57:39.579 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.addToCart responded in 90ms
2026-02-17 08:57:39.579 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.addToCart returned: ResponseEntity
2026-02-17 08:57:42.604 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.getCartItems with arguments: [3]
2026-02-17 08:57:42.604 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.getCartTotal with arguments: [3]
2026-02-17 08:57:42.605 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1932418618 wrapping org.postgresql.jdbc.PgConnection@125ace20] read-only
2026-02-17 08:57:42.605 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1005022612 wrapping org.postgresql.jdbc.PgConnection@3fd8fe30] read-only
2026-02-17 08:57:42.605 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:42.605] ENTERING: CartServiceImpl.getCartItems with arguments: [3]
2026-02-17 08:57:42.605 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:42.605] ENTERING: CartServiceImpl.getCartTotal with arguments: [3]
2026-02-17 08:57:42.605 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:42.605] TRANSACTION START: CartServiceImpl.getCartItems(Integer)
2026-02-17 08:57:42.605 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:42.605] TRANSACTION START: CartServiceImpl.getCartTotal(Integer)
2026-02-17 08:57:42.606 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 where ci1_0.user_id=?
2026-02-17 08:57:42.607 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 where ci1_0.user_id=?
2026-02-17 08:57:42.608 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:57:42.612 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:42.612] TRANSACTION COMMIT: CartServiceImpl.getCartItems(Integer)
2026-02-17 08:57:42.612 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:42.612] EXITING: CartServiceImpl.getCartItems returned: ArrayList
2026-02-17 08:57:42.613 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:57:42.613 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1932418618 wrapping org.postgresql.jdbc.PgConnection@125ace20]
2026-02-17 08:57:42.613 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.getCartItems responded in 9ms
2026-02-17 08:57:42.613 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.getCartItems returned: ResponseEntity
2026-02-17 08:57:42.617 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.getCartItems with arguments: [3]
2026-02-17 08:57:42.617 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.getCartItems responded in 0ms
2026-02-17 08:57:42.617 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.getCartItems returned: ResponseEntity
2026-02-17 08:57:42.624 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:42.624] TRANSACTION COMMIT: CartServiceImpl.getCartTotal(Integer)
2026-02-17 08:57:42.624 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:42.624] EXITING: CartServiceImpl.getCartTotal returned: Double
2026-02-17 08:57:42.625 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1005022612 wrapping org.postgresql.jdbc.PgConnection@3fd8fe30]
2026-02-17 08:57:42.625 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.getCartTotal responded in 21ms
2026-02-17 08:57:42.625 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.getCartTotal returned: ResponseEntity
2026-02-17 08:57:42.630 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.getCartTotal with arguments: [3]
2026-02-17 08:57:42.631 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.getCartTotal responded in 0ms
2026-02-17 08:57:42.631 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.getCartTotal returned: ResponseEntity
2026-02-17 08:57:46.363 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.updateCartItemQuantity with arguments: [41, 2]
2026-02-17 08:57:46.364 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - DATA MODIFICATION STARTED: CartServiceImpl.updateCartItemQuantity(Integer, int) with arguments: [41, 2]
2026-02-17 08:57:46.364 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:46.364] ENTERING: CartServiceImpl.updateCartItemQuantity with arguments: [41, 2]
2026-02-17 08:57:46.364 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:46.364] TRANSACTIONAL DATA MODIFICATION: CartServiceImpl.updateCartItemQuantity(Integer, int) with arguments: [41, 2]
2026-02-17 08:57:46.364 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:46.364] TRANSACTION START: CartServiceImpl.updateCartItemQuantity(Integer, int)
2026-02-17 08:57:46.364 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:46.364] TRANSACTION START: CartServiceImpl.updateCartItemQuantity(Integer, int)
2026-02-17 08:57:46.366 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 join products p1_0 on p1_0.product_id=ci1_0.product_id left join inventory i1_0 on p1_0.product_id=i1_0.product_id where ci1_0.cart_item_id=?
2026-02-17 08:57:46.368 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:46.368] ENTERING: InventoryServiceImpl.hasAvailableStock with arguments: [47, 2]
2026-02-17 08:57:46.368 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:46.368] TRANSACTION START: InventoryServiceImpl.hasAvailableStock(Integer, int)
2026-02-17 08:57:46.369 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:57:46.371 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:46.371] TRANSACTION COMMIT: InventoryServiceImpl.hasAvailableStock(Integer, int)
2026-02-17 08:57:46.371 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:46.371] EXITING: InventoryServiceImpl.hasAvailableStock returned: Boolean
2026-02-17 08:57:46.373 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:46.373] TRANSACTION COMMIT: CartServiceImpl.updateCartItemQuantity(Integer, int)
2026-02-17 08:57:46.374 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:46.373] TRANSACTION COMMIT: CartServiceImpl.updateCartItemQuantity(Integer, int)
2026-02-17 08:57:46.374 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:46.374] EXITING: CartServiceImpl.updateCartItemQuantity returned: CartItemResponse
2026-02-17 08:57:46.374 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - DATA MODIFICATION COMPLETED: CartServiceImpl.updateCartItemQuantity(Integer, int) in 10ms
2026-02-17 08:57:46.379 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - update cart_items set product_id=?,quantity=?,user_id=? where cart_item_id=?
2026-02-17 08:57:46.382 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.CachingAspect - CACHE INVALIDATED: 2 entries cleared for CartServiceImpl.updateCartItemQuantity
2026-02-17 08:57:46.382 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.updateCartItemQuantity responded in 19ms
2026-02-17 08:57:46.382 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.updateCartItemQuantity returned: ResponseEntity
2026-02-17 08:57:46.387 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.getCartItems with arguments: [3]
2026-02-17 08:57:46.387 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.getCartTotal with arguments: [3]
2026-02-17 08:57:46.387 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@72621872 wrapping org.postgresql.jdbc.PgConnection@125ace20] read-only
2026-02-17 08:57:46.387 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:46.387] ENTERING: CartServiceImpl.getCartTotal with arguments: [3]
2026-02-17 08:57:46.387 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:46.387] TRANSACTION START: CartServiceImpl.getCartTotal(Integer)
2026-02-17 08:57:46.387 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@381426236 wrapping org.postgresql.jdbc.PgConnection@3fd8fe30] read-only
2026-02-17 08:57:46.387 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:46.387] ENTERING: CartServiceImpl.getCartItems with arguments: [3]
2026-02-17 08:57:46.387 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:46.387] TRANSACTION START: CartServiceImpl.getCartItems(Integer)
2026-02-17 08:57:46.387 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 where ci1_0.user_id=?
2026-02-17 08:57:46.387 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 where ci1_0.user_id=?
2026-02-17 08:57:46.389 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:57:46.389 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:57:46.389 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:46.389] TRANSACTION COMMIT: CartServiceImpl.getCartItems(Integer)
2026-02-17 08:57:46.389 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:46.389] TRANSACTION COMMIT: CartServiceImpl.getCartTotal(Integer)
2026-02-17 08:57:46.390 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:46.390] EXITING: CartServiceImpl.getCartItems returned: ArrayList
2026-02-17 08:57:46.390 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:46.390] EXITING: CartServiceImpl.getCartTotal returned: Double
2026-02-17 08:57:46.390 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@72621872 wrapping org.postgresql.jdbc.PgConnection@125ace20]
2026-02-17 08:57:46.390 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@381426236 wrapping org.postgresql.jdbc.PgConnection@3fd8fe30]
2026-02-17 08:57:46.390 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.getCartTotal responded in 3ms
2026-02-17 08:57:46.390 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.getCartItems responded in 3ms
2026-02-17 08:57:46.390 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.getCartTotal returned: ResponseEntity
2026-02-17 08:57:46.390 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.getCartItems returned: ResponseEntity
2026-02-17 08:57:46.483 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.updateCartItemQuantity with arguments: [41, 3]
2026-02-17 08:57:46.483 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - DATA MODIFICATION STARTED: CartServiceImpl.updateCartItemQuantity(Integer, int) with arguments: [41, 3]
2026-02-17 08:57:46.483 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:46.483] ENTERING: CartServiceImpl.updateCartItemQuantity with arguments: [41, 3]
2026-02-17 08:57:46.484 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:46.484] TRANSACTIONAL DATA MODIFICATION: CartServiceImpl.updateCartItemQuantity(Integer, int) with arguments: [41, 3]
2026-02-17 08:57:46.484 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:46.484] TRANSACTION START: CartServiceImpl.updateCartItemQuantity(Integer, int)
2026-02-17 08:57:46.484 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:46.484] TRANSACTION START: CartServiceImpl.updateCartItemQuantity(Integer, int)
2026-02-17 08:57:46.484 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 join products p1_0 on p1_0.product_id=ci1_0.product_id left join inventory i1_0 on p1_0.product_id=i1_0.product_id where ci1_0.cart_item_id=?
2026-02-17 08:57:46.486 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:46.486] ENTERING: InventoryServiceImpl.hasAvailableStock with arguments: [47, 3]
2026-02-17 08:57:46.487 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:46.486] TRANSACTION START: InventoryServiceImpl.hasAvailableStock(Integer, int)
2026-02-17 08:57:46.488 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:57:46.489 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:46.489] TRANSACTION COMMIT: InventoryServiceImpl.hasAvailableStock(Integer, int)
2026-02-17 08:57:46.489 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:46.489] EXITING: InventoryServiceImpl.hasAvailableStock returned: Boolean
2026-02-17 08:57:46.490 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:46.490] TRANSACTION COMMIT: CartServiceImpl.updateCartItemQuantity(Integer, int)
2026-02-17 08:57:46.490 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:46.490] TRANSACTION COMMIT: CartServiceImpl.updateCartItemQuantity(Integer, int)
2026-02-17 08:57:46.490 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:46.490] EXITING: CartServiceImpl.updateCartItemQuantity returned: CartItemResponse
2026-02-17 08:57:46.490 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - DATA MODIFICATION COMPLETED: CartServiceImpl.updateCartItemQuantity(Integer, int) in 7ms
2026-02-17 08:57:46.491 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - update cart_items set product_id=?,quantity=?,user_id=? where cart_item_id=?
2026-02-17 08:57:46.492 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.CachingAspect - CACHE INVALIDATED: 2 entries cleared for CartServiceImpl.updateCartItemQuantity
2026-02-17 08:57:46.492 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.updateCartItemQuantity responded in 9ms
2026-02-17 08:57:46.492 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.updateCartItemQuantity returned: ResponseEntity
2026-02-17 08:57:46.498 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.getCartItems with arguments: [3]
2026-02-17 08:57:46.498 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.getCartTotal with arguments: [3]
2026-02-17 08:57:46.498 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1685138989 wrapping org.postgresql.jdbc.PgConnection@125ace20] read-only
2026-02-17 08:57:46.498 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1564264124 wrapping org.postgresql.jdbc.PgConnection@3fd8fe30] read-only
2026-02-17 08:57:46.498 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:46.498] ENTERING: CartServiceImpl.getCartItems with arguments: [3]
2026-02-17 08:57:46.498 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:46.498] ENTERING: CartServiceImpl.getCartTotal with arguments: [3]
2026-02-17 08:57:46.498 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:46.498] TRANSACTION START: CartServiceImpl.getCartTotal(Integer)
2026-02-17 08:57:46.499 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:46.499] TRANSACTION START: CartServiceImpl.getCartItems(Integer)
2026-02-17 08:57:46.499 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 where ci1_0.user_id=?
2026-02-17 08:57:46.499 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 where ci1_0.user_id=?
2026-02-17 08:57:46.500 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:57:46.500 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:57:46.501 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:46.501] TRANSACTION COMMIT: CartServiceImpl.getCartTotal(Integer)
2026-02-17 08:57:46.501 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:46.501] TRANSACTION COMMIT: CartServiceImpl.getCartItems(Integer)
2026-02-17 08:57:46.502 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:46.502] EXITING: CartServiceImpl.getCartItems returned: ArrayList
2026-02-17 08:57:46.502 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:46.502] EXITING: CartServiceImpl.getCartTotal returned: Double
2026-02-17 08:57:46.502 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1685138989 wrapping org.postgresql.jdbc.PgConnection@125ace20]
2026-02-17 08:57:46.502 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1564264124 wrapping org.postgresql.jdbc.PgConnection@3fd8fe30]
2026-02-17 08:57:46.502 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.getCartTotal responded in 4ms
2026-02-17 08:57:46.502 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.getCartItems responded in 4ms
2026-02-17 08:57:46.502 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.getCartTotal returned: ResponseEntity
2026-02-17 08:57:46.502 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.getCartItems returned: ResponseEntity
2026-02-17 08:57:46.609 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.updateCartItemQuantity with arguments: [41, 4]
2026-02-17 08:57:46.609 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - DATA MODIFICATION STARTED: CartServiceImpl.updateCartItemQuantity(Integer, int) with arguments: [41, 4]
2026-02-17 08:57:46.609 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:46.609] ENTERING: CartServiceImpl.updateCartItemQuantity with arguments: [41, 4]
2026-02-17 08:57:46.609 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:46.609] TRANSACTIONAL DATA MODIFICATION: CartServiceImpl.updateCartItemQuantity(Integer, int) with arguments: [41, 4]
2026-02-17 08:57:46.609 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:46.609] TRANSACTION START: CartServiceImpl.updateCartItemQuantity(Integer, int)
2026-02-17 08:57:46.609 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:46.609] TRANSACTION START: CartServiceImpl.updateCartItemQuantity(Integer, int)
2026-02-17 08:57:46.609 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 join products p1_0 on p1_0.product_id=ci1_0.product_id left join inventory i1_0 on p1_0.product_id=i1_0.product_id where ci1_0.cart_item_id=?
2026-02-17 08:57:46.612 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:46.612] ENTERING: InventoryServiceImpl.hasAvailableStock with arguments: [47, 4]
2026-02-17 08:57:46.612 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:46.612] TRANSACTION START: InventoryServiceImpl.hasAvailableStock(Integer, int)
2026-02-17 08:57:46.613 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:57:46.614 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:46.614] TRANSACTION COMMIT: InventoryServiceImpl.hasAvailableStock(Integer, int)
2026-02-17 08:57:46.614 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:46.614] EXITING: InventoryServiceImpl.hasAvailableStock returned: Boolean
2026-02-17 08:57:46.614 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:46.614] TRANSACTION COMMIT: CartServiceImpl.updateCartItemQuantity(Integer, int)
2026-02-17 08:57:46.614 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:46.614] TRANSACTION COMMIT: CartServiceImpl.updateCartItemQuantity(Integer, int)
2026-02-17 08:57:46.614 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:46.614] EXITING: CartServiceImpl.updateCartItemQuantity returned: CartItemResponse
2026-02-17 08:57:46.614 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - DATA MODIFICATION COMPLETED: CartServiceImpl.updateCartItemQuantity(Integer, int) in 5ms
2026-02-17 08:57:46.615 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - update cart_items set product_id=?,quantity=?,user_id=? where cart_item_id=?
2026-02-17 08:57:46.617 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.CachingAspect - CACHE INVALIDATED: 2 entries cleared for CartServiceImpl.updateCartItemQuantity
2026-02-17 08:57:46.617 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.updateCartItemQuantity responded in 8ms
2026-02-17 08:57:46.617 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.updateCartItemQuantity returned: ResponseEntity
2026-02-17 08:57:46.622 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.getCartItems with arguments: [3]
2026-02-17 08:57:46.622 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.getCartTotal with arguments: [3]
2026-02-17 08:57:46.623 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1741808522 wrapping org.postgresql.jdbc.PgConnection@125ace20] read-only
2026-02-17 08:57:46.623 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@219029355 wrapping org.postgresql.jdbc.PgConnection@3fd8fe30] read-only
2026-02-17 08:57:46.623 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:46.623] ENTERING: CartServiceImpl.getCartItems with arguments: [3]
2026-02-17 08:57:46.623 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:46.623] ENTERING: CartServiceImpl.getCartTotal with arguments: [3]
2026-02-17 08:57:46.623 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:46.623] TRANSACTION START: CartServiceImpl.getCartItems(Integer)
2026-02-17 08:57:46.623 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:46.623] TRANSACTION START: CartServiceImpl.getCartTotal(Integer)
2026-02-17 08:57:46.624 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 where ci1_0.user_id=?
2026-02-17 08:57:46.624 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 where ci1_0.user_id=?
2026-02-17 08:57:46.625 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:57:46.625 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:57:46.626 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:46.626] TRANSACTION COMMIT: CartServiceImpl.getCartItems(Integer)
2026-02-17 08:57:46.626 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:46.626] TRANSACTION COMMIT: CartServiceImpl.getCartTotal(Integer)
2026-02-17 08:57:46.626 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:46.626] EXITING: CartServiceImpl.getCartItems returned: ArrayList
2026-02-17 08:57:46.626 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:46.626] EXITING: CartServiceImpl.getCartTotal returned: Double
2026-02-17 08:57:46.627 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1741808522 wrapping org.postgresql.jdbc.PgConnection@125ace20]
2026-02-17 08:57:46.627 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@219029355 wrapping org.postgresql.jdbc.PgConnection@3fd8fe30]
2026-02-17 08:57:46.627 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.getCartTotal responded in 5ms
2026-02-17 08:57:46.627 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.getCartItems responded in 5ms
2026-02-17 08:57:46.627 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.getCartTotal returned: ResponseEntity
2026-02-17 08:57:46.627 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.getCartItems returned: ResponseEntity
2026-02-17 08:57:46.806 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.updateCartItemQuantity with arguments: [41, 5]
2026-02-17 08:57:46.807 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - DATA MODIFICATION STARTED: CartServiceImpl.updateCartItemQuantity(Integer, int) with arguments: [41, 5]
2026-02-17 08:57:46.807 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:46.807] ENTERING: CartServiceImpl.updateCartItemQuantity with arguments: [41, 5]
2026-02-17 08:57:46.807 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:46.807] TRANSACTIONAL DATA MODIFICATION: CartServiceImpl.updateCartItemQuantity(Integer, int) with arguments: [41, 5]
2026-02-17 08:57:46.807 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:46.807] TRANSACTION START: CartServiceImpl.updateCartItemQuantity(Integer, int)
2026-02-17 08:57:46.807 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:46.807] TRANSACTION START: CartServiceImpl.updateCartItemQuantity(Integer, int)
2026-02-17 08:57:46.807 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 join products p1_0 on p1_0.product_id=ci1_0.product_id left join inventory i1_0 on p1_0.product_id=i1_0.product_id where ci1_0.cart_item_id=?
2026-02-17 08:57:46.810 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:46.810] ENTERING: InventoryServiceImpl.hasAvailableStock with arguments: [47, 5]
2026-02-17 08:57:46.811 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:46.811] TRANSACTION START: InventoryServiceImpl.hasAvailableStock(Integer, int)
2026-02-17 08:57:46.811 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:57:46.812 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:46.812] TRANSACTION COMMIT: InventoryServiceImpl.hasAvailableStock(Integer, int)
2026-02-17 08:57:46.812 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:46.812] EXITING: InventoryServiceImpl.hasAvailableStock returned: Boolean
2026-02-17 08:57:46.813 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:46.813] TRANSACTION COMMIT: CartServiceImpl.updateCartItemQuantity(Integer, int)
2026-02-17 08:57:46.813 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:46.813] TRANSACTION COMMIT: CartServiceImpl.updateCartItemQuantity(Integer, int)
2026-02-17 08:57:46.813 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:46.813] EXITING: CartServiceImpl.updateCartItemQuantity returned: CartItemResponse
2026-02-17 08:57:46.813 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - DATA MODIFICATION COMPLETED: CartServiceImpl.updateCartItemQuantity(Integer, int) in 6ms
2026-02-17 08:57:46.814 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - update cart_items set product_id=?,quantity=?,user_id=? where cart_item_id=?
2026-02-17 08:57:46.816 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.CachingAspect - CACHE INVALIDATED: 2 entries cleared for CartServiceImpl.updateCartItemQuantity
2026-02-17 08:57:46.817 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.updateCartItemQuantity responded in 11ms
2026-02-17 08:57:46.817 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.updateCartItemQuantity returned: ResponseEntity
2026-02-17 08:57:46.822 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.getCartTotal with arguments: [3]
2026-02-17 08:57:46.822 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.getCartItems with arguments: [3]
2026-02-17 08:57:46.822 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@2069681924 wrapping org.postgresql.jdbc.PgConnection@125ace20] read-only
2026-02-17 08:57:46.822 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@2015372232 wrapping org.postgresql.jdbc.PgConnection@3fd8fe30] read-only
2026-02-17 08:57:46.822 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:46.822] ENTERING: CartServiceImpl.getCartTotal with arguments: [3]
2026-02-17 08:57:46.822 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:46.822] ENTERING: CartServiceImpl.getCartItems with arguments: [3]
2026-02-17 08:57:46.822 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:46.822] TRANSACTION START: CartServiceImpl.getCartTotal(Integer)
2026-02-17 08:57:46.822 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:46.822] TRANSACTION START: CartServiceImpl.getCartItems(Integer)
2026-02-17 08:57:46.822 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 where ci1_0.user_id=?
2026-02-17 08:57:46.822 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 where ci1_0.user_id=?
2026-02-17 08:57:46.823 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:57:46.823 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:57:46.824 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:46.824] TRANSACTION COMMIT: CartServiceImpl.getCartTotal(Integer)
2026-02-17 08:57:46.824 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:46.824] TRANSACTION COMMIT: CartServiceImpl.getCartItems(Integer)
2026-02-17 08:57:46.824 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:46.824] EXITING: CartServiceImpl.getCartTotal returned: Double
2026-02-17 08:57:46.824 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:46.824] EXITING: CartServiceImpl.getCartItems returned: ArrayList
2026-02-17 08:57:46.826 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@2015372232 wrapping org.postgresql.jdbc.PgConnection@3fd8fe30]
2026-02-17 08:57:46.826 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@2069681924 wrapping org.postgresql.jdbc.PgConnection@125ace20]
2026-02-17 08:57:46.826 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.getCartTotal responded in 4ms
2026-02-17 08:57:46.826 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.getCartItems responded in 4ms
2026-02-17 08:57:46.826 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.getCartTotal returned: ResponseEntity
2026-02-17 08:57:46.826 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.getCartItems returned: ResponseEntity
2026-02-17 08:57:47.971 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: OrderController.createOrder with arguments: [com.shopjoy.dto.request.CreateOrderRequest@3a4e131d]
2026-02-17 08:57:47.972 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Changing isolation level of JDBC Connection [HikariProxyConnection@960177609 wrapping org.postgresql.jdbc.PgConnection@125ace20] to 8
2026-02-17 08:57:47.972 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - DATA MODIFICATION STARTED: OrderServiceImpl.createOrder(CreateOrderRequest) with arguments: [com.shopjoy.dto.request.CreateOrderRequest@3a4e131d]
2026-02-17 08:57:47.972 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:47.972] ENTERING: OrderServiceImpl.createOrder with arguments: [com.shopjoy.dto.request.CreateOrderRequest@3a4e131d]
2026-02-17 08:57:47.972 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:47.972] TRANSACTIONAL DATA MODIFICATION: OrderServiceImpl.createOrder(CreateOrderRequest) with arguments: [com.shopjoy.dto.request.CreateOrderRequest@3a4e131d]
2026-02-17 08:57:47.973 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:47.973] TRANSACTION START: OrderServiceImpl.createOrder(CreateOrderRequest)
2026-02-17 08:57:47.973 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:47.973] TRANSACTION START: OrderServiceImpl.createOrder(CreateOrderRequest)
2026-02-17 08:57:47.973 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:47.973] ENTERING: UserServiceImpl.getUserById with arguments: [3]
2026-02-17 08:57:47.973 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:47.973] TRANSACTION START: UserServiceImpl.getUserById(Integer)
2026-02-17 08:57:47.974 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id=?
2026-02-17 08:57:47.976 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:47.976] TRANSACTION COMMIT: UserServiceImpl.getUserById(Integer)
2026-02-17 08:57:47.976 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:47.976] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-02-17 08:57:47.977 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:47.977] ENTERING: ProductServiceImpl.getProductsByIds with arguments: [[41]]
2026-02-17 08:57:47.977 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:47.977] TRANSACTION START: ProductServiceImpl.getProductsByIds(List)
2026-02-17 08:57:47.978 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 where p1_0.product_id in (?)
2026-02-17 08:57:47.980 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:57:47.981 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:57:47.982 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:47.982] TRANSACTION COMMIT: ProductServiceImpl.getProductsByIds(List)
2026-02-17 08:57:47.982 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:47.982] EXITING: ProductServiceImpl.getProductsByIds returned: ArrayList
2026-02-17 08:57:47.983 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:47.983] ENTERING: InventoryServiceImpl.hasAvailableStock with arguments: [41, 5]
2026-02-17 08:57:47.983 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:47.983] TRANSACTION START: InventoryServiceImpl.hasAvailableStock(Integer, int)
2026-02-17 08:57:47.984 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:57:47.984 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:47.984] TRANSACTION COMMIT: InventoryServiceImpl.hasAvailableStock(Integer, int)
2026-02-17 08:57:47.985 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:47.984] EXITING: InventoryServiceImpl.hasAvailableStock returned: Boolean
2026-02-17 08:57:47.985 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:47.985] ENTERING: InventoryServiceImpl.reserveStock with arguments: [41, 5]
2026-02-17 08:57:47.985 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:47.985] TRANSACTION START: InventoryServiceImpl.reserveStock(Integer, int)
2026-02-17 08:57:47.985 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:47.985] TRANSACTION START: InventoryServiceImpl.reserveStock(Integer, int)
2026-02-17 08:57:47.988 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:57:47.990 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:47.990] TRANSACTION COMMIT: InventoryServiceImpl.reserveStock(Integer, int)
2026-02-17 08:57:47.990 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:47.990] TRANSACTION COMMIT: InventoryServiceImpl.reserveStock(Integer, int)
2026-02-17 08:57:47.991 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:47.991] EXITING: InventoryServiceImpl.reserveStock returned: void
2026-02-17 08:57:47.992 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - insert into orders (created_at,notes,order_date,payment_method,payment_status,shipping_address,status,total_amount,updated_at,user_id) values (?,?,?,?,?,?,?,?,?,?)
2026-02-17 08:57:48.010 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - insert into order_items (created_at,order_id,product_id,quantity,subtotal,unit_price) values (?,?,?,?,?,?)
2026-02-17 08:57:48.014 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:48.014] TRANSACTION COMMIT: OrderServiceImpl.createOrder(CreateOrderRequest)
2026-02-17 08:57:48.014 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:48.014] TRANSACTION COMMIT: OrderServiceImpl.createOrder(CreateOrderRequest)
2026-02-17 08:57:48.014 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:48.014] EXITING: OrderServiceImpl.createOrder returned: OrderResponse
2026-02-17 08:57:48.014 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - DATA MODIFICATION COMPLETED: OrderServiceImpl.createOrder(CreateOrderRequest) in 42ms
2026-02-17 08:57:48.017 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - update inventory set last_restocked=?,product_id=?,quantity_in_stock=?,reorder_level=?,updated_at=?,warehouse_location=? where inventory_id=?
2026-02-17 08:57:48.020 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting isolation level of JDBC Connection [HikariProxyConnection@960177609 wrapping org.postgresql.jdbc.PgConnection@125ace20] to 2
2026-02-17 08:57:48.021 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.CachingAspect - CACHE INVALIDATED: 3 entries cleared for OrderServiceImpl.createOrder
2026-02-17 08:57:48.021 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint OrderController.createOrder responded in 50ms
2026-02-17 08:57:48.021 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: OrderController.createOrder returned: ResponseEntity
2026-02-17 08:57:48.028 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.clearCart with arguments: [3]
2026-02-17 08:57:48.030 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:48.030] ENTERING: CartServiceImpl.clearCart with arguments: [3]
2026-02-17 08:57:48.030 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:48.030] TRANSACTION START: CartServiceImpl.clearCart(Integer)
2026-02-17 08:57:48.030 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:48.030] TRANSACTION START: CartServiceImpl.clearCart(Integer)
2026-02-17 08:57:48.031 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 where ci1_0.user_id=?
2026-02-17 08:57:48.032 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:57:48.036 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:48.036] TRANSACTION COMMIT: CartServiceImpl.clearCart(Integer)
2026-02-17 08:57:48.036 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:48.036] TRANSACTION COMMIT: CartServiceImpl.clearCart(Integer)
2026-02-17 08:57:48.036 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:48.036] EXITING: CartServiceImpl.clearCart returned: void
2026-02-17 08:57:48.038 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - delete from cart_items where cart_item_id=?
2026-02-17 08:57:48.043 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.CachingAspect - CACHE INVALIDATED: 2 entries cleared for CartServiceImpl.clearCart
2026-02-17 08:57:48.043 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.clearCart responded in 14ms
2026-02-17 08:57:48.043 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.clearCart returned: ResponseEntity
2026-02-17 08:57:48.048 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.getCartItems with arguments: [3]
2026-02-17 08:57:48.048 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.getCartTotal with arguments: [3]
2026-02-17 08:57:48.048 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1048112626 wrapping org.postgresql.jdbc.PgConnection@125ace20] read-only
2026-02-17 08:57:48.048 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@154566621 wrapping org.postgresql.jdbc.PgConnection@3fd8fe30] read-only
2026-02-17 08:57:48.048 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:48.048] ENTERING: CartServiceImpl.getCartTotal with arguments: [3]
2026-02-17 08:57:48.048 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:48.048] ENTERING: CartServiceImpl.getCartItems with arguments: [3]
2026-02-17 08:57:48.048 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:48.048] TRANSACTION START: CartServiceImpl.getCartTotal(Integer)
2026-02-17 08:57:48.048 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:48.048] TRANSACTION START: CartServiceImpl.getCartItems(Integer)
2026-02-17 08:57:48.049 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 where ci1_0.user_id=?
2026-02-17 08:57:48.049 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 where ci1_0.user_id=?
2026-02-17 08:57:48.050 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:48.050] TRANSACTION COMMIT: CartServiceImpl.getCartTotal(Integer)
2026-02-17 08:57:48.050 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:48.050] TRANSACTION COMMIT: CartServiceImpl.getCartItems(Integer)
2026-02-17 08:57:48.050 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:48.050] EXITING: CartServiceImpl.getCartTotal returned: Double
2026-02-17 08:57:48.050 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:48.050] EXITING: CartServiceImpl.getCartItems returned: ArrayList
2026-02-17 08:57:48.051 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@154566621 wrapping org.postgresql.jdbc.PgConnection@3fd8fe30]
2026-02-17 08:57:48.051 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1048112626 wrapping org.postgresql.jdbc.PgConnection@125ace20]
2026-02-17 08:57:48.051 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.getCartItems responded in 3ms
2026-02-17 08:57:48.051 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.getCartTotal responded in 3ms
2026-02-17 08:57:48.051 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.getCartTotal returned: ResponseEntity
2026-02-17 08:57:48.051 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.getCartItems returned: ResponseEntity
2026-02-17 08:57:54.330 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1815755821 wrapping org.postgresql.jdbc.PgConnection@125ace20] read-only
2026-02-17 08:57:54.330 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:54.330] ENTERING: OrderServiceImpl.getOrders with arguments: [3, OrderFilter(status=null, paymentStatus=null, startDate=null, endDate=null, minAmount=null, maxAmount=null, searchTerm=null), Page request [number: 0, size 10, sort: orderDate: DESC]]
2026-02-17 08:57:54.330 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:54.330] TRANSACTION START: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 08:57:54.332 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select o1_0.order_id,o1_0.created_at,o1_0.notes,o1_0.order_date,o1_0.payment_method,o1_0.payment_status,o1_0.shipping_address,o1_0.status,o1_0.total_amount,o1_0.updated_at,o1_0.user_id from orders o1_0 where o1_0.user_id=? order by o1_0.order_date desc offset ? rows fetch first ? rows only
2026-02-17 08:57:54.337 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select count(o1_0.order_id) from orders o1_0 where o1_0.user_id=?
2026-02-17 08:57:54.338 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:57:54.339 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:57:54.341 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:57:54.342 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id=?
2026-02-17 08:57:54.343 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:57:54.344 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 08:57:54.347 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:57:54.348 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:57:54.351 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:57:54.352 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:57:54.353 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:57:54.354 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:57:54.355 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 08:57:54.355 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 08:57:54.357 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:57:54.358 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:57:54.359 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:57:54.360 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 08:57:54.362 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 08:57:54.364 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:57:54.364 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:57:54.365 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:57:54.366 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:57:54.367 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:57:54.368 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:57:54.368] TRANSACTION COMMIT: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 08:57:54.368 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:57:54.368] EXITING: OrderServiceImpl.getOrders returned: PageImpl
2026-02-17 08:57:54.368 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1815755821 wrapping org.postgresql.jdbc.PgConnection@125ace20]
2026-02-17 08:58:09.110 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Changing isolation level of JDBC Connection [HikariProxyConnection@284833136 wrapping org.postgresql.jdbc.PgConnection@3fd8fe30] to 8
2026-02-17 08:58:09.110 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - DATA MODIFICATION STARTED: OrderServiceImpl.updateOrder(Integer, UpdateOrderRequest) with arguments: [27, com.shopjoy.dto.request.UpdateOrderRequest@7812ee15]
2026-02-17 08:58:09.112 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:58:09.112] ENTERING: OrderServiceImpl.updateOrder with arguments: [27, com.shopjoy.dto.request.UpdateOrderRequest@7812ee15]
2026-02-17 08:58:09.112 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:09.112] TRANSACTIONAL DATA MODIFICATION: OrderServiceImpl.updateOrder(Integer, UpdateOrderRequest) with arguments: [27, com.shopjoy.dto.request.UpdateOrderRequest@7812ee15]
2026-02-17 08:58:09.112 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:09.112] TRANSACTION START: OrderServiceImpl.updateOrder(Integer, UpdateOrderRequest)
2026-02-17 08:58:09.112 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:09.112] TRANSACTION START: OrderServiceImpl.updateOrder(Integer, UpdateOrderRequest)
2026-02-17 08:58:09.112 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select o1_0.order_id,o1_0.created_at,o1_0.notes,o1_0.order_date,o1_0.payment_method,o1_0.payment_status,o1_0.shipping_address,o1_0.status,o1_0.total_amount,o1_0.updated_at,o1_0.user_id from orders o1_0 where o1_0.order_id=?
2026-02-17 08:58:09.124 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_item_id,oi1_0.created_at,oi1_0.order_id,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:09.131 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:58:09.131] ENTERING: InventoryServiceImpl.releaseStock with arguments: [41, 5]
2026-02-17 08:58:09.131 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:09.131] TRANSACTION START: InventoryServiceImpl.releaseStock(Integer, int)
2026-02-17 08:58:09.131 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:09.131] TRANSACTION START: InventoryServiceImpl.releaseStock(Integer, int)
2026-02-17 08:58:09.133 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:58:09.135 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:09.135] TRANSACTION COMMIT: InventoryServiceImpl.releaseStock(Integer, int)
2026-02-17 08:58:09.135 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:09.135] TRANSACTION COMMIT: InventoryServiceImpl.releaseStock(Integer, int)
2026-02-17 08:58:09.135 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:58:09.135] EXITING: InventoryServiceImpl.releaseStock returned: void
2026-02-17 08:58:09.139 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:58:09.139] ENTERING: ProductServiceImpl.getProductById with arguments: [41]
2026-02-17 08:58:09.139 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:09.139] TRANSACTION START: ProductServiceImpl.getProductById(Integer)
2026-02-17 08:58:09.139 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:09.142 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:58:09.147 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:09.147] TRANSACTION COMMIT: ProductServiceImpl.getProductById(Integer)
2026-02-17 08:58:09.147 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:58:09.147] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-02-17 08:58:09.148 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:58:09.148] ENTERING: InventoryServiceImpl.hasAvailableStock with arguments: [41, 5]
2026-02-17 08:58:09.148 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:09.148] TRANSACTION START: InventoryServiceImpl.hasAvailableStock(Integer, int)
2026-02-17 08:58:09.150 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - update orders set created_at=?,notes=?,order_date=?,payment_method=?,payment_status=?,shipping_address=?,status=?,total_amount=?,updated_at=?,user_id=? where order_id=?
2026-02-17 08:58:09.151 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - update inventory set last_restocked=?,product_id=?,quantity_in_stock=?,reorder_level=?,updated_at=?,warehouse_location=? where inventory_id=?
2026-02-17 08:58:09.153 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - delete from order_items where order_item_id=?
2026-02-17 08:58:09.154 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:58:09.156 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:09.155] TRANSACTION COMMIT: InventoryServiceImpl.hasAvailableStock(Integer, int)
2026-02-17 08:58:09.156 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:58:09.156] EXITING: InventoryServiceImpl.hasAvailableStock returned: Boolean
2026-02-17 08:58:09.156 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:58:09.156] ENTERING: InventoryServiceImpl.reserveStock with arguments: [41, 5]
2026-02-17 08:58:09.156 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:09.156] TRANSACTION START: InventoryServiceImpl.reserveStock(Integer, int)
2026-02-17 08:58:09.156 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:09.156] TRANSACTION START: InventoryServiceImpl.reserveStock(Integer, int)
2026-02-17 08:58:09.157 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-17 08:58:09.159 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:09.159] TRANSACTION COMMIT: InventoryServiceImpl.reserveStock(Integer, int)
2026-02-17 08:58:09.159 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:09.159] TRANSACTION COMMIT: InventoryServiceImpl.reserveStock(Integer, int)
2026-02-17 08:58:09.160 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:58:09.160] EXITING: InventoryServiceImpl.reserveStock returned: void
2026-02-17 08:58:09.161 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - insert into order_items (created_at,order_id,product_id,quantity,subtotal,unit_price) values (?,?,?,?,?,?)
2026-02-17 08:58:09.165 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:09.166 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id=?
2026-02-17 08:58:09.171 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:09.171] TRANSACTION COMMIT: OrderServiceImpl.updateOrder(Integer, UpdateOrderRequest)
2026-02-17 08:58:09.171 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:09.171] TRANSACTION COMMIT: OrderServiceImpl.updateOrder(Integer, UpdateOrderRequest)
2026-02-17 08:58:09.171 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:58:09.171] EXITING: OrderServiceImpl.updateOrder returned: OrderResponse
2026-02-17 08:58:09.171 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - DATA MODIFICATION COMPLETED: OrderServiceImpl.updateOrder(Integer, UpdateOrderRequest) in 61ms
2026-02-17 08:58:09.173 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - update orders set created_at=?,notes=?,order_date=?,payment_method=?,payment_status=?,shipping_address=?,status=?,total_amount=?,updated_at=?,user_id=? where order_id=?
2026-02-17 08:58:09.175 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - update inventory set last_restocked=?,product_id=?,quantity_in_stock=?,reorder_level=?,updated_at=?,warehouse_location=? where inventory_id=?
2026-02-17 08:58:09.178 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting isolation level of JDBC Connection [HikariProxyConnection@284833136 wrapping org.postgresql.jdbc.PgConnection@3fd8fe30] to 2
2026-02-17 08:58:09.178 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.CachingAspect - CACHE INVALIDATED: 1 entries cleared for OrderServiceImpl.updateOrder
2026-02-17 08:58:09.196 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@637940482 wrapping org.postgresql.jdbc.PgConnection@3fd8fe30] read-only
2026-02-17 08:58:09.196 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:58:09.196] ENTERING: OrderServiceImpl.getOrders with arguments: [null, null, Page request [number: 0, size 20, sort: orderDate: DESC]]
2026-02-17 08:58:09.196 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1721083634 wrapping org.postgresql.jdbc.PgConnection@125ace20] read-only
2026-02-17 08:58:09.196 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:09.196] TRANSACTION START: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 08:58:09.196 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:58:09.196] ENTERING: OrderServiceImpl.getOrders with arguments: [null, null, Page request [number: 0, size 20, sort: orderDate: DESC]]
2026-02-17 08:58:09.196 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:09.196] TRANSACTION START: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 08:58:09.198 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select o1_0.order_id,o1_0.created_at,o1_0.notes,o1_0.order_date,o1_0.payment_method,o1_0.payment_status,o1_0.shipping_address,o1_0.status,o1_0.total_amount,o1_0.updated_at,o1_0.user_id from orders o1_0 where 1=1 order by o1_0.order_date desc offset ? rows fetch first ? rows only
2026-02-17 08:58:09.198 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select o1_0.order_id,o1_0.created_at,o1_0.notes,o1_0.order_date,o1_0.payment_method,o1_0.payment_status,o1_0.shipping_address,o1_0.status,o1_0.total_amount,o1_0.updated_at,o1_0.user_id from orders o1_0 where 1=1 order by o1_0.order_date desc offset ? rows fetch first ? rows only
2026-02-17 08:58:09.202 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:09.202 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:09.203 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:09.203 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:09.204 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:58:09.204 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:58:09.205 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id = any (?)
2026-02-17 08:58:09.205 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id = any (?)
2026-02-17 08:58:09.207 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:09.207 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:09.209 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 08:58:09.209 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 08:58:09.210 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:09.211 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:09.211 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:09.212 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:09.212 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:09.213 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:09.213 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:09.214 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:58:09.215 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:09.215 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:09.216 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:09.216 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:58:09.218 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:09.218 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:09.219 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:09.219 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:09.220 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:09.220 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:09.220 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 08:58:09.220 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:09.221 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:09.221 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 08:58:09.223 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:09.223 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 08:58:09.225 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:09.226 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:09.226 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 08:58:09.227 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 08:58:09.227 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:09.228 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:09.228 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 08:58:09.229 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:09.229 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:09.230 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 08:58:09.230 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:09.232 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:58:09.233 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:09.233 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 08:58:09.233 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:09.234 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:09.234 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:09.235 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:09.235 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:09.237 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:58:09.237 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:09.238 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:09.238 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:58:09.238 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:09.238 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:09.239 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:09.239 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:09.240 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:09.240 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:58:09.241 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:09.241 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:09.242 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:58:09.257 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:09.257 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:09.259 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:09.259 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:09.259] TRANSACTION COMMIT: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 08:58:09.259 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:58:09.259] EXITING: OrderServiceImpl.getOrders returned: PageImpl
2026-02-17 08:58:09.260 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:58:09.261 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:09.261 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:09.263 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1721083634 wrapping org.postgresql.jdbc.PgConnection@125ace20]
2026-02-17 08:58:09.265 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:09.265] TRANSACTION COMMIT: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 08:58:09.265 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:58:09.265] EXITING: OrderServiceImpl.getOrders returned: PageImpl
2026-02-17 08:58:09.265 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@637940482 wrapping org.postgresql.jdbc.PgConnection@3fd8fe30]
2026-02-17 08:58:09.349 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1633966520 wrapping org.postgresql.jdbc.PgConnection@3fd8fe30] read-only
2026-02-17 08:58:09.349 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:58:09.349] ENTERING: OrderServiceImpl.getOrders with arguments: [3, OrderFilter(status=null, paymentStatus=null, startDate=null, endDate=null, minAmount=null, maxAmount=null, searchTerm=null), Page request [number: 0, size 10, sort: orderDate: DESC]]
2026-02-17 08:58:09.349 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:09.349] TRANSACTION START: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 08:58:09.351 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select o1_0.order_id,o1_0.created_at,o1_0.notes,o1_0.order_date,o1_0.payment_method,o1_0.payment_status,o1_0.shipping_address,o1_0.status,o1_0.total_amount,o1_0.updated_at,o1_0.user_id from orders o1_0 where o1_0.user_id=? order by o1_0.order_date desc offset ? rows fetch first ? rows only
2026-02-17 08:58:09.356 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select count(o1_0.order_id) from orders o1_0 where o1_0.user_id=?
2026-02-17 08:58:09.358 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:09.358 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:09.360 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:58:09.361 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id=?
2026-02-17 08:58:09.363 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:09.364 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 08:58:09.366 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:09.367 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:09.368 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:58:09.370 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:09.371 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:09.372 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:09.374 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 08:58:09.376 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 08:58:09.379 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:09.380 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:09.381 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:09.382 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 08:58:09.393 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 08:58:09.397 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:09.398 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:09.400 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:58:09.401 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:09.403 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:09.404 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:09.404] TRANSACTION COMMIT: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 08:58:09.404 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:58:09.404] EXITING: OrderServiceImpl.getOrders returned: PageImpl
2026-02-17 08:58:09.404 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1633966520 wrapping org.postgresql.jdbc.PgConnection@3fd8fe30]
2026-02-17 08:58:26.794 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: UserController.authenticateUser with arguments: [***REDACTED***]
2026-02-17 08:58:26.796 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1708710179 wrapping org.postgresql.jdbc.PgConnection@125ace20] read-only
2026-02-17 08:58:26.796 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:58:26.796] ENTERING: UserServiceImpl.authenticateUser with arguments: [admin, ***REDACTED***]
2026-02-17 08:58:26.796 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:26.796] TRANSACTION START: UserServiceImpl.authenticateUser(String, String)
2026-02-17 08:58:26.797 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-17 08:58:26.873 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:26.873] TRANSACTION COMMIT: UserServiceImpl.authenticateUser(String, String)
2026-02-17 08:58:26.874 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:58:26.874] EXITING: UserServiceImpl.authenticateUser returned: UserResponse
2026-02-17 08:58:26.874 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1708710179 wrapping org.postgresql.jdbc.PgConnection@125ace20]
2026-02-17 08:58:26.874 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint UserController.authenticateUser responded in 80ms
2026-02-17 08:58:26.874 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: UserController.authenticateUser returned: ResponseEntity
2026-02-17 08:58:26.895 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: PerformanceController.getMetrics with arguments: []
2026-02-17 08:58:26.896 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint PerformanceController.getMetrics responded in 1ms
2026-02-17 08:58:26.896 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: PerformanceController.getMetrics returned: ResponseEntity
2026-02-17 08:58:26.898 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: PerformanceController.getMetrics with arguments: []
2026-02-17 08:58:26.900 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint PerformanceController.getMetrics responded in 0ms
2026-02-17 08:58:26.900 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: PerformanceController.getMetrics returned: ResponseEntity
2026-02-17 08:58:28.945 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@167251184 wrapping org.postgresql.jdbc.PgConnection@3fd8fe30] read-only
2026-02-17 08:58:28.945 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:58:28.945] ENTERING: OrderServiceImpl.getOrders with arguments: [null, OrderFilter(status=null, paymentStatus=null, startDate=null, endDate=null, minAmount=null, maxAmount=null, searchTerm=null), Page request [number: 0, size 20, sort: orderDate: DESC]]
2026-02-17 08:58:28.946 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:28.946] TRANSACTION START: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 08:58:28.947 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select o1_0.order_id,o1_0.created_at,o1_0.notes,o1_0.order_date,o1_0.payment_method,o1_0.payment_status,o1_0.shipping_address,o1_0.status,o1_0.total_amount,o1_0.updated_at,o1_0.user_id from orders o1_0 where 1=1 order by o1_0.order_date desc offset ? rows fetch first ? rows only
2026-02-17 08:58:28.950 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:28.951 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:28.952 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:58:28.954 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id = any (?)
2026-02-17 08:58:28.955 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:28.956 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 08:58:28.958 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:28.959 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:28.960 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:28.961 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:28.962 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:58:28.962 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:28.963 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:28.964 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:28.964 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:28.965 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:28.967 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 08:58:28.968 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 08:58:28.969 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:28.970 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:28.971 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:28.971 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 08:58:28.973 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 08:58:28.973 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:28.973 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:28.974 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:58:28.974 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:28.974 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:28.976 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:28.977 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:28.977 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:28.978 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:58:28.978 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:28.979 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:28.980 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:58:28.980 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:28.980 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:28.982 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:28.982] TRANSACTION COMMIT: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 08:58:28.982 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:58:28.982] EXITING: OrderServiceImpl.getOrders returned: PageImpl
2026-02-17 08:58:28.983 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@167251184 wrapping org.postgresql.jdbc.PgConnection@3fd8fe30]
2026-02-17 08:58:32.093 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: OrderController.processPayment with arguments: [27, TXN-U5R53DC1S]
2026-02-17 08:58:32.093 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:58:32.093] ENTERING: OrderServiceImpl.processPayment with arguments: [27, TXN-U5R53DC1S]
2026-02-17 08:58:32.095 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:32.094] TRANSACTION START: OrderServiceImpl.processPayment(Integer, String)
2026-02-17 08:58:32.095 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:32.095] TRANSACTION START: OrderServiceImpl.processPayment(Integer, String)
2026-02-17 08:58:32.096 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select o1_0.order_id,o1_0.created_at,o1_0.notes,o1_0.order_date,o1_0.payment_method,o1_0.payment_status,o1_0.shipping_address,o1_0.status,o1_0.total_amount,o1_0.updated_at,o1_0.user_id from orders o1_0 where o1_0.order_id=?
2026-02-17 08:58:32.102 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:32.103 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:32.103 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:58:32.104 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id=?
2026-02-17 08:58:32.104 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:32.104] TRANSACTION COMMIT: OrderServiceImpl.processPayment(Integer, String)
2026-02-17 08:58:32.104 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:32.104] TRANSACTION COMMIT: OrderServiceImpl.processPayment(Integer, String)
2026-02-17 08:58:32.104 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:58:32.104] EXITING: OrderServiceImpl.processPayment returned: OrderResponse
2026-02-17 08:58:32.106 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - update orders set created_at=?,notes=?,order_date=?,payment_method=?,payment_status=?,shipping_address=?,status=?,total_amount=?,updated_at=?,user_id=? where order_id=?
2026-02-17 08:58:32.113 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.CachingAspect - CACHE INVALIDATED: 3 entries cleared for OrderServiceImpl.processPayment
2026-02-17 08:58:32.113 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint OrderController.processPayment responded in 20ms
2026-02-17 08:58:32.113 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: OrderController.processPayment returned: ResponseEntity
2026-02-17 08:58:32.123 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1993779301 wrapping org.postgresql.jdbc.PgConnection@3fd8fe30] read-only
2026-02-17 08:58:32.124 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:58:32.124] ENTERING: OrderServiceImpl.getOrders with arguments: [null, OrderFilter(status=null, paymentStatus=null, startDate=null, endDate=null, minAmount=null, maxAmount=null, searchTerm=null), Page request [number: 0, size 20, sort: orderDate: DESC]]
2026-02-17 08:58:32.124 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:32.124] TRANSACTION START: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 08:58:32.125 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select o1_0.order_id,o1_0.created_at,o1_0.notes,o1_0.order_date,o1_0.payment_method,o1_0.payment_status,o1_0.shipping_address,o1_0.status,o1_0.total_amount,o1_0.updated_at,o1_0.user_id from orders o1_0 where 1=1 order by o1_0.order_date desc offset ? rows fetch first ? rows only
2026-02-17 08:58:32.129 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:32.130 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:32.130 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:58:32.131 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id = any (?)
2026-02-17 08:58:32.132 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:32.133 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 08:58:32.134 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:32.135 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:32.137 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:32.138 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:32.138 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:58:32.139 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:32.140 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:32.141 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:32.141 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:32.142 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:32.142 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 08:58:32.144 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 08:58:32.145 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:32.146 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:32.146 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:32.146 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 08:58:32.148 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 08:58:32.148 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:32.148 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:32.149 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:58:32.149 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:32.151 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:32.151 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:32.151 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:32.151 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:32.152 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:58:32.153 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:32.153 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:32.154 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:58:32.154 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:32.154 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:32.154 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:32.154] TRANSACTION COMMIT: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 08:58:32.155 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:58:32.155] EXITING: OrderServiceImpl.getOrders returned: PageImpl
2026-02-17 08:58:32.155 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1993779301 wrapping org.postgresql.jdbc.PgConnection@3fd8fe30]
2026-02-17 08:58:34.431 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - DATA MODIFICATION STARTED: OrderServiceImpl.updateOrderStatus(Integer, OrderStatus) with arguments: [27, SHIPPED]
2026-02-17 08:58:34.431 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:58:34.431] ENTERING: OrderServiceImpl.updateOrderStatus with arguments: [27, SHIPPED]
2026-02-17 08:58:34.432 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:34.432] TRANSACTIONAL DATA MODIFICATION: OrderServiceImpl.updateOrderStatus(Integer, OrderStatus) with arguments: [27, SHIPPED]
2026-02-17 08:58:34.432 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:34.432] TRANSACTION START: OrderServiceImpl.updateOrderStatus(Integer, OrderStatus)
2026-02-17 08:58:34.432 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:34.432] TRANSACTION START: OrderServiceImpl.updateOrderStatus(Integer, OrderStatus)
2026-02-17 08:58:34.432 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select o1_0.order_id,o1_0.created_at,o1_0.notes,o1_0.order_date,o1_0.payment_method,o1_0.payment_status,o1_0.shipping_address,o1_0.status,o1_0.total_amount,o1_0.updated_at,o1_0.user_id from orders o1_0 where o1_0.order_id=?
2026-02-17 08:58:34.434 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:34.434 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:34.435 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:58:34.435 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id=?
2026-02-17 08:58:34.437 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:34.435] TRANSACTION COMMIT: OrderServiceImpl.updateOrderStatus(Integer, OrderStatus)
2026-02-17 08:58:34.437 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:34.437] TRANSACTION COMMIT: OrderServiceImpl.updateOrderStatus(Integer, OrderStatus)
2026-02-17 08:58:34.437 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:58:34.437] EXITING: OrderServiceImpl.updateOrderStatus returned: OrderResponse
2026-02-17 08:58:34.437 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - DATA MODIFICATION COMPLETED: OrderServiceImpl.updateOrderStatus(Integer, OrderStatus) in 6ms
2026-02-17 08:58:34.437 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - update orders set created_at=?,notes=?,order_date=?,payment_method=?,payment_status=?,shipping_address=?,status=?,total_amount=?,updated_at=?,user_id=? where order_id=?
2026-02-17 08:58:34.440 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.CachingAspect - CACHE INVALIDATED: 1 entries cleared for OrderServiceImpl.updateOrderStatus
2026-02-17 08:58:34.453 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1359627819 wrapping org.postgresql.jdbc.PgConnection@3fd8fe30] read-only
2026-02-17 08:58:34.453 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:58:34.453] ENTERING: OrderServiceImpl.getOrders with arguments: [null, null, Page request [number: 0, size 20, sort: orderDate: DESC]]
2026-02-17 08:58:34.453 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:34.453] TRANSACTION START: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 08:58:34.454 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select o1_0.order_id,o1_0.created_at,o1_0.notes,o1_0.order_date,o1_0.payment_method,o1_0.payment_status,o1_0.shipping_address,o1_0.status,o1_0.total_amount,o1_0.updated_at,o1_0.user_id from orders o1_0 where 1=1 order by o1_0.order_date desc offset ? rows fetch first ? rows only
2026-02-17 08:58:34.457 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:34.458 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:34.459 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:58:34.460 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id = any (?)
2026-02-17 08:58:34.460 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:34.461 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 08:58:34.462 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:34.463 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:34.463 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:34.464 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:34.464 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:58:34.465 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:34.466 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:34.466 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:34.467 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:34.468 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:34.468 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 08:58:34.469 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 08:58:34.469 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:34.471 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:34.472 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:34.473 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 08:58:34.473 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 08:58:34.475 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:34.475 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:34.477 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:58:34.477 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:34.478 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:34.478 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:34.478 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:34.479 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:34.480 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:58:34.480 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:34.480 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:34.481 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:58:34.482 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:34.482 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:34.482 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:34.482] TRANSACTION COMMIT: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 08:58:34.483 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:58:34.483] EXITING: OrderServiceImpl.getOrders returned: PageImpl
2026-02-17 08:58:34.483 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1359627819 wrapping org.postgresql.jdbc.PgConnection@3fd8fe30]
2026-02-17 08:58:34.528 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@187541139 wrapping org.postgresql.jdbc.PgConnection@125ace20] read-only
2026-02-17 08:58:34.528 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:58:34.528] ENTERING: OrderServiceImpl.getOrders with arguments: [null, OrderFilter(status=null, paymentStatus=null, startDate=null, endDate=null, minAmount=null, maxAmount=null, searchTerm=null), Page request [number: 0, size 20, sort: orderDate: DESC]]
2026-02-17 08:58:34.529 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:34.529] TRANSACTION START: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 08:58:34.531 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select o1_0.order_id,o1_0.created_at,o1_0.notes,o1_0.order_date,o1_0.payment_method,o1_0.payment_status,o1_0.shipping_address,o1_0.status,o1_0.total_amount,o1_0.updated_at,o1_0.user_id from orders o1_0 where 1=1 order by o1_0.order_date desc offset ? rows fetch first ? rows only
2026-02-17 08:58:34.533 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:34.533 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:34.534 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:58:34.534 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id = any (?)
2026-02-17 08:58:34.535 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:34.536 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 08:58:34.537 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:34.537 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:34.537 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:34.538 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:34.538 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:58:34.539 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:34.539 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:34.539 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:34.542 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:34.543 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:34.543 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 08:58:34.545 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 08:58:34.545 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:34.546 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:34.547 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:34.547 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 08:58:34.549 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 08:58:34.549 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:34.549 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:34.551 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:58:34.551 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:34.552 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:34.553 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:34.553 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:34.554 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:34.554 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:58:34.554 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:34.555 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:34.555 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:58:34.555 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:34.555 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:34.557 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:34.557] TRANSACTION COMMIT: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 08:58:34.557 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:58:34.557] EXITING: OrderServiceImpl.getOrders returned: PageImpl
2026-02-17 08:58:34.558 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@187541139 wrapping org.postgresql.jdbc.PgConnection@125ace20]
2026-02-17 08:58:35.937 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - DATA MODIFICATION STARTED: OrderServiceImpl.updateOrderStatus(Integer, OrderStatus) with arguments: [27, DELIVERED]
2026-02-17 08:58:35.937 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:58:35.937] ENTERING: OrderServiceImpl.updateOrderStatus with arguments: [27, DELIVERED]
2026-02-17 08:58:35.938 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:35.938] TRANSACTIONAL DATA MODIFICATION: OrderServiceImpl.updateOrderStatus(Integer, OrderStatus) with arguments: [27, DELIVERED]
2026-02-17 08:58:35.938 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:35.938] TRANSACTION START: OrderServiceImpl.updateOrderStatus(Integer, OrderStatus)
2026-02-17 08:58:35.938 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:35.938] TRANSACTION START: OrderServiceImpl.updateOrderStatus(Integer, OrderStatus)
2026-02-17 08:58:35.938 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select o1_0.order_id,o1_0.created_at,o1_0.notes,o1_0.order_date,o1_0.payment_method,o1_0.payment_status,o1_0.shipping_address,o1_0.status,o1_0.total_amount,o1_0.updated_at,o1_0.user_id from orders o1_0 where o1_0.order_id=?
2026-02-17 08:58:35.940 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:35.941 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:35.942 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:58:35.942 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id=?
2026-02-17 08:58:35.942 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:35.942] TRANSACTION COMMIT: OrderServiceImpl.updateOrderStatus(Integer, OrderStatus)
2026-02-17 08:58:35.942 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:35.942] TRANSACTION COMMIT: OrderServiceImpl.updateOrderStatus(Integer, OrderStatus)
2026-02-17 08:58:35.942 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:58:35.942] EXITING: OrderServiceImpl.updateOrderStatus returned: OrderResponse
2026-02-17 08:58:35.942 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - DATA MODIFICATION COMPLETED: OrderServiceImpl.updateOrderStatus(Integer, OrderStatus) in 5ms
2026-02-17 08:58:35.944 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - update orders set created_at=?,notes=?,order_date=?,payment_method=?,payment_status=?,shipping_address=?,status=?,total_amount=?,updated_at=?,user_id=? where order_id=?
2026-02-17 08:58:35.951 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.CachingAspect - CACHE INVALIDATED: 2 entries cleared for OrderServiceImpl.updateOrderStatus
2026-02-17 08:58:35.958 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1340889173 wrapping org.postgresql.jdbc.PgConnection@125ace20] read-only
2026-02-17 08:58:35.958 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:58:35.958] ENTERING: OrderServiceImpl.getOrders with arguments: [null, null, Page request [number: 0, size 20, sort: orderDate: DESC]]
2026-02-17 08:58:35.960 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:35.960] TRANSACTION START: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 08:58:35.961 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select o1_0.order_id,o1_0.created_at,o1_0.notes,o1_0.order_date,o1_0.payment_method,o1_0.payment_status,o1_0.shipping_address,o1_0.status,o1_0.total_amount,o1_0.updated_at,o1_0.user_id from orders o1_0 where 1=1 order by o1_0.order_date desc offset ? rows fetch first ? rows only
2026-02-17 08:58:35.963 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:35.964 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:35.964 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:58:35.965 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id = any (?)
2026-02-17 08:58:35.966 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:35.967 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 08:58:35.968 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:35.969 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:35.970 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:35.970 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:35.971 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:58:35.971 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:35.974 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:35.974 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:35.975 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:35.975 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:35.977 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 08:58:35.977 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 08:58:35.978 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:35.979 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:35.980 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:35.980 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 08:58:35.982 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 08:58:35.982 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:35.983 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:35.984 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:58:35.985 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:35.985 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:35.987 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:35.987 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:35.988 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:35.989 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:58:35.990 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:35.990 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:35.993 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:58:35.993 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:35.994 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:35.995 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:35.994] TRANSACTION COMMIT: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 08:58:35.995 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:58:35.995] EXITING: OrderServiceImpl.getOrders returned: PageImpl
2026-02-17 08:58:35.996 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1340889173 wrapping org.postgresql.jdbc.PgConnection@125ace20]
2026-02-17 08:58:36.043 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1683804873 wrapping org.postgresql.jdbc.PgConnection@3fd8fe30] read-only
2026-02-17 08:58:36.044 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:58:36.044] ENTERING: OrderServiceImpl.getOrders with arguments: [null, OrderFilter(status=null, paymentStatus=null, startDate=null, endDate=null, minAmount=null, maxAmount=null, searchTerm=null), Page request [number: 0, size 20, sort: orderDate: DESC]]
2026-02-17 08:58:36.044 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:36.044] TRANSACTION START: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 08:58:36.046 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select o1_0.order_id,o1_0.created_at,o1_0.notes,o1_0.order_date,o1_0.payment_method,o1_0.payment_status,o1_0.shipping_address,o1_0.status,o1_0.total_amount,o1_0.updated_at,o1_0.user_id from orders o1_0 where 1=1 order by o1_0.order_date desc offset ? rows fetch first ? rows only
2026-02-17 08:58:36.049 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:36.050 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:36.051 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:58:36.051 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id = any (?)
2026-02-17 08:58:36.053 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:36.053 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 08:58:36.055 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:36.057 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:36.058 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:36.059 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:36.059 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:58:36.060 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:36.061 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:36.062 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:36.062 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:36.063 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:36.064 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 08:58:36.065 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 08:58:36.065 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:36.066 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:36.067 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:36.067 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-17 08:58:36.068 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id = any (?)
2026-02-17 08:58:36.069 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:36.070 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:36.071 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:58:36.073 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:36.073 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:36.075 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:36.075 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:36.077 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:36.078 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:58:36.078 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:36.079 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-17 08:58:36.080 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,c1_0.parent_category_id from categories c1_0 where c1_0.category_id=?
2026-02-17 08:58:36.080 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:36.081 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-17 08:58:36.082 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-17 08:58:36.082] TRANSACTION COMMIT: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-17 08:58:36.082 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-17 08:58:36.082] EXITING: OrderServiceImpl.getOrders returned: PageImpl
2026-02-17 08:58:36.083 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1683804873 wrapping org.postgresql.jdbc.PgConnection@3fd8fe30]
2026-02-17 09:02:30.595 [SpringApplicationShutdownHook] INFO  o.s.boot.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2026-02-17 09:02:30.607 [tomcat-shutdown] INFO  o.s.boot.tomcat.GracefulShutdown - Graceful shutdown complete
2026-02-17 09:02:30.617 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-02-17 09:02:30.621 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-02-17 09:02:30.624 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
