2026-02-20 10:05:48.435 [main] INFO  c.s.ShopjoyEcommerceSystemApplication - Starting ShopjoyEcommerceSystemApplication using Java 25.0.1 with PID 36348 (C:\Users\EugeneDokyeAnokye\IdeaProjects\spring-data-ecommerce\target\classes started by EugeneDokyeAnokye in C:\Users\EugeneDokyeAnokye\IdeaProjects\spring-data-ecommerce)
2026-02-20 10:05:48.448 [main] DEBUG c.s.ShopjoyEcommerceSystemApplication - Running with Spring Boot v4.0.2, Spring v7.0.3
2026-02-20 10:05:48.449 [main] INFO  c.s.ShopjoyEcommerceSystemApplication - The following 1 profile is active: "dev"
2026-02-20 10:05:49.339 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 9.0.1.Final
2026-02-20 10:05:52.464 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-20 10:05:52.963 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 483 ms. Found 9 JPA repository interfaces.
2026-02-20 10:05:56.562 [main] INFO  o.s.boot.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-02-20 10:05:56.607 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-02-20 10:05:56.614 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-02-20 10:05:56.615 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/11.0.15]
2026-02-20 10:05:56.812 [main] INFO  o.s.b.w.c.s.WebApplicationContextInitializer - Root WebApplicationContext: initialization completed in 8229 ms
2026-02-20 10:05:58.276 [main] INFO  org.hibernate.orm.jpa - HHH008540: Processing PersistenceUnitInfo [name: default]
2026-02-20 10:05:58.438 [main] INFO  org.hibernate.orm.core - HHH000001: Hibernate ORM core version 7.2.1.Final
2026-02-20 10:05:59.667 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-20 10:05:59.732 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-20 10:06:00.240 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4ebe6c24
2026-02-20 10:06:00.244 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-20 10:06:00.504 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [jdbc:postgresql://localhost:5432/shopjoy_db]
	Database driver: PostgreSQL JDBC Driver
	Database dialect: PostgreSQLDialect
	Database version: 18.1
	Default catalog/schema: shopjoy_db/public
	Autocommit mode: undefined/unknown
	Isolation level: READ_COMMITTED [default READ_COMMITTED]
	JDBC fetch size: none
	Pool: DataSourceConnectionProvider
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-02-20 10:06:03.350 [main] INFO  org.hibernate.orm.core - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-20 10:06:03.577 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-20 10:06:04.486 [main] INFO  o.s.d.j.r.q.QueryEnhancerFactories - Hibernate is in classpath; If applicable, HQL parser will be used.
2026-02-20 10:06:05.706 [main] DEBUG c.s.config.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2026-02-20 10:06:06.151 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2026-02-20 10:06:14.252 [main] INFO  o.s.g.e.DefaultSchemaResourceGraphQlSourceBuilder - Loaded 1 resource(s) in the GraphQL schema.
2026-02-20 10:06:14.709 [main] INFO  o.s.b.g.a.GraphQlAutoConfiguration - GraphQL schema inspection:
	Unmapped fields: {Inventory=[reservedQuantity]}
	Unmapped registrations: {Review.user=@BatchMapping ReviewFieldResolver#user[1 args]}
	Unmapped arguments: {}
	Field nullness errors: {}
	Argument nullness errors: {}
	Skipped types: []
2026-02-20 10:06:14.785 [main] INFO  o.s.b.g.a.s.GraphQlWebMvcAutoConfiguration - GraphQL endpoint HTTP POST /graphql
2026-02-20 10:06:16.665 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2026-02-20 10:06:16.820 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2026-02-20 10:06:16.858 [main] INFO  o.s.boot.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2026-02-20 10:06:16.881 [main] INFO  c.s.ShopjoyEcommerceSystemApplication - Started ShopjoyEcommerceSystemApplication in 29.735 seconds (process running for 31.08)
2026-02-20 10:06:17.014 [main] INFO  c.s.config.AdminUserInitializer - Checking for existing admin user with username: admin
2026-02-20 10:06:17.025 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@365194469 wrapping org.postgresql.jdbc.PgConnection@4ebe6c24] read-only
2026-02-20 10:06:17.034 [main] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 10:06:17.034] ENTERING: AuthServiceImpl.isUsernameTaken with arguments: [admin]
2026-02-20 10:06:17.040 [main] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 10:06:17.040] TRANSACTION START: AuthServiceImpl.isUsernameTaken(String)
2026-02-20 10:06:17.176 [main] DEBUG org.hibernate.SQL - select u1_0.user_id from users u1_0 where u1_0.username=? fetch first ? rows only
2026-02-20 10:06:17.204 [main] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 10:06:17.203] TRANSACTION COMMIT: AuthServiceImpl.isUsernameTaken(String)
2026-02-20 10:06:17.204 [main] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 10:06:17.204] EXITING: AuthServiceImpl.isUsernameTaken returned: Boolean
2026-02-20 10:06:17.210 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@365194469 wrapping org.postgresql.jdbc.PgConnection@4ebe6c24]
2026-02-20 10:06:17.211 [main] INFO  c.s.config.AdminUserInitializer - Admin user 'admin' already exists, skipping creation
2026-02-20 10:06:17.211 [main] WARN  o.s.c.events.SpringDocAppInitializer - SpringDoc /api-docs endpoint is enabled by default. To disable it in production, set the property 'springdoc.api-docs.enabled=false'
2026-02-20 10:06:56.698 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-20 10:06:56.699 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-02-20 10:06:56.701 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2026-02-20 10:06:56.972 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: AuthController.login with arguments: [com.shopjoy.dto.request.LoginRequest@44e40947]
2026-02-20 10:06:56.973 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1731459464 wrapping org.postgresql.jdbc.PgConnection@4ebe6c24] read-only
2026-02-20 10:06:56.973 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 10:06:56.973] ENTERING: AuthServiceImpl.login with arguments: [com.shopjoy.dto.request.LoginRequest@44e40947]
2026-02-20 10:06:56.973 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 10:06:56.973] TRANSACTION START: AuthServiceImpl.login(LoginRequest)
2026-02-20 10:06:57.108 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 10:06:57.107] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [admin]
2026-02-20 10:06:57.110 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 10:06:57.110] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 10:06:57.118 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 10:06:57.156 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 10:06:57.156] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 10:06:57.157 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 10:06:57.157] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 10:06:57.444 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 10:06:57.444] TRANSACTION COMMIT: AuthServiceImpl.login(LoginRequest)
2026-02-20 10:06:57.445 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 10:06:57.445] EXITING: AuthServiceImpl.login returned: LoginResponse
2026-02-20 10:06:57.445 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1731459464 wrapping org.postgresql.jdbc.PgConnection@4ebe6c24]
2026-02-20 10:06:57.448 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint AuthController.login responded in 476ms
2026-02-20 10:06:57.450 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: AuthController.login returned: ResponseEntity
2026-02-20 10:53:26.016 [SpringApplicationShutdownHook] INFO  o.s.boot.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2026-02-20 10:53:26.036 [tomcat-shutdown] INFO  o.s.boot.tomcat.GracefulShutdown - Graceful shutdown complete
2026-02-20 10:53:26.068 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-02-20 10:53:26.081 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-02-20 10:53:26.099 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-02-20 10:58:54.786 [main] INFO  c.s.ShopjoyEcommerceSystemApplication - Starting ShopjoyEcommerceSystemApplication using Java 25.0.1 with PID 20284 (C:\Users\EugeneDokyeAnokye\IdeaProjects\spring-data-ecommerce\target\classes started by EugeneDokyeAnokye in C:\Users\EugeneDokyeAnokye\IdeaProjects\spring-data-ecommerce)
2026-02-20 10:58:54.803 [main] DEBUG c.s.ShopjoyEcommerceSystemApplication - Running with Spring Boot v4.0.2, Spring v7.0.3
2026-02-20 10:58:54.805 [main] INFO  c.s.ShopjoyEcommerceSystemApplication - The following 1 profile is active: "dev"
2026-02-20 10:58:56.687 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 9.0.1.Final
2026-02-20 10:59:01.600 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-20 10:59:02.358 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 728 ms. Found 9 JPA repository interfaces.
2026-02-20 10:59:08.044 [main] INFO  o.s.boot.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-02-20 10:59:08.102 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-02-20 10:59:08.113 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-02-20 10:59:08.114 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/11.0.15]
2026-02-20 10:59:08.480 [main] INFO  o.s.b.w.c.s.WebApplicationContextInitializer - Root WebApplicationContext: initialization completed in 13500 ms
2026-02-20 10:59:10.772 [main] INFO  org.hibernate.orm.jpa - HHH008540: Processing PersistenceUnitInfo [name: default]
2026-02-20 10:59:11.185 [main] INFO  org.hibernate.orm.core - HHH000001: Hibernate ORM core version 7.2.1.Final
2026-02-20 10:59:12.953 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-20 10:59:13.090 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-20 10:59:13.800 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@106e6dfe
2026-02-20 10:59:13.804 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-20 10:59:14.043 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [jdbc:postgresql://localhost:5432/shopjoy_db]
	Database driver: PostgreSQL JDBC Driver
	Database dialect: PostgreSQLDialect
	Database version: 18.1
	Default catalog/schema: shopjoy_db/public
	Autocommit mode: undefined/unknown
	Isolation level: READ_COMMITTED [default READ_COMMITTED]
	JDBC fetch size: none
	Pool: DataSourceConnectionProvider
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-02-20 10:59:19.035 [main] INFO  org.hibernate.orm.core - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-20 10:59:19.373 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-20 10:59:21.045 [main] INFO  o.s.d.j.r.q.QueryEnhancerFactories - Hibernate is in classpath; If applicable, HQL parser will be used.
2026-02-20 10:59:22.690 [main] DEBUG c.s.config.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2026-02-20 10:59:23.505 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2026-02-20 10:59:37.548 [main] INFO  o.s.g.e.DefaultSchemaResourceGraphQlSourceBuilder - Loaded 1 resource(s) in the GraphQL schema.
2026-02-20 10:59:38.265 [main] INFO  o.s.b.g.a.GraphQlAutoConfiguration - GraphQL schema inspection:
	Unmapped fields: {Inventory=[reservedQuantity]}
	Unmapped registrations: {Review.user=@BatchMapping ReviewFieldResolver#user[1 args]}
	Unmapped arguments: {}
	Field nullness errors: {}
	Argument nullness errors: {}
	Skipped types: []
2026-02-20 10:59:38.396 [main] INFO  o.s.b.g.a.s.GraphQlWebMvcAutoConfiguration - GraphQL endpoint HTTP POST /graphql
2026-02-20 10:59:41.999 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2026-02-20 10:59:42.298 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2026-02-20 10:59:42.322 [main] INFO  o.s.boot.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2026-02-20 10:59:42.355 [main] INFO  c.s.ShopjoyEcommerceSystemApplication - Started ShopjoyEcommerceSystemApplication in 49.124 seconds (process running for 50.538)
2026-02-20 10:59:42.631 [main] INFO  c.s.config.AdminUserInitializer - Checking for existing admin user with username: admin
2026-02-20 10:59:42.652 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1755163228 wrapping org.postgresql.jdbc.PgConnection@106e6dfe] read-only
2026-02-20 10:59:42.666 [main] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 10:59:42.665] ENTERING: AuthServiceImpl.isUsernameTaken with arguments: [admin]
2026-02-20 10:59:42.681 [main] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 10:59:42.680] TRANSACTION START: AuthServiceImpl.isUsernameTaken(String)
2026-02-20 10:59:42.964 [main] DEBUG org.hibernate.SQL - select u1_0.user_id from users u1_0 where u1_0.username=? fetch first ? rows only
2026-02-20 10:59:43.020 [main] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 10:59:43.018] TRANSACTION COMMIT: AuthServiceImpl.isUsernameTaken(String)
2026-02-20 10:59:43.023 [main] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 10:59:43.023] EXITING: AuthServiceImpl.isUsernameTaken returned: Boolean
2026-02-20 10:59:43.033 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1755163228 wrapping org.postgresql.jdbc.PgConnection@106e6dfe]
2026-02-20 10:59:43.035 [main] INFO  c.s.config.AdminUserInitializer - Admin user 'admin' already exists, skipping creation
2026-02-20 10:59:43.037 [main] WARN  o.s.c.events.SpringDocAppInitializer - SpringDoc /api-docs endpoint is enabled by default. To disable it in production, set the property 'springdoc.api-docs.enabled=false'
2026-02-20 11:00:09.185 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-20 11:00:09.185 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-02-20 11:00:09.188 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2026-02-20 11:15:58.554 [SpringApplicationShutdownHook] INFO  o.s.boot.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2026-02-20 11:15:58.570 [tomcat-shutdown] INFO  o.s.boot.tomcat.GracefulShutdown - Graceful shutdown complete
2026-02-20 11:15:58.593 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-02-20 11:15:58.600 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-02-20 11:15:58.607 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-02-20 11:16:08.242 [main] INFO  c.s.ShopjoyEcommerceSystemApplication - Starting ShopjoyEcommerceSystemApplication using Java 25.0.1 with PID 21284 (C:\Users\EugeneDokyeAnokye\IdeaProjects\spring-data-ecommerce\target\classes started by EugeneDokyeAnokye in C:\Users\EugeneDokyeAnokye\IdeaProjects\spring-data-ecommerce)
2026-02-20 11:16:08.249 [main] DEBUG c.s.ShopjoyEcommerceSystemApplication - Running with Spring Boot v4.0.2, Spring v7.0.3
2026-02-20 11:16:08.251 [main] INFO  c.s.ShopjoyEcommerceSystemApplication - The following 1 profile is active: "dev"
2026-02-20 11:16:10.358 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 9.0.1.Final
2026-02-20 11:16:14.730 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-20 11:16:15.482 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 724 ms. Found 9 JPA repository interfaces.
2026-02-20 11:16:21.961 [main] INFO  o.s.boot.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-02-20 11:16:22.015 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-02-20 11:16:22.021 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-02-20 11:16:22.023 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/11.0.15]
2026-02-20 11:16:22.339 [main] INFO  o.s.b.w.c.s.WebApplicationContextInitializer - Root WebApplicationContext: initialization completed in 13916 ms
2026-02-20 11:16:24.392 [main] INFO  org.hibernate.orm.jpa - HHH008540: Processing PersistenceUnitInfo [name: default]
2026-02-20 11:16:24.576 [main] INFO  org.hibernate.orm.core - HHH000001: Hibernate ORM core version 7.2.1.Final
2026-02-20 11:16:26.404 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-20 11:16:26.504 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-20 11:16:27.209 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1cd4082a
2026-02-20 11:16:27.217 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-20 11:16:28.055 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [jdbc:postgresql://localhost:5432/shopjoy_db]
	Database driver: PostgreSQL JDBC Driver
	Database dialect: PostgreSQLDialect
	Database version: 18.1
	Default catalog/schema: shopjoy_db/public
	Autocommit mode: undefined/unknown
	Isolation level: READ_COMMITTED [default READ_COMMITTED]
	JDBC fetch size: none
	Pool: DataSourceConnectionProvider
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-02-20 11:16:32.024 [main] INFO  org.hibernate.orm.core - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-20 11:16:32.401 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-20 11:16:33.906 [main] INFO  o.s.d.j.r.q.QueryEnhancerFactories - Hibernate is in classpath; If applicable, HQL parser will be used.
2026-02-20 11:16:35.439 [main] DEBUG c.s.config.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2026-02-20 11:16:36.246 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2026-02-20 11:16:51.130 [main] INFO  o.s.g.e.DefaultSchemaResourceGraphQlSourceBuilder - Loaded 1 resource(s) in the GraphQL schema.
2026-02-20 11:16:51.757 [main] INFO  o.s.b.g.a.GraphQlAutoConfiguration - GraphQL schema inspection:
	Unmapped fields: {Inventory=[reservedQuantity]}
	Unmapped registrations: {Review.user=@BatchMapping ReviewFieldResolver#user[1 args]}
	Unmapped arguments: {}
	Field nullness errors: {}
	Argument nullness errors: {}
	Skipped types: []
2026-02-20 11:16:51.885 [main] INFO  o.s.b.g.a.s.GraphQlWebMvcAutoConfiguration - GraphQL endpoint HTTP POST /graphql
2026-02-20 11:16:55.466 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2026-02-20 11:16:55.830 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2026-02-20 11:16:55.868 [main] INFO  o.s.boot.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2026-02-20 11:16:55.915 [main] INFO  c.s.ShopjoyEcommerceSystemApplication - Started ShopjoyEcommerceSystemApplication in 49.563 seconds (process running for 51.62)
2026-02-20 11:16:56.143 [main] INFO  c.s.config.AdminUserInitializer - Checking for existing admin user with username: admin
2026-02-20 11:16:56.166 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@49027117 wrapping org.postgresql.jdbc.PgConnection@1cd4082a] read-only
2026-02-20 11:16:56.182 [main] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 11:16:56.180] ENTERING: AuthServiceImpl.isUsernameTaken with arguments: [admin]
2026-02-20 11:16:56.195 [main] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 11:16:56.195] TRANSACTION START: AuthServiceImpl.isUsernameTaken(String)
2026-02-20 11:16:56.429 [main] DEBUG org.hibernate.SQL - select u1_0.user_id from users u1_0 where u1_0.username=? fetch first ? rows only
2026-02-20 11:16:56.477 [main] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 11:16:56.477] TRANSACTION COMMIT: AuthServiceImpl.isUsernameTaken(String)
2026-02-20 11:16:56.478 [main] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 11:16:56.478] EXITING: AuthServiceImpl.isUsernameTaken returned: Boolean
2026-02-20 11:16:56.486 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@49027117 wrapping org.postgresql.jdbc.PgConnection@1cd4082a]
2026-02-20 11:16:56.487 [main] INFO  c.s.config.AdminUserInitializer - Admin user 'admin' already exists, skipping creation
2026-02-20 11:16:56.488 [main] WARN  o.s.c.events.SpringDocAppInitializer - SpringDoc /api-docs endpoint is enabled by default. To disable it in production, set the property 'springdoc.api-docs.enabled=false'
2026-02-20 11:17:13.508 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-20 11:17:13.509 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-02-20 11:17:13.517 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 7 ms
2026-02-20 11:21:39.120 [SpringApplicationShutdownHook] INFO  o.s.boot.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2026-02-20 11:21:39.150 [tomcat-shutdown] INFO  o.s.boot.tomcat.GracefulShutdown - Graceful shutdown complete
2026-02-20 11:21:39.182 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-02-20 11:21:39.195 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-02-20 11:21:39.243 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-02-20 11:21:53.849 [main] INFO  c.s.ShopjoyEcommerceSystemApplication - Starting ShopjoyEcommerceSystemApplication using Java 25.0.1 with PID 38180 (C:\Users\EugeneDokyeAnokye\IdeaProjects\spring-data-ecommerce\target\classes started by EugeneDokyeAnokye in C:\Users\EugeneDokyeAnokye\IdeaProjects\spring-data-ecommerce)
2026-02-20 11:21:53.858 [main] DEBUG c.s.ShopjoyEcommerceSystemApplication - Running with Spring Boot v4.0.2, Spring v7.0.3
2026-02-20 11:21:53.859 [main] INFO  c.s.ShopjoyEcommerceSystemApplication - The following 1 profile is active: "dev"
2026-02-20 11:21:55.298 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 9.0.1.Final
2026-02-20 11:22:00.825 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-20 11:22:01.925 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 984 ms. Found 9 JPA repository interfaces.
2026-02-20 11:22:09.040 [main] INFO  o.s.boot.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-02-20 11:22:09.115 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-02-20 11:22:09.139 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-02-20 11:22:09.154 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/11.0.15]
2026-02-20 11:22:09.703 [main] INFO  o.s.b.w.c.s.WebApplicationContextInitializer - Root WebApplicationContext: initialization completed in 15582 ms
2026-02-20 11:22:14.899 [main] INFO  org.hibernate.orm.jpa - HHH008540: Processing PersistenceUnitInfo [name: default]
2026-02-20 11:22:18.752 [main] INFO  org.hibernate.orm.core - HHH000001: Hibernate ORM core version 7.2.1.Final
2026-02-20 11:22:20.986 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-20 11:22:21.143 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-20 11:22:22.016 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@539570b8
2026-02-20 11:22:22.020 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-20 11:22:22.481 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [jdbc:postgresql://localhost:5432/shopjoy_db]
	Database driver: PostgreSQL JDBC Driver
	Database dialect: PostgreSQLDialect
	Database version: 18.1
	Default catalog/schema: shopjoy_db/public
	Autocommit mode: undefined/unknown
	Isolation level: READ_COMMITTED [default READ_COMMITTED]
	JDBC fetch size: none
	Pool: DataSourceConnectionProvider
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-02-20 11:22:27.429 [main] INFO  org.hibernate.orm.core - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-20 11:22:27.640 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-20 11:22:29.190 [main] INFO  o.s.d.j.r.q.QueryEnhancerFactories - Hibernate is in classpath; If applicable, HQL parser will be used.
2026-02-20 11:22:30.564 [main] DEBUG c.s.config.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2026-02-20 11:22:31.423 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2026-02-20 11:22:46.296 [main] INFO  o.s.g.e.DefaultSchemaResourceGraphQlSourceBuilder - Loaded 1 resource(s) in the GraphQL schema.
2026-02-20 11:22:47.221 [main] INFO  o.s.b.g.a.GraphQlAutoConfiguration - GraphQL schema inspection:
	Unmapped fields: {Inventory=[reservedQuantity]}
	Unmapped registrations: {Review.user=@BatchMapping ReviewFieldResolver#user[1 args]}
	Unmapped arguments: {}
	Field nullness errors: {}
	Argument nullness errors: {}
	Skipped types: []
2026-02-20 11:22:47.393 [main] INFO  o.s.b.g.a.s.GraphQlWebMvcAutoConfiguration - GraphQL endpoint HTTP POST /graphql
2026-02-20 11:22:51.039 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2026-02-20 11:22:51.399 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2026-02-20 11:22:51.430 [main] INFO  o.s.boot.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2026-02-20 11:22:51.466 [main] INFO  c.s.ShopjoyEcommerceSystemApplication - Started ShopjoyEcommerceSystemApplication in 59.74 seconds (process running for 61.792)
2026-02-20 11:22:51.749 [main] INFO  c.s.config.AdminUserInitializer - Checking for existing admin user with username: admin
2026-02-20 11:22:51.771 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@588114075 wrapping org.postgresql.jdbc.PgConnection@539570b8] read-only
2026-02-20 11:22:51.786 [main] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 11:22:51.786] ENTERING: AuthServiceImpl.isUsernameTaken with arguments: [admin]
2026-02-20 11:22:51.798 [main] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 11:22:51.798] TRANSACTION START: AuthServiceImpl.isUsernameTaken(String)
2026-02-20 11:22:52.040 [main] DEBUG org.hibernate.SQL - select u1_0.user_id from users u1_0 where u1_0.username=? fetch first ? rows only
2026-02-20 11:22:52.102 [main] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 11:22:52.101] TRANSACTION COMMIT: AuthServiceImpl.isUsernameTaken(String)
2026-02-20 11:22:52.104 [main] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 11:22:52.104] EXITING: AuthServiceImpl.isUsernameTaken returned: Boolean
2026-02-20 11:22:52.111 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@588114075 wrapping org.postgresql.jdbc.PgConnection@539570b8]
2026-02-20 11:22:52.112 [main] INFO  c.s.config.AdminUserInitializer - Admin user 'admin' already exists, skipping creation
2026-02-20 11:22:52.114 [main] WARN  o.s.c.events.SpringDocAppInitializer - SpringDoc /api-docs endpoint is enabled by default. To disable it in production, set the property 'springdoc.api-docs.enabled=false'
2026-02-20 11:23:51.844 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-20 11:23:51.844 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-02-20 11:23:51.850 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 5 ms
2026-02-20 11:23:52.178 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: ProductController.getProductsWithFilters with arguments: [null, null, null, null, null, null, null, true, 0, 12, productName, ASC]
2026-02-20 11:23:52.201 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CategoryController.getAllCategories with arguments: []
2026-02-20 11:23:52.215 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@225780089 wrapping org.postgresql.jdbc.PgConnection@539570b8] read-only
2026-02-20 11:23:52.216 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 11:23:52.216] ENTERING: CategoryServiceImpl.getAllCategories with arguments: []
2026-02-20 11:23:52.223 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 11:23:52.222] TRANSACTION START: CategoryServiceImpl.getAllCategories()
2026-02-20 11:23:52.387 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@697932918 wrapping org.postgresql.jdbc.PgConnection@3735a03a] read-only
2026-02-20 11:23:52.388 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 11:23:52.388] ENTERING: ProductServiceImpl.getProductsWithFilters with arguments: [com.shopjoy.dto.filter.ProductFilter@1243098b, Page request [number: 0, size 12, sort: productName: ASC], productName, ASC]
2026-02-20 11:23:52.393 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 11:23:52.393] TRANSACTION START: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 11:23:52.451 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0
2026-02-20 11:23:52.484 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?) order by p1_0.product_name fetch first ? rows only
2026-02-20 11:23:52.539 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 11:23:52.539] TRANSACTION COMMIT: CategoryServiceImpl.getAllCategories()
2026-02-20 11:23:52.541 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 11:23:52.541] EXITING: CategoryServiceImpl.getAllCategories returned: ArrayList
2026-02-20 11:23:52.542 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@225780089 wrapping org.postgresql.jdbc.PgConnection@539570b8]
2026-02-20 11:23:52.545 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:23:52.551 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CategoryController.getAllCategories responded in 349ms
2026-02-20 11:23:52.552 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CategoryController.getAllCategories returned: ResponseEntity
2026-02-20 11:23:52.577 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:23:52.580 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:23:52.585 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:23:52.590 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:23:52.594 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:23:52.600 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:23:52.604 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:23:52.608 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:23:52.611 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:23:52.615 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:23:52.618 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:23:52.641 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select count(*) from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?)
2026-02-20 11:23:52.657 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id = any (?)
2026-02-20 11:23:52.693 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 11:23:52.693] TRANSACTION COMMIT: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 11:23:52.695 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 11:23:52.695] EXITING: ProductServiceImpl.getProductsWithFilters returned: PageImpl
2026-02-20 11:23:52.697 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@697932918 wrapping org.postgresql.jdbc.PgConnection@3735a03a]
2026-02-20 11:23:52.700 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint ProductController.getProductsWithFilters responded in 519ms
2026-02-20 11:23:52.700 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: ProductController.getProductsWithFilters returned: ResponseEntity
2026-02-20 11:23:52.875 [http-nio-8080-exec-1] WARN  o.s.d.w.c.SpringDataJackson3Configuration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2026-02-20 11:23:52.926 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: ProductController.getProductsWithFilters with arguments: [null, null, null, null, null, null, null, true, 0, 12, productName, ASC]
2026-02-20 11:23:52.927 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CategoryController.getAllCategories with arguments: []
2026-02-20 11:23:52.927 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1747687835 wrapping org.postgresql.jdbc.PgConnection@539570b8] read-only
2026-02-20 11:23:52.928 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 11:23:52.928] ENTERING: ProductServiceImpl.getProductsWithFilters with arguments: [com.shopjoy.dto.filter.ProductFilter@6c141046, Page request [number: 0, size 12, sort: productName: ASC], productName, ASC]
2026-02-20 11:23:52.928 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 11:23:52.928] TRANSACTION START: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 11:23:52.929 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CategoryController.getAllCategories responded in 2ms
2026-02-20 11:23:52.929 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CategoryController.getAllCategories returned: ResponseEntity
2026-02-20 11:23:52.934 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?) order by p1_0.product_name fetch first ? rows only
2026-02-20 11:23:52.951 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:23:52.962 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:23:52.966 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:23:52.969 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:23:52.973 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:23:52.977 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:23:52.979 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:23:52.983 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:23:52.986 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:23:52.991 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:23:52.995 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:23:52.999 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:23:53.006 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select count(*) from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?)
2026-02-20 11:23:53.009 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id = any (?)
2026-02-20 11:23:53.014 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 11:23:53.014] TRANSACTION COMMIT: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 11:23:53.014 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 11:23:53.014] EXITING: ProductServiceImpl.getProductsWithFilters returned: PageImpl
2026-02-20 11:23:53.016 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1747687835 wrapping org.postgresql.jdbc.PgConnection@539570b8]
2026-02-20 11:23:53.017 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint ProductController.getProductsWithFilters responded in 90ms
2026-02-20 11:23:53.017 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: ProductController.getProductsWithFilters returned: ResponseEntity
2026-02-20 11:24:08.108 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CategoryController.getAllCategories with arguments: []
2026-02-20 11:24:08.108 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CategoryController.getAllCategories responded in 0ms
2026-02-20 11:24:08.110 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CategoryController.getAllCategories returned: ResponseEntity
2026-02-20 11:24:08.114 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: ProductController.getProductsWithFilters with arguments: [null, null, null, null, null, null, null, true, 0, 12, productName, ASC]
2026-02-20 11:24:08.117 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1812077189 wrapping org.postgresql.jdbc.PgConnection@539570b8] read-only
2026-02-20 11:24:08.119 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 11:24:08.119] ENTERING: ProductServiceImpl.getProductsWithFilters with arguments: [com.shopjoy.dto.filter.ProductFilter@683d83dd, Page request [number: 0, size 12, sort: productName: ASC], productName, ASC]
2026-02-20 11:24:08.120 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 11:24:08.120] TRANSACTION START: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 11:24:08.122 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?) order by p1_0.product_name fetch first ? rows only
2026-02-20 11:24:08.127 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:24:08.133 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:24:08.136 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:24:08.140 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:24:08.144 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CategoryController.getAllCategories with arguments: []
2026-02-20 11:24:08.144 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:24:08.144 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CategoryController.getAllCategories responded in 0ms
2026-02-20 11:24:08.144 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CategoryController.getAllCategories returned: ResponseEntity
2026-02-20 11:24:08.147 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:24:08.152 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:24:08.155 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:24:08.159 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:24:08.164 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:24:08.168 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:24:08.172 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:24:08.183 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select count(*) from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?)
2026-02-20 11:24:08.188 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id = any (?)
2026-02-20 11:24:08.193 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 11:24:08.193] TRANSACTION COMMIT: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 11:24:08.194 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 11:24:08.194] EXITING: ProductServiceImpl.getProductsWithFilters returned: PageImpl
2026-02-20 11:24:08.194 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1812077189 wrapping org.postgresql.jdbc.PgConnection@539570b8]
2026-02-20 11:24:08.195 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint ProductController.getProductsWithFilters responded in 79ms
2026-02-20 11:24:08.196 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: ProductController.getProductsWithFilters returned: ResponseEntity
2026-02-20 11:24:08.217 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: ProductController.getProductsWithFilters with arguments: [null, null, null, null, null, null, null, true, 0, 12, productName, ASC]
2026-02-20 11:24:08.219 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1206994896 wrapping org.postgresql.jdbc.PgConnection@539570b8] read-only
2026-02-20 11:24:08.219 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 11:24:08.219] ENTERING: ProductServiceImpl.getProductsWithFilters with arguments: [com.shopjoy.dto.filter.ProductFilter@389de406, Page request [number: 0, size 12, sort: productName: ASC], productName, ASC]
2026-02-20 11:24:08.220 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 11:24:08.220] TRANSACTION START: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 11:24:08.221 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?) order by p1_0.product_name fetch first ? rows only
2026-02-20 11:24:08.224 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:24:08.227 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:24:08.228 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:24:08.231 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:24:08.233 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:24:08.237 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:24:08.238 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:24:08.240 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:24:08.242 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:24:08.245 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:24:08.248 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:24:08.251 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:24:08.256 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select count(*) from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?)
2026-02-20 11:24:08.259 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id = any (?)
2026-02-20 11:24:08.263 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 11:24:08.263] TRANSACTION COMMIT: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 11:24:08.264 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 11:24:08.264] EXITING: ProductServiceImpl.getProductsWithFilters returned: PageImpl
2026-02-20 11:24:08.265 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1206994896 wrapping org.postgresql.jdbc.PgConnection@539570b8]
2026-02-20 11:24:08.266 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint ProductController.getProductsWithFilters responded in 48ms
2026-02-20 11:24:08.267 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: ProductController.getProductsWithFilters returned: ResponseEntity
2026-02-20 11:30:13.013 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CategoryController.getAllCategories with arguments: []
2026-02-20 11:30:13.014 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CategoryController.getAllCategories responded in 0ms
2026-02-20 11:30:13.014 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CategoryController.getAllCategories returned: ResponseEntity
2026-02-20 11:30:13.016 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: ProductController.getProductsWithFilters with arguments: [null, null, null, null, null, null, null, true, 0, 12, productName, ASC]
2026-02-20 11:30:13.019 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@37891175 wrapping org.postgresql.jdbc.PgConnection@539570b8] read-only
2026-02-20 11:30:13.021 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 11:30:13.021] ENTERING: ProductServiceImpl.getProductsWithFilters with arguments: [com.shopjoy.dto.filter.ProductFilter@6e56220a, Page request [number: 0, size 12, sort: productName: ASC], productName, ASC]
2026-02-20 11:30:13.021 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 11:30:13.021] TRANSACTION START: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 11:30:13.027 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?) order by p1_0.product_name fetch first ? rows only
2026-02-20 11:30:13.032 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CategoryController.getAllCategories with arguments: []
2026-02-20 11:30:13.032 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:30:13.034 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CategoryController.getAllCategories responded in 0ms
2026-02-20 11:30:13.035 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CategoryController.getAllCategories returned: ResponseEntity
2026-02-20 11:30:13.037 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:30:13.042 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:30:13.045 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:30:13.048 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:30:13.051 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:30:13.054 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:30:13.058 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:30:13.064 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:30:13.067 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:30:13.070 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:30:13.073 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:30:13.082 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select count(*) from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?)
2026-02-20 11:30:13.086 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id = any (?)
2026-02-20 11:30:13.096 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 11:30:13.096] TRANSACTION COMMIT: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 11:30:13.096 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 11:30:13.096] EXITING: ProductServiceImpl.getProductsWithFilters returned: PageImpl
2026-02-20 11:30:13.098 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@37891175 wrapping org.postgresql.jdbc.PgConnection@539570b8]
2026-02-20 11:30:13.098 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint ProductController.getProductsWithFilters responded in 82ms
2026-02-20 11:30:13.098 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: ProductController.getProductsWithFilters returned: ResponseEntity
2026-02-20 11:30:13.131 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: ProductController.getProductsWithFilters with arguments: [null, null, null, null, null, null, null, true, 0, 12, productName, ASC]
2026-02-20 11:30:13.132 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1175472083 wrapping org.postgresql.jdbc.PgConnection@539570b8] read-only
2026-02-20 11:30:13.133 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 11:30:13.133] ENTERING: ProductServiceImpl.getProductsWithFilters with arguments: [com.shopjoy.dto.filter.ProductFilter@69bb6253, Page request [number: 0, size 12, sort: productName: ASC], productName, ASC]
2026-02-20 11:30:13.133 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 11:30:13.133] TRANSACTION START: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 11:30:13.136 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?) order by p1_0.product_name fetch first ? rows only
2026-02-20 11:30:13.140 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:30:13.144 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:30:13.147 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:30:13.150 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:30:13.152 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:30:13.156 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:30:13.159 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:30:13.160 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:30:13.162 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:30:13.167 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:30:13.168 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:30:13.172 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 11:30:13.178 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select count(*) from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?)
2026-02-20 11:30:13.182 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id = any (?)
2026-02-20 11:30:13.185 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 11:30:13.185] TRANSACTION COMMIT: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 11:30:13.185 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 11:30:13.185] EXITING: ProductServiceImpl.getProductsWithFilters returned: PageImpl
2026-02-20 11:30:13.188 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1175472083 wrapping org.postgresql.jdbc.PgConnection@539570b8]
2026-02-20 11:30:13.188 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint ProductController.getProductsWithFilters responded in 57ms
2026-02-20 11:30:13.188 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: ProductController.getProductsWithFilters returned: ResponseEntity
2026-02-20 11:40:36.376 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 11:40:36.376] TRANSACTION START: OAuth2LoginSuccessHandler.onAuthenticationSuccess(HttpServletRequest, HttpServletResponse, Authentication)
2026-02-20 11:40:36.378 [http-nio-8080-exec-1] INFO  c.s.s.OAuth2LoginSuccessHandler - OAuth2 authentication successful for user: 113687644831698073835
2026-02-20 11:40:36.378 [http-nio-8080-exec-1] INFO  c.s.s.OAuth2LoginSuccessHandler - OAuth2 user details - Email: yawanokye99@gmail.com, Name: Eugene Anokye, Provider: google
2026-02-20 11:40:36.382 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.email=?
2026-02-20 11:40:36.402 [http-nio-8080-exec-1] INFO  c.s.s.OAuth2LoginSuccessHandler - Updated existing user eugene_6177 with OAuth2 provider: google
2026-02-20 11:40:36.536 [http-nio-8080-exec-1] INFO  c.s.s.OAuth2LoginSuccessHandler - JWT token generated for OAuth2 user: eugene_6177
2026-02-20 11:40:36.536 [http-nio-8080-exec-1] INFO  c.s.s.OAuth2LoginSuccessHandler - Redirecting to frontend: http://localhost:3000/oauth2/callback?token=eyJhbGciOiJIUzUxMiJ9.eyJyb2xlcyI6IlJPTEVfQ1VTVE9NRVIiLCJzdWIiOiJldWdlbmVfNjE3NyIsImlhdCI6MTc3MTU4NzYzNiwiZXhwIjoxNzcxNjc0MDM2fQ.bVLdD3ZZfo9QjHdrqBdNu54Ad6qLE4j1vyjS5pA6lWJSIZS3hQNI_a4Nhc1nBzumKx2IOnoDi58H2f5zNZm4Lg&provider=google
2026-02-20 11:40:36.537 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 11:40:36.537] TRANSACTION COMMIT: OAuth2LoginSuccessHandler.onAuthenticationSuccess(HttpServletRequest, HttpServletResponse, Authentication)
2026-02-20 11:40:36.567 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - update users set created_at=?,email=?,first_name=?,last_name=?,oauth_provider=?,oauth_provider_id=?,password_hash=?,phone=?,updated_at=?,user_type=?,username=? where user_id=?
2026-02-20 12:53:27.614 [HikariPool-1:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=26m2s583ms838s500ns).
2026-02-20 13:17:51.973 [SpringApplicationShutdownHook] INFO  o.s.boot.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2026-02-20 13:17:52.092 [tomcat-shutdown] INFO  o.s.boot.tomcat.GracefulShutdown - Graceful shutdown complete
2026-02-20 13:17:52.151 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-02-20 13:17:52.188 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-02-20 13:17:52.245 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-02-20 13:19:40.009 [main] INFO  c.s.ShopjoyEcommerceSystemApplication - Starting ShopjoyEcommerceSystemApplication using Java 25.0.1 with PID 28060 (C:\Users\EugeneDokyeAnokye\IdeaProjects\spring-data-ecommerce\target\classes started by EugeneDokyeAnokye in C:\Users\EugeneDokyeAnokye\IdeaProjects\spring-data-ecommerce)
2026-02-20 13:19:40.014 [main] DEBUG c.s.ShopjoyEcommerceSystemApplication - Running with Spring Boot v4.0.2, Spring v7.0.3
2026-02-20 13:19:40.014 [main] INFO  c.s.ShopjoyEcommerceSystemApplication - The following 1 profile is active: "dev"
2026-02-20 13:19:42.191 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 9.0.1.Final
2026-02-20 13:19:48.751 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-20 13:19:49.815 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 997 ms. Found 10 JPA repository interfaces.
2026-02-20 13:19:57.591 [main] INFO  o.s.boot.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-02-20 13:19:57.647 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-02-20 13:19:57.696 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-02-20 13:19:57.696 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/11.0.15]
2026-02-20 13:19:58.502 [main] INFO  o.s.b.w.c.s.WebApplicationContextInitializer - Root WebApplicationContext: initialization completed in 18246 ms
2026-02-20 13:20:03.008 [main] INFO  org.hibernate.orm.jpa - HHH008540: Processing PersistenceUnitInfo [name: default]
2026-02-20 13:20:03.338 [main] INFO  org.hibernate.orm.core - HHH000001: Hibernate ORM core version 7.2.1.Final
2026-02-20 13:20:05.100 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-20 13:20:05.212 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-20 13:20:05.960 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@87276c4
2026-02-20 13:20:05.963 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-20 13:20:06.288 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [jdbc:postgresql://localhost:5432/shopjoy_db]
	Database driver: PostgreSQL JDBC Driver
	Database dialect: PostgreSQLDialect
	Database version: 18.1
	Default catalog/schema: shopjoy_db/public
	Autocommit mode: undefined/unknown
	Isolation level: READ_COMMITTED [default READ_COMMITTED]
	JDBC fetch size: none
	Pool: DataSourceConnectionProvider
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-02-20 13:20:14.325 [main] INFO  org.hibernate.orm.core - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-20 13:20:14.782 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-20 13:20:19.580 [main] INFO  o.s.d.j.r.q.QueryEnhancerFactories - Hibernate is in classpath; If applicable, HQL parser will be used.
2026-02-20 13:20:33.703 [main] DEBUG c.s.config.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2026-02-20 13:20:46.626 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2026-02-20 13:20:54.680 [main] WARN  o.s.b.w.s.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'securityFilterChain' defined in class path resource [com/shopjoy/config/SecurityConfig.class]: Unsatisfied dependency expressed through method 'securityFilterChain' parameter 0: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration': Unsatisfied dependency expressed through method 'setContentNegotiationStrategy' parameter 0: Error creating bean with name 'org.springframework.boot.webmvc.autoconfigure.WebMvcAutoConfiguration$EnableWebMvcConfiguration': Unsatisfied dependency expressed through method 'setConfigurers' parameter 0: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.OAuth2ClientConfiguration$OAuth2ClientWebMvcSecurityConfiguration': Failed to instantiate [org.springframework.security.config.annotation.web.configuration.OAuth2ClientConfiguration$OAuth2ClientWebMvcSecurityConfiguration]: Constructor threw exception
2026-02-20 13:20:54.687 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-02-20 13:20:54.694 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-02-20 13:20:54.749 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-02-20 13:20:54.766 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2026-02-20 13:20:54.817 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2026-02-20 13:20:54.854 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'securityFilterChain' defined in class path resource [com/shopjoy/config/SecurityConfig.class]: Unsatisfied dependency expressed through method 'securityFilterChain' parameter 0: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration': Unsatisfied dependency expressed through method 'setContentNegotiationStrategy' parameter 0: Error creating bean with name 'org.springframework.boot.webmvc.autoconfigure.WebMvcAutoConfiguration$EnableWebMvcConfiguration': Unsatisfied dependency expressed through method 'setConfigurers' parameter 0: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.OAuth2ClientConfiguration$OAuth2ClientWebMvcSecurityConfiguration': Failed to instantiate [org.springframework.security.config.annotation.web.configuration.OAuth2ClientConfiguration$OAuth2ClientWebMvcSecurityConfiguration]: Constructor threw exception
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:871)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:826)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:492)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1446)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1218)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1184)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1121)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:993)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620)
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:756)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354)
	at com.shopjoy.ShopjoyEcommerceSystemApplication.main(ShopjoyEcommerceSystemApplication.java:10)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'securityFilterChain' defined in class path resource [com/shopjoy/config/SecurityConfig.class]: Unsatisfied dependency expressed through method 'securityFilterChain' parameter 0: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration': Unsatisfied dependency expressed through method 'setContentNegotiationStrategy' parameter 0: Error creating bean with name 'org.springframework.boot.webmvc.autoconfigure.WebMvcAutoConfiguration$EnableWebMvcConfiguration': Unsatisfied dependency expressed through method 'setConfigurers' parameter 0: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.OAuth2ClientConfiguration$OAuth2ClientWebMvcSecurityConfiguration': Failed to instantiate [org.springframework.security.config.annotation.web.configuration.OAuth2ClientConfiguration$OAuth2ClientWebMvcSecurityConfiguration]: Constructor threw exception
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1362)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:2008)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1971)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeanCollection(DefaultListableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1711)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:863)
	... 22 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration': Unsatisfied dependency expressed through method 'setContentNegotiationStrategy' parameter 0: Error creating bean with name 'org.springframework.boot.webmvc.autoconfigure.WebMvcAutoConfiguration$EnableWebMvcConfiguration': Unsatisfied dependency expressed through method 'setConfigurers' parameter 0: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.OAuth2ClientConfiguration$OAuth2ClientWebMvcSecurityConfiguration': Failed to instantiate [org.springframework.security.config.annotation.web.configuration.OAuth2ClientConfiguration$OAuth2ClientWebMvcSecurityConfiguration]: Constructor threw exception
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:871)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:826)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:492)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1446)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:413)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1362)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:351)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 39 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.webmvc.autoconfigure.WebMvcAutoConfiguration$EnableWebMvcConfiguration': Unsatisfied dependency expressed through method 'setConfigurers' parameter 0: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.OAuth2ClientConfiguration$OAuth2ClientWebMvcSecurityConfiguration': Failed to instantiate [org.springframework.security.config.annotation.web.configuration.OAuth2ClientConfiguration$OAuth2ClientWebMvcSecurityConfiguration]: Constructor threw exception
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:871)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:826)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:492)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1446)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:413)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1362)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:863)
	... 61 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.OAuth2ClientConfiguration$OAuth2ClientWebMvcSecurityConfiguration': Failed to instantiate [org.springframework.security.config.annotation.web.configuration.OAuth2ClientConfiguration$OAuth2ClientWebMvcSecurityConfiguration]: Constructor threw exception
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:321)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:309)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1382)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1221)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:2008)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1971)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeanCollection(DefaultListableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1833)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1711)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:863)
	... 84 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.config.annotation.web.configuration.OAuth2ClientConfiguration$OAuth2ClientWebMvcSecurityConfiguration]: Constructor threw exception
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:220)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:129)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:318)
	... 101 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'OAuth2AuthorizedClientManager': Failed to instantiate [org.springframework.security.oauth2.client.OAuth2AuthorizedClientManager]: Factory method 'getAuthorizedClientManager' threw exception with message: Error creating bean with name 'clientRegistrationRepository' defined in class path resource [org/springframework/boot/security/oauth2/client/autoconfigure/OAuth2ClientConfigurations$ClientRegistrationRepositoryConfiguration.class]: Unsatisfied dependency expressed through method 'clientRegistrationRepository' parameter 0: Error creating bean with name 'spring.security.oauth2.client-org.springframework.boot.security.oauth2.client.autoconfigure.OAuth2ClientProperties': Client id of registration 'google' must not be empty.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:489)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1362)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.getIfUnique(DefaultListableBeanFactory.java:2611)
	at org.springframework.security.config.annotation.web.configuration.OAuth2ClientConfiguration$OAuth2ClientWebMvcSecurityConfiguration.<init>(OAuth2ClientConfiguration.java:129)
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:483)
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:207)
	... 103 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.oauth2.client.OAuth2AuthorizedClientManager]: Factory method 'getAuthorizedClientManager' threw exception with message: Error creating bean with name 'clientRegistrationRepository' defined in class path resource [org/springframework/boot/security/oauth2/client/autoconfigure/OAuth2ClientConfigurations$ClientRegistrationRepositoryConfiguration.class]: Unsatisfied dependency expressed through method 'clientRegistrationRepository' parameter 0: Error creating bean with name 'spring.security.oauth2.client-org.springframework.boot.security.oauth2.client.autoconfigure.OAuth2ClientProperties': Client id of registration 'google' must not be empty.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:183)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiateWithFactoryMethod(SimpleInstantiationStrategy.java:72)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:152)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 120 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'clientRegistrationRepository' defined in class path resource [org/springframework/boot/security/oauth2/client/autoconfigure/OAuth2ClientConfigurations$ClientRegistrationRepositoryConfiguration.class]: Unsatisfied dependency expressed through method 'clientRegistrationRepository' parameter 0: Error creating bean with name 'spring.security.oauth2.client-org.springframework.boot.security.oauth2.client.autoconfigure.OAuth2ClientProperties': Client id of registration 'google' must not be empty.
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1362)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1194)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:565)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:740)
	at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:373)
	at org.springframework.beans.factory.BeanFactoryUtils.beanOfTypeIncludingAncestors(BeanFactoryUtils.java:451)
	at org.springframework.security.config.annotation.web.configuration.OAuth2ClientConfiguration$OAuth2AuthorizedClientManagerRegistrar.getAuthorizedClientManager(OAuth2ClientConfiguration.java:221)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.lambda$instantiate$0(SimpleInstantiationStrategy.java:155)
	... 123 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'spring.security.oauth2.client-org.springframework.boot.security.oauth2.client.autoconfigure.OAuth2ClientProperties': Client id of registration 'google' must not be empty.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1817)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:229)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1762)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1651)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:912)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 139 common frames omitted
Caused by: java.lang.IllegalStateException: Client id of registration 'google' must not be empty.
	at org.springframework.boot.security.oauth2.client.autoconfigure.OAuth2ClientProperties.validateRegistration(OAuth2ClientProperties.java:71)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.springframework.boot.security.oauth2.client.autoconfigure.OAuth2ClientProperties.validate(OAuth2ClientProperties.java:66)
	at org.springframework.boot.security.oauth2.client.autoconfigure.OAuth2ClientProperties.afterPropertiesSet(OAuth2ClientProperties.java:62)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813)
	... 150 common frames omitted
2026-02-20 13:23:29.330 [main] INFO  c.s.ShopjoyEcommerceSystemApplication - Starting ShopjoyEcommerceSystemApplication using Java 25.0.1 with PID 33104 (C:\Users\EugeneDokyeAnokye\IdeaProjects\spring-data-ecommerce\target\classes started by EugeneDokyeAnokye in C:\Users\EugeneDokyeAnokye\IdeaProjects\spring-data-ecommerce)
2026-02-20 13:23:29.397 [main] DEBUG c.s.ShopjoyEcommerceSystemApplication - Running with Spring Boot v4.0.2, Spring v7.0.3
2026-02-20 13:23:29.398 [main] INFO  c.s.ShopjoyEcommerceSystemApplication - The following 1 profile is active: "dev"
2026-02-20 13:23:30.316 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 9.0.1.Final
2026-02-20 13:23:44.316 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-20 13:23:45.903 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1546 ms. Found 10 JPA repository interfaces.
2026-02-20 13:23:55.386 [main] INFO  o.s.boot.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-02-20 13:23:55.478 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-02-20 13:23:55.483 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-02-20 13:23:55.483 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/11.0.15]
2026-02-20 13:23:56.201 [main] INFO  o.s.b.w.c.s.WebApplicationContextInitializer - Root WebApplicationContext: initialization completed in 26235 ms
2026-02-20 13:24:01.984 [main] INFO  org.hibernate.orm.jpa - HHH008540: Processing PersistenceUnitInfo [name: default]
2026-02-20 13:24:02.258 [main] INFO  org.hibernate.orm.core - HHH000001: Hibernate ORM core version 7.2.1.Final
2026-02-20 13:24:05.645 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-20 13:24:05.894 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-20 13:24:06.760 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@9677f54
2026-02-20 13:24:06.763 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-20 13:24:07.136 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [jdbc:postgresql://localhost:5432/shopjoy_db]
	Database driver: PostgreSQL JDBC Driver
	Database dialect: PostgreSQLDialect
	Database version: 18.1
	Default catalog/schema: shopjoy_db/public
	Autocommit mode: undefined/unknown
	Isolation level: READ_COMMITTED [default READ_COMMITTED]
	JDBC fetch size: none
	Pool: DataSourceConnectionProvider
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-02-20 13:24:14.935 [main] INFO  org.hibernate.orm.core - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-20 13:24:15.128 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-20 13:24:17.065 [main] INFO  o.s.d.j.r.q.QueryEnhancerFactories - Hibernate is in classpath; If applicable, HQL parser will be used.
2026-02-20 13:24:23.353 [main] DEBUG c.s.config.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2026-02-20 13:24:24.584 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2026-02-20 13:24:42.862 [main] WARN  o.s.b.w.s.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'securityFilterChain' defined in class path resource [com/shopjoy/config/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: No qualifying bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' available
2026-02-20 13:24:42.876 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-02-20 13:24:42.898 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-02-20 13:24:42.923 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-02-20 13:24:42.942 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2026-02-20 13:24:43.000 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2026-02-20 13:24:43.147 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of method setFilterChains in org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration required a bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' in your configuration.

2026-02-20 13:29:19.539 [main] INFO  c.s.ShopjoyEcommerceSystemApplication - Starting ShopjoyEcommerceSystemApplication using Java 25.0.1 with PID 28096 (C:\Users\EugeneDokyeAnokye\IdeaProjects\spring-data-ecommerce\target\classes started by EugeneDokyeAnokye in C:\Users\EugeneDokyeAnokye\IdeaProjects\spring-data-ecommerce)
2026-02-20 13:29:19.545 [main] DEBUG c.s.ShopjoyEcommerceSystemApplication - Running with Spring Boot v4.0.2, Spring v7.0.3
2026-02-20 13:29:19.546 [main] INFO  c.s.ShopjoyEcommerceSystemApplication - The following 1 profile is active: "dev"
2026-02-20 13:29:21.434 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 9.0.1.Final
2026-02-20 13:29:28.461 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-20 13:29:29.235 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 751 ms. Found 10 JPA repository interfaces.
2026-02-20 13:29:34.181 [main] INFO  o.s.boot.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-02-20 13:29:34.224 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-02-20 13:29:34.229 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-02-20 13:29:34.229 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/11.0.15]
2026-02-20 13:29:34.465 [main] INFO  o.s.b.w.c.s.WebApplicationContextInitializer - Root WebApplicationContext: initialization completed in 14701 ms
2026-02-20 13:29:36.311 [main] INFO  org.hibernate.orm.jpa - HHH008540: Processing PersistenceUnitInfo [name: default]
2026-02-20 13:29:36.480 [main] INFO  org.hibernate.orm.core - HHH000001: Hibernate ORM core version 7.2.1.Final
2026-02-20 13:29:38.078 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-20 13:29:38.180 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-20 13:29:38.672 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@c925ae1
2026-02-20 13:29:38.674 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-20 13:29:38.896 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [jdbc:postgresql://localhost:5432/shopjoy_db]
	Database driver: PostgreSQL JDBC Driver
	Database dialect: PostgreSQLDialect
	Database version: 18.1
	Default catalog/schema: shopjoy_db/public
	Autocommit mode: undefined/unknown
	Isolation level: READ_COMMITTED [default READ_COMMITTED]
	JDBC fetch size: none
	Pool: DataSourceConnectionProvider
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-02-20 13:29:42.562 [main] INFO  org.hibernate.orm.core - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-20 13:29:42.706 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-20 13:29:44.842 [main] INFO  o.s.d.j.r.q.QueryEnhancerFactories - Hibernate is in classpath; If applicable, HQL parser will be used.
2026-02-20 13:29:49.772 [main] DEBUG c.s.config.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2026-02-20 13:29:50.733 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2026-02-20 13:30:00.198 [main] INFO  o.s.g.e.DefaultSchemaResourceGraphQlSourceBuilder - Loaded 1 resource(s) in the GraphQL schema.
2026-02-20 13:30:00.677 [main] INFO  o.s.b.g.a.GraphQlAutoConfiguration - GraphQL schema inspection:
	Unmapped fields: {Inventory=[reservedQuantity]}
	Unmapped registrations: {Review.user=@BatchMapping ReviewFieldResolver#user[1 args]}
	Unmapped arguments: {}
	Field nullness errors: {}
	Argument nullness errors: {}
	Skipped types: []
2026-02-20 13:30:00.777 [main] INFO  o.s.b.g.a.s.GraphQlWebMvcAutoConfiguration - GraphQL endpoint HTTP POST /graphql
2026-02-20 13:30:03.504 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2026-02-20 13:30:03.757 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2026-02-20 13:30:03.791 [main] INFO  o.s.boot.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2026-02-20 13:30:03.825 [main] INFO  c.s.ShopjoyEcommerceSystemApplication - Started ShopjoyEcommerceSystemApplication in 46.59 seconds (process running for 48.97)
2026-02-20 13:30:04.031 [main] INFO  c.s.config.AdminUserInitializer - Checking for existing admin user with username: admin
2026-02-20 13:30:04.048 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1716732150 wrapping org.postgresql.jdbc.PgConnection@c925ae1] read-only
2026-02-20 13:30:04.060 [main] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:30:04.060] ENTERING: AuthServiceImpl.isUsernameTaken with arguments: [admin]
2026-02-20 13:30:04.070 [main] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:30:04.070] TRANSACTION START: AuthServiceImpl.isUsernameTaken(String)
2026-02-20 13:30:04.312 [main] DEBUG org.hibernate.SQL - select u1_0.user_id from users u1_0 where u1_0.username=? fetch first ? rows only
2026-02-20 13:30:04.354 [main] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:30:04.354] TRANSACTION COMMIT: AuthServiceImpl.isUsernameTaken(String)
2026-02-20 13:30:04.356 [main] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:30:04.356] EXITING: AuthServiceImpl.isUsernameTaken returned: Boolean
2026-02-20 13:30:04.362 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1716732150 wrapping org.postgresql.jdbc.PgConnection@c925ae1]
2026-02-20 13:30:04.363 [main] INFO  c.s.config.AdminUserInitializer - Admin user 'admin' already exists, skipping creation
2026-02-20 13:30:04.364 [main] WARN  o.s.c.events.SpringDocAppInitializer - SpringDoc /api-docs endpoint is enabled by default. To disable it in production, set the property 'springdoc.api-docs.enabled=false'
2026-02-20 13:30:24.773 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-20 13:30:24.774 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-02-20 13:30:24.778 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2026-02-20 13:30:25.037 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CategoryController.getAllCategories with arguments: []
2026-02-20 13:30:25.045 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@782441895 wrapping org.postgresql.jdbc.PgConnection@c925ae1] read-only
2026-02-20 13:30:25.046 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:30:25.046] ENTERING: CategoryServiceImpl.getAllCategories with arguments: []
2026-02-20 13:30:25.049 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: ProductController.getProductsWithFilters with arguments: [null, null, null, null, null, null, null, true, 0, 12, productName, ASC]
2026-02-20 13:30:25.050 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:30:25.050] TRANSACTION START: CategoryServiceImpl.getAllCategories()
2026-02-20 13:30:25.094 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0
2026-02-20 13:30:25.143 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:30:25.143] TRANSACTION COMMIT: CategoryServiceImpl.getAllCategories()
2026-02-20 13:30:25.143 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:30:25.143] EXITING: CategoryServiceImpl.getAllCategories returned: ArrayList
2026-02-20 13:30:25.144 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@782441895 wrapping org.postgresql.jdbc.PgConnection@c925ae1]
2026-02-20 13:30:25.150 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CategoryController.getAllCategories responded in 112ms
2026-02-20 13:30:25.151 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CategoryController.getAllCategories returned: ResponseEntity
2026-02-20 13:30:25.180 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@841403074 wrapping org.postgresql.jdbc.PgConnection@c925ae1] read-only
2026-02-20 13:30:25.182 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:30:25.182] ENTERING: ProductServiceImpl.getProductsWithFilters with arguments: [com.shopjoy.dto.filter.ProductFilter@5891395a, Page request [number: 0, size 12, sort: productName: ASC], productName, ASC]
2026-02-20 13:30:25.186 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:30:25.186] TRANSACTION START: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 13:30:25.238 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?) order by p1_0.product_name fetch first ? rows only
2026-02-20 13:30:25.288 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:30:25.315 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:30:25.329 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:30:25.331 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:30:25.335 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:30:25.339 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:30:25.344 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:30:25.346 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:30:25.349 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:30:25.352 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:30:25.356 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:30:25.358 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:30:25.378 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select count(*) from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?)
2026-02-20 13:30:25.391 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id = any (?)
2026-02-20 13:30:25.413 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:30:25.413] TRANSACTION COMMIT: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 13:30:25.413 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:30:25.413] EXITING: ProductServiceImpl.getProductsWithFilters returned: PageImpl
2026-02-20 13:30:25.414 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@841403074 wrapping org.postgresql.jdbc.PgConnection@c925ae1]
2026-02-20 13:30:25.417 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint ProductController.getProductsWithFilters responded in 366ms
2026-02-20 13:30:25.417 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: ProductController.getProductsWithFilters returned: ResponseEntity
2026-02-20 13:30:25.459 [http-nio-8080-exec-2] WARN  o.s.d.w.c.SpringDataJackson3Configuration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2026-02-20 13:30:25.491 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CategoryController.getAllCategories with arguments: []
2026-02-20 13:30:25.495 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CategoryController.getAllCategories responded in 3ms
2026-02-20 13:30:25.496 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CategoryController.getAllCategories returned: ResponseEntity
2026-02-20 13:30:25.515 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: ProductController.getProductsWithFilters with arguments: [null, null, null, null, null, null, null, true, 0, 12, productName, ASC]
2026-02-20 13:30:25.516 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@2073970634 wrapping org.postgresql.jdbc.PgConnection@c925ae1] read-only
2026-02-20 13:30:25.518 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:30:25.518] ENTERING: ProductServiceImpl.getProductsWithFilters with arguments: [com.shopjoy.dto.filter.ProductFilter@7fa1dc61, Page request [number: 0, size 12, sort: productName: ASC], productName, ASC]
2026-02-20 13:30:25.521 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:30:25.521] TRANSACTION START: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 13:30:25.523 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?) order by p1_0.product_name fetch first ? rows only
2026-02-20 13:30:25.533 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:30:25.538 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:30:25.540 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:30:25.543 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:30:25.547 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:30:25.550 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:30:25.554 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:30:25.576 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:30:25.579 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:30:25.582 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:30:25.584 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:30:25.589 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:30:25.594 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select count(*) from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?)
2026-02-20 13:30:25.597 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id = any (?)
2026-02-20 13:30:25.603 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:30:25.602] TRANSACTION COMMIT: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 13:30:25.604 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:30:25.604] EXITING: ProductServiceImpl.getProductsWithFilters returned: PageImpl
2026-02-20 13:30:25.606 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@2073970634 wrapping org.postgresql.jdbc.PgConnection@c925ae1]
2026-02-20 13:30:25.606 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint ProductController.getProductsWithFilters responded in 90ms
2026-02-20 13:30:25.607 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: ProductController.getProductsWithFilters returned: ResponseEntity
2026-02-20 13:30:38.798 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:30:38.797] TRANSACTION START: OAuth2LoginSuccessHandler.onAuthenticationSuccess(HttpServletRequest, HttpServletResponse, Authentication)
2026-02-20 13:30:38.800 [http-nio-8080-exec-10] INFO  c.s.s.OAuth2LoginSuccessHandler - OAuth2 authentication successful for user: 113687644831698073835
2026-02-20 13:30:38.800 [http-nio-8080-exec-10] INFO  c.s.s.OAuth2LoginSuccessHandler - OAuth2 user details - Email: yawanokye99@gmail.com, Name: Eugene Anokye, Provider: google
2026-02-20 13:30:38.807 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.email=?
2026-02-20 13:30:38.976 [http-nio-8080-exec-10] INFO  c.s.s.OAuth2LoginSuccessHandler - JWT token generated for OAuth2 user: eugene_6177
2026-02-20 13:30:38.976 [http-nio-8080-exec-10] INFO  c.s.s.OAuth2LoginSuccessHandler - Redirecting to frontend: http://localhost:5173/oauth2/callback?token=eyJhbGciOiJIUzUxMiJ9.eyJyb2xlcyI6IlJPTEVfQ1VTVE9NRVIiLCJzdWIiOiJldWdlbmVfNjE3NyIsImlhdCI6MTc3MTU5NDIzOCwiZXhwIjoxNzcxNjgwNjM4fQ.d2v4_24rBGyh0lk95qChBXQhBWsZcPpVA7p6n2oYA4Bg2w-a4Sz7WXNROtsqA0jBg7K29SqeE-9KNtldu1l8Jg&provider=google
2026-02-20 13:30:38.976 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:30:38.976] TRANSACTION COMMIT: OAuth2LoginSuccessHandler.onAuthenticationSuccess(HttpServletRequest, HttpServletResponse, Authentication)
2026-02-20 13:36:05.254 [SpringApplicationShutdownHook] INFO  o.s.boot.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2026-02-20 13:36:05.297 [tomcat-shutdown] INFO  o.s.boot.tomcat.GracefulShutdown - Graceful shutdown complete
2026-02-20 13:36:05.325 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-02-20 13:36:05.331 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-02-20 13:36:05.368 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-02-20 13:36:50.634 [main] INFO  c.s.ShopjoyEcommerceSystemApplication - Starting ShopjoyEcommerceSystemApplication using Java 25.0.1 with PID 868 (C:\Users\EugeneDokyeAnokye\IdeaProjects\spring-data-ecommerce\target\classes started by EugeneDokyeAnokye in C:\Users\EugeneDokyeAnokye\IdeaProjects\spring-data-ecommerce)
2026-02-20 13:36:50.640 [main] DEBUG c.s.ShopjoyEcommerceSystemApplication - Running with Spring Boot v4.0.2, Spring v7.0.3
2026-02-20 13:36:50.640 [main] INFO  c.s.ShopjoyEcommerceSystemApplication - The following 1 profile is active: "dev"
2026-02-20 13:36:52.072 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 9.0.1.Final
2026-02-20 13:36:57.784 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-20 13:36:58.522 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 692 ms. Found 10 JPA repository interfaces.
2026-02-20 13:37:03.889 [main] INFO  o.s.boot.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-02-20 13:37:03.919 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-02-20 13:37:03.924 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-02-20 13:37:03.924 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/11.0.15]
2026-02-20 13:37:04.204 [main] INFO  o.s.b.w.c.s.WebApplicationContextInitializer - Root WebApplicationContext: initialization completed in 13340 ms
2026-02-20 13:37:06.727 [main] INFO  org.hibernate.orm.jpa - HHH008540: Processing PersistenceUnitInfo [name: default]
2026-02-20 13:37:07.027 [main] INFO  org.hibernate.orm.core - HHH000001: Hibernate ORM core version 7.2.1.Final
2026-02-20 13:37:08.941 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-20 13:37:09.057 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-20 13:37:09.949 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@19cad9f0
2026-02-20 13:37:09.953 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-20 13:37:10.327 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [jdbc:postgresql://localhost:5432/shopjoy_db]
	Database driver: PostgreSQL JDBC Driver
	Database dialect: PostgreSQLDialect
	Database version: 18.1
	Default catalog/schema: shopjoy_db/public
	Autocommit mode: undefined/unknown
	Isolation level: READ_COMMITTED [default READ_COMMITTED]
	JDBC fetch size: none
	Pool: DataSourceConnectionProvider
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-02-20 13:37:16.537 [main] INFO  org.hibernate.orm.core - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-20 13:37:16.699 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-20 13:37:20.502 [main] INFO  o.s.d.j.r.q.QueryEnhancerFactories - Hibernate is in classpath; If applicable, HQL parser will be used.
2026-02-20 13:37:27.456 [main] DEBUG c.s.config.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2026-02-20 13:37:28.351 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2026-02-20 13:37:43.272 [main] INFO  o.s.g.e.DefaultSchemaResourceGraphQlSourceBuilder - Loaded 1 resource(s) in the GraphQL schema.
2026-02-20 13:37:44.249 [main] INFO  o.s.b.g.a.GraphQlAutoConfiguration - GraphQL schema inspection:
	Unmapped fields: {Inventory=[reservedQuantity]}
	Unmapped registrations: {Review.user=@BatchMapping ReviewFieldResolver#user[1 args]}
	Unmapped arguments: {}
	Field nullness errors: {}
	Argument nullness errors: {}
	Skipped types: []
2026-02-20 13:37:44.470 [main] INFO  o.s.b.g.a.s.GraphQlWebMvcAutoConfiguration - GraphQL endpoint HTTP POST /graphql
2026-02-20 13:37:52.932 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2026-02-20 13:37:53.490 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2026-02-20 13:37:53.553 [main] INFO  o.s.boot.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2026-02-20 13:37:53.587 [main] INFO  c.s.ShopjoyEcommerceSystemApplication - Started ShopjoyEcommerceSystemApplication in 65.244 seconds (process running for 67.808)
2026-02-20 13:37:54.682 [main] INFO  c.s.config.AdminUserInitializer - Checking for existing admin user with username: admin
2026-02-20 13:37:54.743 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@387938448 wrapping org.postgresql.jdbc.PgConnection@19cad9f0] read-only
2026-02-20 13:37:54.805 [main] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:37:54.766] ENTERING: AuthServiceImpl.isUsernameTaken with arguments: [admin]
2026-02-20 13:37:54.864 [main] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:37:54.864] TRANSACTION START: AuthServiceImpl.isUsernameTaken(String)
2026-02-20 13:37:55.356 [main] DEBUG org.hibernate.SQL - select u1_0.user_id from users u1_0 where u1_0.username=? fetch first ? rows only
2026-02-20 13:37:55.440 [main] WARN  c.shopjoy.aspect.PerformanceAspect - SLOW DATABASE QUERY: $Proxy187.existsByUsername took 573ms
2026-02-20 13:37:55.441 [main] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:37:55.441] TRANSACTION COMMIT: AuthServiceImpl.isUsernameTaken(String)
2026-02-20 13:37:55.446 [main] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:37:55.446] EXITING: AuthServiceImpl.isUsernameTaken returned: Boolean
2026-02-20 13:37:55.456 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@387938448 wrapping org.postgresql.jdbc.PgConnection@19cad9f0]
2026-02-20 13:37:55.463 [main] INFO  c.s.config.AdminUserInitializer - Admin user 'admin' already exists, skipping creation
2026-02-20 13:37:55.465 [main] WARN  o.s.c.events.SpringDocAppInitializer - SpringDoc /api-docs endpoint is enabled by default. To disable it in production, set the property 'springdoc.api-docs.enabled=false'
2026-02-20 13:42:26.150 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-20 13:42:26.151 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-02-20 13:42:26.155 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2026-02-20 13:42:45.104 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:42:45.104] TRANSACTION START: OAuth2LoginSuccessHandler.onAuthenticationSuccess(HttpServletRequest, HttpServletResponse, Authentication)
2026-02-20 13:42:45.107 [http-nio-8080-exec-5] INFO  c.s.s.OAuth2LoginSuccessHandler - OAuth2 authentication successful for user: 113687644831698073835
2026-02-20 13:42:45.108 [http-nio-8080-exec-5] INFO  c.s.s.OAuth2LoginSuccessHandler - OAuth2 user details - Email: yawanokye99@gmail.com, Name: Eugene Anokye, Provider: google
2026-02-20 13:42:45.123 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.email=?
2026-02-20 13:42:45.455 [http-nio-8080-exec-5] INFO  c.s.s.OAuth2LoginSuccessHandler - JWT token generated for OAuth2 user: eugene_6177
2026-02-20 13:42:45.455 [http-nio-8080-exec-5] INFO  c.s.s.OAuth2LoginSuccessHandler - Redirecting to frontend: http://localhost:5173/oauth2/callback?token=eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiQ1VTVE9NRVIiLCJyb2xlcyI6IlJPTEVfQ1VTVE9NRVIiLCJ1c2VySWQiOjI0LCJzdWIiOiJldWdlbmVfNjE3NyIsImlhdCI6MTc3MTU5NDk2NSwiZXhwIjoxNzcxNjgxMzY1fQ.1_t1N6TpDuJtgJH0KFa-ByzEFa2aAnSnrcWr0-Pjh7cIKZ3mNb1PVgyHpAFRzD9nH2rh2BxWDIzJWbzz89ayFA&provider=google
2026-02-20 13:42:45.456 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:42:45.456] TRANSACTION COMMIT: OAuth2LoginSuccessHandler.onAuthenticationSuccess(HttpServletRequest, HttpServletResponse, Authentication)
2026-02-20 13:45:14.952 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:45:14.952] TRANSACTION START: OAuth2LoginSuccessHandler.onAuthenticationSuccess(HttpServletRequest, HttpServletResponse, Authentication)
2026-02-20 13:45:14.952 [http-nio-8080-exec-3] INFO  c.s.s.OAuth2LoginSuccessHandler - OAuth2 authentication successful for user: 113687644831698073835
2026-02-20 13:45:14.952 [http-nio-8080-exec-3] INFO  c.s.s.OAuth2LoginSuccessHandler - OAuth2 user details - Email: yawanokye99@gmail.com, Name: Eugene Anokye, Provider: google
2026-02-20 13:45:14.954 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.email=?
2026-02-20 13:45:14.959 [http-nio-8080-exec-3] INFO  c.s.s.OAuth2LoginSuccessHandler - JWT token generated for OAuth2 user: eugene_6177
2026-02-20 13:45:14.959 [http-nio-8080-exec-3] INFO  c.s.s.OAuth2LoginSuccessHandler - Redirecting to frontend: http://localhost:5173/oauth2/callback?token=eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiQ1VTVE9NRVIiLCJyb2xlcyI6IlJPTEVfQ1VTVE9NRVIiLCJ1c2VySWQiOjI0LCJzdWIiOiJldWdlbmVfNjE3NyIsImlhdCI6MTc3MTU5NTExNCwiZXhwIjoxNzcxNjgxNTE0fQ.1tBzeRY-K9Xt-YvkwpnrDhfsjXsa4EZbguICCmbfpVn_C3ucU3-11S4BOfG7W6ljiZ9z8muefGt7rnzUdm4s0g&provider=google
2026-02-20 13:45:14.959 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:45:14.959] TRANSACTION COMMIT: OAuth2LoginSuccessHandler.onAuthenticationSuccess(HttpServletRequest, HttpServletResponse, Authentication)
2026-02-20 13:46:20.534 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CategoryController.getAllCategories with arguments: []
2026-02-20 13:46:20.541 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1914894359 wrapping org.postgresql.jdbc.PgConnection@19cad9f0] read-only
2026-02-20 13:46:20.542 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:46:20.542] ENTERING: CategoryServiceImpl.getAllCategories with arguments: []
2026-02-20 13:46:20.545 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:46:20.545] TRANSACTION START: CategoryServiceImpl.getAllCategories()
2026-02-20 13:46:20.550 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: ProductController.getProductsWithFilters with arguments: [null, null, null, null, null, null, null, true, 0, 12, productName, ASC]
2026-02-20 13:46:20.578 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0
2026-02-20 13:46:20.594 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:46:20.593] TRANSACTION COMMIT: CategoryServiceImpl.getAllCategories()
2026-02-20 13:46:20.594 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:46:20.594] EXITING: CategoryServiceImpl.getAllCategories returned: ArrayList
2026-02-20 13:46:20.599 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1914894359 wrapping org.postgresql.jdbc.PgConnection@19cad9f0]
2026-02-20 13:46:20.604 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CategoryController.getAllCategories responded in 68ms
2026-02-20 13:46:20.604 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CategoryController.getAllCategories returned: ResponseEntity
2026-02-20 13:46:20.753 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1831775671 wrapping org.postgresql.jdbc.PgConnection@19cad9f0] read-only
2026-02-20 13:46:20.754 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:46:20.754] ENTERING: ProductServiceImpl.getProductsWithFilters with arguments: [com.shopjoy.dto.filter.ProductFilter@657fa220, Page request [number: 0, size 12, sort: productName: ASC], productName, ASC]
2026-02-20 13:46:20.852 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:46:20.851] TRANSACTION START: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 13:46:20.934 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CategoryController.getAllCategories with arguments: []
2026-02-20 13:46:20.938 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CategoryController.getAllCategories responded in 3ms
2026-02-20 13:46:20.939 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CategoryController.getAllCategories returned: ResponseEntity
2026-02-20 13:46:20.961 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?) order by p1_0.product_name fetch first ? rows only
2026-02-20 13:46:21.011 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:46:21.032 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:46:21.036 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:46:21.039 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:46:21.043 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:46:21.047 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:46:21.052 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:46:21.056 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:46:21.058 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:46:21.061 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:46:21.066 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:46:21.069 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:46:21.088 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select count(*) from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?)
2026-02-20 13:46:21.100 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id = any (?)
2026-02-20 13:46:21.124 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:46:21.123] TRANSACTION COMMIT: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 13:46:21.124 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:46:21.124] EXITING: ProductServiceImpl.getProductsWithFilters returned: PageImpl
2026-02-20 13:46:21.126 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1831775671 wrapping org.postgresql.jdbc.PgConnection@19cad9f0]
2026-02-20 13:46:21.127 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint ProductController.getProductsWithFilters responded in 576ms
2026-02-20 13:46:21.127 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: ProductController.getProductsWithFilters returned: ResponseEntity
2026-02-20 13:46:21.135 [http-nio-8080-exec-5] WARN  o.s.d.w.c.SpringDataJackson3Configuration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2026-02-20 13:46:21.175 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: ProductController.getProductsWithFilters with arguments: [null, null, null, null, null, null, null, true, 0, 12, productName, ASC]
2026-02-20 13:46:21.176 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1496508888 wrapping org.postgresql.jdbc.PgConnection@19cad9f0] read-only
2026-02-20 13:46:21.177 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:46:21.177] ENTERING: ProductServiceImpl.getProductsWithFilters with arguments: [com.shopjoy.dto.filter.ProductFilter@3896b25c, Page request [number: 0, size 12, sort: productName: ASC], productName, ASC]
2026-02-20 13:46:21.177 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:46:21.177] TRANSACTION START: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 13:46:21.184 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?) order by p1_0.product_name fetch first ? rows only
2026-02-20 13:46:21.188 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:46:21.192 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:46:21.200 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:46:21.203 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:46:21.207 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:46:21.210 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:46:21.217 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:46:21.234 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:46:21.237 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:46:21.240 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:46:21.244 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:46:21.250 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:46:21.259 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select count(*) from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?)
2026-02-20 13:46:21.264 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id = any (?)
2026-02-20 13:46:21.273 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:46:21.273] TRANSACTION COMMIT: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 13:46:21.274 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:46:21.274] EXITING: ProductServiceImpl.getProductsWithFilters returned: PageImpl
2026-02-20 13:46:21.277 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1496508888 wrapping org.postgresql.jdbc.PgConnection@19cad9f0]
2026-02-20 13:46:21.278 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint ProductController.getProductsWithFilters responded in 103ms
2026-02-20 13:46:21.279 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: ProductController.getProductsWithFilters returned: ResponseEntity
2026-02-20 13:46:49.794 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: ProductController.getProductsWithFilters with arguments: [null, null, null, null, null, null, null, true, 0, 12, productName, ASC]
2026-02-20 13:46:49.790 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CategoryController.getAllCategories with arguments: []
2026-02-20 13:46:49.796 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CategoryController.getAllCategories responded in 0ms
2026-02-20 13:46:49.797 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CategoryController.getAllCategories returned: ResponseEntity
2026-02-20 13:46:49.797 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1449374192 wrapping org.postgresql.jdbc.PgConnection@19cad9f0] read-only
2026-02-20 13:46:49.799 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:46:49.799] ENTERING: ProductServiceImpl.getProductsWithFilters with arguments: [com.shopjoy.dto.filter.ProductFilter@525c2fe4, Page request [number: 0, size 12, sort: productName: ASC], productName, ASC]
2026-02-20 13:46:49.799 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:46:49.799] TRANSACTION START: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 13:46:49.801 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?) order by p1_0.product_name fetch first ? rows only
2026-02-20 13:46:49.806 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:46:49.813 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:46:49.816 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:46:49.818 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:46:49.821 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:46:49.823 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:46:49.828 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:46:49.831 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:46:49.834 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:46:49.835 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:46:49.838 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:46:49.840 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:46:49.840 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CategoryController.getAllCategories with arguments: []
2026-02-20 13:46:49.841 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CategoryController.getAllCategories responded in 1ms
2026-02-20 13:46:49.842 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CategoryController.getAllCategories returned: ResponseEntity
2026-02-20 13:46:49.846 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select count(*) from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?)
2026-02-20 13:46:49.848 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id = any (?)
2026-02-20 13:46:49.851 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:46:49.851] TRANSACTION COMMIT: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 13:46:49.852 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:46:49.852] EXITING: ProductServiceImpl.getProductsWithFilters returned: PageImpl
2026-02-20 13:46:49.852 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1449374192 wrapping org.postgresql.jdbc.PgConnection@19cad9f0]
2026-02-20 13:46:49.853 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint ProductController.getProductsWithFilters responded in 57ms
2026-02-20 13:46:49.853 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: ProductController.getProductsWithFilters returned: ResponseEntity
2026-02-20 13:46:49.864 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: ProductController.getProductsWithFilters with arguments: [null, null, null, null, null, null, null, true, 0, 12, productName, ASC]
2026-02-20 13:46:49.865 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1462108801 wrapping org.postgresql.jdbc.PgConnection@19cad9f0] read-only
2026-02-20 13:46:49.866 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:46:49.866] ENTERING: ProductServiceImpl.getProductsWithFilters with arguments: [com.shopjoy.dto.filter.ProductFilter@6c1eca17, Page request [number: 0, size 12, sort: productName: ASC], productName, ASC]
2026-02-20 13:46:49.866 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:46:49.866] TRANSACTION START: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 13:46:49.867 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?) order by p1_0.product_name fetch first ? rows only
2026-02-20 13:46:49.870 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:46:49.873 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:46:49.877 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:46:49.880 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:46:49.883 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:46:49.885 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:46:49.888 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:46:49.891 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:46:49.893 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:46:49.896 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:46:49.898 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:46:49.901 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:46:49.906 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select count(*) from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?)
2026-02-20 13:46:49.909 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id = any (?)
2026-02-20 13:46:49.913 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:46:49.913] TRANSACTION COMMIT: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 13:46:49.913 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:46:49.913] EXITING: ProductServiceImpl.getProductsWithFilters returned: PageImpl
2026-02-20 13:46:49.914 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1462108801 wrapping org.postgresql.jdbc.PgConnection@19cad9f0]
2026-02-20 13:46:49.915 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint ProductController.getProductsWithFilters responded in 51ms
2026-02-20 13:46:49.916 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: ProductController.getProductsWithFilters returned: ResponseEntity
2026-02-20 13:50:07.818 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:50:07.818] TRANSACTION START: OAuth2LoginSuccessHandler.onAuthenticationSuccess(HttpServletRequest, HttpServletResponse, Authentication)
2026-02-20 13:50:07.819 [http-nio-8080-exec-5] INFO  c.s.s.OAuth2LoginSuccessHandler - OAuth2 authentication successful for user: 113687644831698073835
2026-02-20 13:50:07.819 [http-nio-8080-exec-5] INFO  c.s.s.OAuth2LoginSuccessHandler - OAuth2 user details - Email: yawanokye99@gmail.com, Name: Eugene Anokye, Provider: google
2026-02-20 13:50:07.820 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.email=?
2026-02-20 13:50:07.825 [http-nio-8080-exec-5] INFO  c.s.s.OAuth2LoginSuccessHandler - JWT token generated for OAuth2 user: eugene_6177
2026-02-20 13:50:07.825 [http-nio-8080-exec-5] INFO  c.s.s.OAuth2LoginSuccessHandler - Redirecting to frontend: http://localhost:5173/oauth2/callback?token=eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiQ1VTVE9NRVIiLCJyb2xlcyI6IlJPTEVfQ1VTVE9NRVIiLCJ1c2VySWQiOjI0LCJzdWIiOiJldWdlbmVfNjE3NyIsImlhdCI6MTc3MTU5NTQwNywiZXhwIjoxNzcxNjgxODA3fQ.VxNenBnnzmmqkH6CL-IHKYYbcRPvuVEUk9vozuJEFkx5y9Bollt7UqJ-Xsovni_NRgbcxqGJtBC4YL6L8XfBcA&provider=google
2026-02-20 13:50:07.825 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:50:07.825] TRANSACTION COMMIT: OAuth2LoginSuccessHandler.onAuthenticationSuccess(HttpServletRequest, HttpServletResponse, Authentication)
2026-02-20 13:52:13.081 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1822377325 wrapping org.postgresql.jdbc.PgConnection@19cad9f0] read-only
2026-02-20 13:52:13.082 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:13.082] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 13:52:13.089 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:13.089] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:52:13.107 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 13:52:13.113 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:13.112] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:52:13.126 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:13.126] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 13:52:13.127 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1822377325 wrapping org.postgresql.jdbc.PgConnection@19cad9f0]
2026-02-20 13:52:13.132 [http-nio-8080-exec-4] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 13:52:13.573 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@390465456 wrapping org.postgresql.jdbc.PgConnection@19cad9f0] read-only
2026-02-20 13:52:13.574 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:13.574] ENTERING: OrderServiceImpl.getOrders with arguments: [24, null, Page request [number: 0, size 20, sort: orderDate: DESC]]
2026-02-20 13:52:13.578 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:13.578] TRANSACTION START: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-20 13:52:13.608 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select o1_0.order_id,o1_0.created_at,o1_0.notes,o1_0.order_date,o1_0.payment_method,o1_0.payment_status,o1_0.shipping_address,o1_0.status,o1_0.total_amount,o1_0.updated_at,o1_0.user_id from orders o1_0 where o1_0.user_id=? order by o1_0.order_date desc offset ? rows fetch first ? rows only
2026-02-20 13:52:13.627 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:13.627] TRANSACTION COMMIT: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-20 13:52:13.627 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:13.627] EXITING: OrderServiceImpl.getOrders returned: PageImpl
2026-02-20 13:52:13.628 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@390465456 wrapping org.postgresql.jdbc.PgConnection@19cad9f0]
2026-02-20 13:52:13.671 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1851854770 wrapping org.postgresql.jdbc.PgConnection@19cad9f0] read-only
2026-02-20 13:52:13.672 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:13.672] ENTERING: CartServiceImpl.getCartItems with arguments: [24]
2026-02-20 13:52:13.676 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:13.676] TRANSACTION START: CartServiceImpl.getCartItems(Integer)
2026-02-20 13:52:13.682 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 where ci1_0.user_id=?
2026-02-20 13:52:13.699 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:13.699] TRANSACTION COMMIT: CartServiceImpl.getCartItems(Integer)
2026-02-20 13:52:13.700 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:13.700] EXITING: CartServiceImpl.getCartItems returned: ArrayList
2026-02-20 13:52:13.701 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1851854770 wrapping org.postgresql.jdbc.PgConnection@19cad9f0]
2026-02-20 13:52:13.705 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@468763836 wrapping org.postgresql.jdbc.PgConnection@19cad9f0] read-only
2026-02-20 13:52:13.705 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:13.705] ENTERING: ReviewServiceImpl.getReviewsByUser with arguments: [24]
2026-02-20 13:52:13.708 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:13.708] TRANSACTION START: ReviewServiceImpl.getReviewsByUser(Integer)
2026-02-20 13:52:13.713 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select r1_0.review_id,r1_0.comment,r1_0.created_at,r1_0.helpful_count,r1_0.is_verified_purchase,r1_0.product_id,r1_0.rating,r1_0.title,r1_0.updated_at,r1_0.user_id from reviews r1_0 where r1_0.user_id=?
2026-02-20 13:52:13.734 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 13:52:13.739 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id=?
2026-02-20 13:52:13.742 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:13.742] TRANSACTION COMMIT: ReviewServiceImpl.getReviewsByUser(Integer)
2026-02-20 13:52:13.743 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:13.743] EXITING: ReviewServiceImpl.getReviewsByUser returned: ArrayList
2026-02-20 13:52:13.744 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@468763836 wrapping org.postgresql.jdbc.PgConnection@19cad9f0]
2026-02-20 13:52:13.771 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1445462482 wrapping org.postgresql.jdbc.PgConnection@19cad9f0] read-only
2026-02-20 13:52:13.772 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:13.772] ENTERING: ProductServiceImpl.getProductsByIds with arguments: [[41]]
2026-02-20 13:52:13.772 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:13.772] TRANSACTION START: ProductServiceImpl.getProductsByIds(List)
2026-02-20 13:52:13.893 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 13:52:13.897 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 13:52:13.901 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:13.901] TRANSACTION COMMIT: ProductServiceImpl.getProductsByIds(List)
2026-02-20 13:52:13.901 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:13.901] EXITING: ProductServiceImpl.getProductsByIds returned: ArrayList
2026-02-20 13:52:13.902 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1445462482 wrapping org.postgresql.jdbc.PgConnection@19cad9f0]
2026-02-20 13:52:25.902 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1303759833 wrapping org.postgresql.jdbc.PgConnection@19cad9f0] read-only
2026-02-20 13:52:25.904 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:25.904] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 13:52:25.904 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:25.904] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:52:25.905 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 13:52:25.908 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:25.908] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:52:25.908 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:25.908] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 13:52:25.908 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@87003404 wrapping org.postgresql.jdbc.PgConnection@4a0500eb] read-only
2026-02-20 13:52:25.908 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:25.908] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 13:52:25.908 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1303759833 wrapping org.postgresql.jdbc.PgConnection@19cad9f0]
2026-02-20 13:52:25.908 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:25.908] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:52:25.909 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 13:52:25.910 [http-nio-8080-exec-9] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 13:52:25.915 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: ProductController.getProductsWithFilters with arguments: [null, null, null, null, null, null, null, true, 0, 8, productName, ASC]
2026-02-20 13:52:25.916 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1455905762 wrapping org.postgresql.jdbc.PgConnection@19cad9f0] read-only
2026-02-20 13:52:25.917 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:25.917] ENTERING: ProductServiceImpl.getProductsWithFilters with arguments: [com.shopjoy.dto.filter.ProductFilter@271d3c81, Page request [number: 0, size 8, sort: productName: ASC], productName, ASC]
2026-02-20 13:52:25.917 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:25.917] TRANSACTION START: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 13:52:25.919 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?) order by p1_0.product_name fetch first ? rows only
2026-02-20 13:52:25.921 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:52:25.922 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:25.922] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:52:25.922 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:25.922] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 13:52:25.925 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:52:25.927 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@87003404 wrapping org.postgresql.jdbc.PgConnection@4a0500eb]
2026-02-20 13:52:25.928 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:52:25.930 [http-nio-8080-exec-5] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 13:52:25.931 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:52:25.933 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:52:25.933 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CategoryController.getAllCategories with arguments: []
2026-02-20 13:52:25.936 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CategoryController.getAllCategories responded in 3ms
2026-02-20 13:52:25.937 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CategoryController.getAllCategories returned: ResponseEntity
2026-02-20 13:52:25.937 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:52:25.938 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:52:25.941 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:52:25.943 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@955641970 wrapping org.postgresql.jdbc.PgConnection@4a0500eb] read-only
2026-02-20 13:52:25.945 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:25.945] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 13:52:25.945 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:25.945] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:52:25.946 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 13:52:25.947 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select count(*) from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?)
2026-02-20 13:52:25.948 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:25.948] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:52:25.948 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id = any (?)
2026-02-20 13:52:25.949 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:25.949] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 13:52:25.950 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@955641970 wrapping org.postgresql.jdbc.PgConnection@4a0500eb]
2026-02-20 13:52:25.952 [http-nio-8080-exec-3] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 13:52:25.952 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:25.952] TRANSACTION COMMIT: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 13:52:25.952 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:25.952] EXITING: ProductServiceImpl.getProductsWithFilters returned: PageImpl
2026-02-20 13:52:25.953 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1455905762 wrapping org.postgresql.jdbc.PgConnection@19cad9f0]
2026-02-20 13:52:25.954 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint ProductController.getProductsWithFilters responded in 39ms
2026-02-20 13:52:25.954 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: ProductController.getProductsWithFilters returned: ResponseEntity
2026-02-20 13:52:25.954 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CategoryController.getAllCategories with arguments: []
2026-02-20 13:52:25.955 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CategoryController.getAllCategories responded in 0ms
2026-02-20 13:52:25.955 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CategoryController.getAllCategories returned: ResponseEntity
2026-02-20 13:52:25.964 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@715539535 wrapping org.postgresql.jdbc.PgConnection@19cad9f0] read-only
2026-02-20 13:52:25.965 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:25.965] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 13:52:25.965 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:25.965] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:52:25.966 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 13:52:25.969 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:25.969] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:52:25.969 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:25.969] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 13:52:25.970 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@715539535 wrapping org.postgresql.jdbc.PgConnection@19cad9f0]
2026-02-20 13:52:25.973 [http-nio-8080-exec-9] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 13:52:25.976 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: ProductController.getProductsWithFilters with arguments: [null, null, null, null, null, null, null, true, 0, 8, productName, ASC]
2026-02-20 13:52:25.977 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@2098643380 wrapping org.postgresql.jdbc.PgConnection@19cad9f0] read-only
2026-02-20 13:52:25.977 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:25.977] ENTERING: ProductServiceImpl.getProductsWithFilters with arguments: [com.shopjoy.dto.filter.ProductFilter@12734b74, Page request [number: 0, size 8, sort: productName: ASC], productName, ASC]
2026-02-20 13:52:25.978 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:25.978] TRANSACTION START: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 13:52:25.979 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?) order by p1_0.product_name fetch first ? rows only
2026-02-20 13:52:25.981 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:52:25.983 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:52:25.986 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:52:25.989 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:52:25.991 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:52:25.993 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:52:25.994 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:52:25.997 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:52:26.002 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select count(*) from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?)
2026-02-20 13:52:26.005 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id = any (?)
2026-02-20 13:52:26.008 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:26.007] TRANSACTION COMMIT: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 13:52:26.008 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:26.008] EXITING: ProductServiceImpl.getProductsWithFilters returned: PageImpl
2026-02-20 13:52:26.009 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@2098643380 wrapping org.postgresql.jdbc.PgConnection@19cad9f0]
2026-02-20 13:52:26.009 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint ProductController.getProductsWithFilters responded in 33ms
2026-02-20 13:52:26.009 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: ProductController.getProductsWithFilters returned: ResponseEntity
2026-02-20 13:52:28.037 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1787418413 wrapping org.postgresql.jdbc.PgConnection@19cad9f0] read-only
2026-02-20 13:52:28.037 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:28.037] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 13:52:28.038 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:28.038] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:52:28.038 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@281266233 wrapping org.postgresql.jdbc.PgConnection@4a0500eb] read-only
2026-02-20 13:52:28.038 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:28.038] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 13:52:28.038 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:28.038] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:52:28.039 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 13:52:28.039 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 13:52:28.041 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:28.041] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:52:28.041 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:28.041] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:52:28.041 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:28.041] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 13:52:28.041 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:28.041] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 13:52:28.042 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1787418413 wrapping org.postgresql.jdbc.PgConnection@19cad9f0]
2026-02-20 13:52:28.042 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@281266233 wrapping org.postgresql.jdbc.PgConnection@4a0500eb]
2026-02-20 13:52:28.043 [http-nio-8080-exec-8] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 13:52:28.043 [http-nio-8080-exec-1] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 13:52:28.054 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.getCartItems with arguments: [24]
2026-02-20 13:52:28.054 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.getCartTotal with arguments: [24]
2026-02-20 13:52:28.055 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.getCartItems responded in 1ms
2026-02-20 13:52:28.055 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.getCartItems returned: ResponseEntity
2026-02-20 13:52:28.055 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1567385969 wrapping org.postgresql.jdbc.PgConnection@19cad9f0] read-only
2026-02-20 13:52:28.055 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:28.055] ENTERING: CartServiceImpl.getCartTotal with arguments: [24]
2026-02-20 13:52:28.055 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:28.055] TRANSACTION START: CartServiceImpl.getCartTotal(Integer)
2026-02-20 13:52:28.059 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 where ci1_0.user_id=?
2026-02-20 13:52:28.061 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:28.061] TRANSACTION COMMIT: CartServiceImpl.getCartTotal(Integer)
2026-02-20 13:52:28.062 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1613996612 wrapping org.postgresql.jdbc.PgConnection@4a0500eb] read-only
2026-02-20 13:52:28.062 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:28.062] EXITING: CartServiceImpl.getCartTotal returned: Double
2026-02-20 13:52:28.062 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:28.062] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 13:52:28.062 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:28.062] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:52:28.062 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1567385969 wrapping org.postgresql.jdbc.PgConnection@19cad9f0]
2026-02-20 13:52:28.063 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.getCartTotal responded in 8ms
2026-02-20 13:52:28.063 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.getCartTotal returned: ResponseEntity
2026-02-20 13:52:28.063 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 13:52:28.066 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:28.065] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:52:28.066 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:28.066] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 13:52:28.067 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1613996612 wrapping org.postgresql.jdbc.PgConnection@4a0500eb]
2026-02-20 13:52:28.069 [http-nio-8080-exec-1] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 13:52:28.069 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@370457822 wrapping org.postgresql.jdbc.PgConnection@4a0500eb] read-only
2026-02-20 13:52:28.071 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:28.071] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 13:52:28.071 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:28.071] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:52:28.071 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 13:52:28.073 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.getCartItems with arguments: [24]
2026-02-20 13:52:28.073 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.getCartItems responded in 0ms
2026-02-20 13:52:28.073 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.getCartItems returned: ResponseEntity
2026-02-20 13:52:28.075 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:28.075] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:52:28.075 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:28.075] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 13:52:28.076 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@370457822 wrapping org.postgresql.jdbc.PgConnection@4a0500eb]
2026-02-20 13:52:28.079 [http-nio-8080-exec-5] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 13:52:28.083 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.getCartTotal with arguments: [24]
2026-02-20 13:52:28.083 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.getCartTotal responded in 0ms
2026-02-20 13:52:28.083 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.getCartTotal returned: ResponseEntity
2026-02-20 13:52:29.433 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@420584579 wrapping org.postgresql.jdbc.PgConnection@19cad9f0] read-only
2026-02-20 13:52:29.433 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:29.433] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 13:52:29.434 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:29.434] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:52:29.435 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 13:52:29.438 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:29.438] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:52:29.438 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:29.438] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 13:52:29.439 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@420584579 wrapping org.postgresql.jdbc.PgConnection@19cad9f0]
2026-02-20 13:52:29.441 [http-nio-8080-exec-7] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 13:52:29.489 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@2088759125 wrapping org.postgresql.jdbc.PgConnection@19cad9f0] read-only
2026-02-20 13:52:29.491 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:29.491] ENTERING: OrderServiceImpl.getOrders with arguments: [24, OrderFilter(status=null, paymentStatus=null, startDate=null, endDate=null, minAmount=null, maxAmount=null, searchTerm=null), Page request [number: 0, size 10, sort: orderDate: DESC]]
2026-02-20 13:52:29.492 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:29.492] TRANSACTION START: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-20 13:52:29.495 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select o1_0.order_id,o1_0.created_at,o1_0.notes,o1_0.order_date,o1_0.payment_method,o1_0.payment_status,o1_0.shipping_address,o1_0.status,o1_0.total_amount,o1_0.updated_at,o1_0.user_id from orders o1_0 where o1_0.user_id=? order by o1_0.order_date desc offset ? rows fetch first ? rows only
2026-02-20 13:52:29.499 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:29.498] TRANSACTION COMMIT: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-20 13:52:29.499 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:29.499] EXITING: OrderServiceImpl.getOrders returned: PageImpl
2026-02-20 13:52:29.500 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@2088759125 wrapping org.postgresql.jdbc.PgConnection@19cad9f0]
2026-02-20 13:52:34.701 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@949516762 wrapping org.postgresql.jdbc.PgConnection@19cad9f0] read-only
2026-02-20 13:52:34.701 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:34.701] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 13:52:34.701 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:34.701] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:52:34.702 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 13:52:34.705 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:34.705] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:52:34.706 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:34.706] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 13:52:34.706 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@949516762 wrapping org.postgresql.jdbc.PgConnection@19cad9f0]
2026-02-20 13:52:34.709 [http-nio-8080-exec-4] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 13:52:34.714 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: AddressController.getAddressesByUser with arguments: [24]
2026-02-20 13:52:34.716 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1506711550 wrapping org.postgresql.jdbc.PgConnection@19cad9f0] read-only
2026-02-20 13:52:34.716 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:34.716] ENTERING: AddressServiceImpl.getAddressesByUser with arguments: [24]
2026-02-20 13:52:34.719 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:34.719] TRANSACTION START: AddressServiceImpl.getAddressesByUser(Integer)
2026-02-20 13:52:34.725 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select a1_0.address_id,a1_0.address_type,a1_0.city,a1_0.country,a1_0.created_at,a1_0.is_default,a1_0.postal_code,a1_0.state,a1_0.street_address,a1_0.user_id from addresses a1_0 where a1_0.user_id=?
2026-02-20 13:52:34.735 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:34.735] TRANSACTION COMMIT: AddressServiceImpl.getAddressesByUser(Integer)
2026-02-20 13:52:34.735 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:34.735] EXITING: AddressServiceImpl.getAddressesByUser returned: ArrayList
2026-02-20 13:52:34.736 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1506711550 wrapping org.postgresql.jdbc.PgConnection@19cad9f0]
2026-02-20 13:52:34.736 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint AddressController.getAddressesByUser responded in 22ms
2026-02-20 13:52:34.737 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: AddressController.getAddressesByUser returned: ResponseEntity
2026-02-20 13:52:34.751 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1476914685 wrapping org.postgresql.jdbc.PgConnection@19cad9f0] read-only
2026-02-20 13:52:34.752 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:34.752] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 13:52:34.752 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:34.752] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:52:34.753 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 13:52:34.756 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:34.756] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:52:34.757 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:34.757] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 13:52:34.758 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1476914685 wrapping org.postgresql.jdbc.PgConnection@19cad9f0]
2026-02-20 13:52:34.760 [http-nio-8080-exec-6] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 13:52:34.763 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: AddressController.getAddressesByUser with arguments: [24]
2026-02-20 13:52:34.764 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint AddressController.getAddressesByUser responded in 1ms
2026-02-20 13:52:34.764 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: AddressController.getAddressesByUser returned: ResponseEntity
2026-02-20 13:52:37.647 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@244220258 wrapping org.postgresql.jdbc.PgConnection@19cad9f0] read-only
2026-02-20 13:52:37.647 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@73221941 wrapping org.postgresql.jdbc.PgConnection@4a0500eb] read-only
2026-02-20 13:52:37.648 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:37.648] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 13:52:37.648 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:37.648] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 13:52:37.648 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:37.648] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:52:37.648 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:37.648] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:52:37.649 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 13:52:37.649 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 13:52:37.653 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:37.652] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:52:37.654 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:37.654] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 13:52:37.653 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:37.653] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:52:37.654 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:37.654] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 13:52:37.654 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@244220258 wrapping org.postgresql.jdbc.PgConnection@19cad9f0]
2026-02-20 13:52:37.656 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@73221941 wrapping org.postgresql.jdbc.PgConnection@4a0500eb]
2026-02-20 13:52:37.657 [http-nio-8080-exec-2] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 13:52:37.659 [http-nio-8080-exec-10] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 13:52:37.661 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CategoryController.getAllCategories with arguments: []
2026-02-20 13:52:37.662 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: ProductController.getProductsWithFilters with arguments: [null, null, null, null, null, null, null, true, 0, 8, productName, ASC]
2026-02-20 13:52:37.662 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CategoryController.getAllCategories responded in 1ms
2026-02-20 13:52:37.662 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CategoryController.getAllCategories returned: ResponseEntity
2026-02-20 13:52:37.663 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1312267254 wrapping org.postgresql.jdbc.PgConnection@19cad9f0] read-only
2026-02-20 13:52:37.663 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:37.663] ENTERING: ProductServiceImpl.getProductsWithFilters with arguments: [com.shopjoy.dto.filter.ProductFilter@90512f, Page request [number: 0, size 8, sort: productName: ASC], productName, ASC]
2026-02-20 13:52:37.663 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:37.663] TRANSACTION START: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 13:52:37.666 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?) order by p1_0.product_name fetch first ? rows only
2026-02-20 13:52:37.670 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@955480074 wrapping org.postgresql.jdbc.PgConnection@4a0500eb] read-only
2026-02-20 13:52:37.673 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:37.673] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 13:52:37.675 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:37.675] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:52:37.676 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 13:52:37.671 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:52:37.678 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:52:37.678 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:37.678] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:52:37.678 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:37.678] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 13:52:37.679 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@955480074 wrapping org.postgresql.jdbc.PgConnection@4a0500eb]
2026-02-20 13:52:37.680 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:52:37.681 [http-nio-8080-exec-10] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 13:52:37.682 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:52:37.683 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CategoryController.getAllCategories with arguments: []
2026-02-20 13:52:37.684 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:52:37.685 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CategoryController.getAllCategories responded in 1ms
2026-02-20 13:52:37.686 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CategoryController.getAllCategories returned: ResponseEntity
2026-02-20 13:52:37.689 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:52:37.692 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:52:37.693 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:52:37.698 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select count(*) from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?)
2026-02-20 13:52:37.701 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id = any (?)
2026-02-20 13:52:37.705 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:37.704] TRANSACTION COMMIT: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 13:52:37.705 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:37.705] EXITING: ProductServiceImpl.getProductsWithFilters returned: PageImpl
2026-02-20 13:52:37.705 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1312267254 wrapping org.postgresql.jdbc.PgConnection@19cad9f0]
2026-02-20 13:52:37.705 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint ProductController.getProductsWithFilters responded in 43ms
2026-02-20 13:52:37.706 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: ProductController.getProductsWithFilters returned: ResponseEntity
2026-02-20 13:52:37.713 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@825639433 wrapping org.postgresql.jdbc.PgConnection@19cad9f0] read-only
2026-02-20 13:52:37.713 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:37.713] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 13:52:37.713 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:37.713] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:52:37.713 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 13:52:37.716 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:37.715] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:52:37.716 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:37.716] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 13:52:37.717 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@825639433 wrapping org.postgresql.jdbc.PgConnection@19cad9f0]
2026-02-20 13:52:37.718 [http-nio-8080-exec-2] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 13:52:37.723 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: ProductController.getProductsWithFilters with arguments: [null, null, null, null, null, null, null, true, 0, 8, productName, ASC]
2026-02-20 13:52:37.723 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@639411517 wrapping org.postgresql.jdbc.PgConnection@19cad9f0] read-only
2026-02-20 13:52:37.724 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:37.724] ENTERING: ProductServiceImpl.getProductsWithFilters with arguments: [com.shopjoy.dto.filter.ProductFilter@568afeba, Page request [number: 0, size 8, sort: productName: ASC], productName, ASC]
2026-02-20 13:52:37.724 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:37.724] TRANSACTION START: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 13:52:37.725 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?) order by p1_0.product_name fetch first ? rows only
2026-02-20 13:52:37.727 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:52:37.730 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:52:37.732 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:52:37.735 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:52:37.738 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:52:37.739 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:52:37.742 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:52:37.743 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:52:37.749 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select count(*) from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?)
2026-02-20 13:52:37.751 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id = any (?)
2026-02-20 13:52:37.753 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:37.753] TRANSACTION COMMIT: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 13:52:37.754 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:37.754] EXITING: ProductServiceImpl.getProductsWithFilters returned: PageImpl
2026-02-20 13:52:37.754 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@639411517 wrapping org.postgresql.jdbc.PgConnection@19cad9f0]
2026-02-20 13:52:37.755 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint ProductController.getProductsWithFilters responded in 32ms
2026-02-20 13:52:37.755 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: ProductController.getProductsWithFilters returned: ResponseEntity
2026-02-20 13:52:40.650 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@159078195 wrapping org.postgresql.jdbc.PgConnection@4a0500eb] read-only
2026-02-20 13:52:40.650 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:40.650] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 13:52:40.650 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:40.650] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:52:40.651 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 13:52:40.655 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:40.655] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:52:40.655 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:40.655] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 13:52:40.656 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@159078195 wrapping org.postgresql.jdbc.PgConnection@4a0500eb]
2026-02-20 13:52:40.657 [http-nio-8080-exec-5] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 13:52:40.673 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1068519403 wrapping org.postgresql.jdbc.PgConnection@4a0500eb] read-only
2026-02-20 13:52:40.673 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:40.673] ENTERING: ProductServiceImpl.getProductsByIds with arguments: [[41]]
2026-02-20 13:52:40.673 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:40.673] TRANSACTION START: ProductServiceImpl.getProductsByIds(List)
2026-02-20 13:52:40.674 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 13:52:40.694 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 13:52:40.701 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:52:40.701] TRANSACTION COMMIT: ProductServiceImpl.getProductsByIds(List)
2026-02-20 13:52:40.701 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:52:40.701] EXITING: ProductServiceImpl.getProductsByIds returned: ArrayList
2026-02-20 13:52:40.702 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1068519403 wrapping org.postgresql.jdbc.PgConnection@4a0500eb]
2026-02-20 13:56:04.871 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: AuthController.login with arguments: [com.shopjoy.dto.request.LoginRequest@7f2cb570]
2026-02-20 13:56:04.940 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1833623425 wrapping org.postgresql.jdbc.PgConnection@4a0500eb] read-only
2026-02-20 13:56:04.941 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:04.941] ENTERING: AuthServiceImpl.login with arguments: [com.shopjoy.dto.request.LoginRequest@7f2cb570]
2026-02-20 13:56:04.945 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:04.944] TRANSACTION START: AuthServiceImpl.login(LoginRequest)
2026-02-20 13:56:05.187 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:05.187] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [Peprahaugustina16@gmail.com]
2026-02-20 13:56:05.187 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:05.187] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:56:05.188 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 13:56:05.191 [http-nio-8080-exec-5] ERROR c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:05.191] TRANSACTION ROLLBACK: CustomUserDetailsService.loadUserByUsername(String) - Exception: User not found with username: Peprahaugustina16@gmail.com
2026-02-20 13:56:05.191 [http-nio-8080-exec-5] ERROR c.shopjoy.aspect.TransactionAspect - Transaction CustomUserDetailsService.loadUserByUsername(String) failed after 4ms with exception: User not found with username: Peprahaugustina16@gmail.com
2026-02-20 13:56:05.192 [http-nio-8080-exec-5] ERROR com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:05.192] EXCEPTION in CustomUserDetailsService.loadUserByUsername with arguments: [Peprahaugustina16@gmail.com]
2026-02-20 13:56:05.192 [http-nio-8080-exec-5] ERROR com.shopjoy.aspect.LoggingAspect - Exception type: UsernameNotFoundException
2026-02-20 13:56:05.192 [http-nio-8080-exec-5] ERROR com.shopjoy.aspect.LoggingAspect - Exception message: User not found with username: Peprahaugustina16@gmail.com
2026-02-20 13:56:05.192 [http-nio-8080-exec-5] ERROR com.shopjoy.aspect.LoggingAspect - Stack trace:
org.springframework.security.core.userdetails.UsernameNotFoundException: User not found with username: Peprahaugustina16@gmail.com
	at com.shopjoy.service.CustomUserDetailsService.lambda$0(CustomUserDetailsService.java:40)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.shopjoy.service.CustomUserDetailsService.loadUserByUsername(CustomUserDetailsService.java:40)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.TransactionAspect.monitorTransactionDuration(TransactionAspect.java:68)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.PerformanceAspect.monitorServicePerformance(PerformanceAspect.java:34)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:133)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:371)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:130)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.shopjoy.service.CustomUserDetailsService$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:104)
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:143)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:183)
	at com.shopjoy.service.impl.AuthServiceImpl.login(AuthServiceImpl.java:75)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.TransactionAspect.monitorTransactionDuration(TransactionAspect.java:68)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.PerformanceAspect.monitorServicePerformance(PerformanceAspect.java:34)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:133)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:371)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:130)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.shopjoy.service.impl.AuthServiceImpl$$SpringCGLIB$$0.login(<generated>)
	at com.shopjoy.controller.AuthController.login(AuthController.java:109)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.PerformanceAspect.monitorApiPerformance(PerformanceAspect.java:101)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.shopjoy.controller.AuthController$$SpringCGLIB$$0.login(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:493)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:354)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:86)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:132)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:246)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:232)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.ui.DefaultResourcesFilter.doFilter(DefaultResourcesFilter.java:73)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at com.shopjoy.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:52)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:245)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:239)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:195)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:337)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:1474)
2026-02-20 13:56:05.368 [http-nio-8080-exec-5] ERROR c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:05.368] TRANSACTION ROLLBACK: AuthServiceImpl.login(LoginRequest) - Exception: Invalid username or password
2026-02-20 13:56:05.368 [http-nio-8080-exec-5] ERROR c.shopjoy.aspect.TransactionAspect - Transaction AuthServiceImpl.login(LoginRequest) failed after 425ms with exception: Invalid username or password
2026-02-20 13:56:05.368 [http-nio-8080-exec-5] ERROR com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:05.368] EXCEPTION in AuthServiceImpl.login with arguments: [com.shopjoy.dto.request.LoginRequest@7f2cb570]
2026-02-20 13:56:05.368 [http-nio-8080-exec-5] ERROR com.shopjoy.aspect.LoggingAspect - Exception type: AuthenticationException
2026-02-20 13:56:05.368 [http-nio-8080-exec-5] ERROR com.shopjoy.aspect.LoggingAspect - Exception message: Invalid username or password
2026-02-20 13:56:05.368 [http-nio-8080-exec-5] ERROR com.shopjoy.aspect.LoggingAspect - Stack trace:
com.shopjoy.exception.AuthenticationException: Invalid username or password
	at com.shopjoy.service.impl.AuthServiceImpl.login(AuthServiceImpl.java:94)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.TransactionAspect.monitorTransactionDuration(TransactionAspect.java:68)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.PerformanceAspect.monitorServicePerformance(PerformanceAspect.java:34)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:133)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:371)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:130)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.shopjoy.service.impl.AuthServiceImpl$$SpringCGLIB$$0.login(<generated>)
	at com.shopjoy.controller.AuthController.login(AuthController.java:109)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.PerformanceAspect.monitorApiPerformance(PerformanceAspect.java:101)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.shopjoy.controller.AuthController$$SpringCGLIB$$0.login(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:493)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:354)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:86)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:132)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:246)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:232)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.ui.DefaultResourcesFilter.doFilter(DefaultResourcesFilter.java:73)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at com.shopjoy.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:52)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:245)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:239)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:195)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:337)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:1474)
2026-02-20 13:56:05.375 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1833623425 wrapping org.postgresql.jdbc.PgConnection@4a0500eb]
2026-02-20 13:56:05.376 [http-nio-8080-exec-5] ERROR com.shopjoy.aspect.LoggingAspect - API ENDPOINT EXCEPTION in AuthController.login with arguments: [com.shopjoy.dto.request.LoginRequest@7f2cb570]
2026-02-20 13:56:05.377 [http-nio-8080-exec-5] ERROR com.shopjoy.aspect.LoggingAspect - Controller exception: Invalid username or password
2026-02-20 13:56:05.377 [http-nio-8080-exec-5] ERROR com.shopjoy.aspect.LoggingAspect - Stack trace:
com.shopjoy.exception.AuthenticationException: Invalid username or password
	at com.shopjoy.service.impl.AuthServiceImpl.login(AuthServiceImpl.java:94)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.TransactionAspect.monitorTransactionDuration(TransactionAspect.java:68)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.PerformanceAspect.monitorServicePerformance(PerformanceAspect.java:34)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:133)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:371)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:130)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.shopjoy.service.impl.AuthServiceImpl$$SpringCGLIB$$0.login(<generated>)
	at com.shopjoy.controller.AuthController.login(AuthController.java:109)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.PerformanceAspect.monitorApiPerformance(PerformanceAspect.java:101)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.shopjoy.controller.AuthController$$SpringCGLIB$$0.login(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:493)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:354)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:86)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:132)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:246)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:232)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.ui.DefaultResourcesFilter.doFilter(DefaultResourcesFilter.java:73)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at com.shopjoy.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:52)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:245)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:239)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:195)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:337)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:1474)
2026-02-20 13:56:05.383 [http-nio-8080-exec-5] WARN  c.s.exception.GlobalExceptionHandler - Authentication failed: Invalid username or password
2026-02-20 13:56:24.209 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: AuthController.login with arguments: [com.shopjoy.dto.request.LoginRequest@44e91197]
2026-02-20 13:56:24.210 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1733633091 wrapping org.postgresql.jdbc.PgConnection@19cad9f0] read-only
2026-02-20 13:56:24.211 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:24.211] ENTERING: AuthServiceImpl.login with arguments: [com.shopjoy.dto.request.LoginRequest@44e91197]
2026-02-20 13:56:24.211 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:24.211] TRANSACTION START: AuthServiceImpl.login(LoginRequest)
2026-02-20 13:56:24.212 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:24.212] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [admin]
2026-02-20 13:56:24.212 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:24.212] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:56:24.213 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 13:56:24.217 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:24.217] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:56:24.217 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:24.217] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 13:56:24.360 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:24.360] TRANSACTION COMMIT: AuthServiceImpl.login(LoginRequest)
2026-02-20 13:56:24.361 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:24.361] EXITING: AuthServiceImpl.login returned: LoginResponse
2026-02-20 13:56:24.361 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1733633091 wrapping org.postgresql.jdbc.PgConnection@19cad9f0]
2026-02-20 13:56:24.361 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint AuthController.login responded in 152ms
2026-02-20 13:56:24.361 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: AuthController.login returned: ResponseEntity
2026-02-20 13:56:24.471 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1190404530 wrapping org.postgresql.jdbc.PgConnection@19cad9f0] read-only
2026-02-20 13:56:24.472 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:24.472] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [admin]
2026-02-20 13:56:24.472 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:24.472] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:56:24.473 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@2021359876 wrapping org.postgresql.jdbc.PgConnection@4a0500eb] read-only
2026-02-20 13:56:24.473 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 13:56:24.473 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:24.473] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [admin]
2026-02-20 13:56:24.474 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:24.474] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:56:24.474 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 13:56:24.475 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:24.475] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:56:24.475 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:24.475] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 13:56:24.476 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1190404530 wrapping org.postgresql.jdbc.PgConnection@19cad9f0]
2026-02-20 13:56:24.477 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:24.477] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:56:24.477 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:24.477] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 13:56:24.477 [http-nio-8080-exec-6] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: admin
2026-02-20 13:56:24.478 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@2021359876 wrapping org.postgresql.jdbc.PgConnection@4a0500eb]
2026-02-20 13:56:24.479 [http-nio-8080-exec-4] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: admin
2026-02-20 13:56:24.483 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: PerformanceController.getMetrics with arguments: []
2026-02-20 13:56:24.484 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint PerformanceController.getMetrics responded in 1ms
2026-02-20 13:56:24.484 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: PerformanceController.getMetrics returned: ResponseEntity
2026-02-20 13:56:24.489 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@871996830 wrapping org.postgresql.jdbc.PgConnection@19cad9f0] read-only
2026-02-20 13:56:24.489 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:24.489] ENTERING: UserServiceImpl.getAllUsers with arguments: []
2026-02-20 13:56:24.492 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:24.492] TRANSACTION START: UserServiceImpl.getAllUsers()
2026-02-20 13:56:24.498 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0
2026-02-20 13:56:24.499 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@555695605 wrapping org.postgresql.jdbc.PgConnection@4a0500eb] read-only
2026-02-20 13:56:24.499 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:24.499] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [admin]
2026-02-20 13:56:24.499 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:24.499] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:56:24.500 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 13:56:24.502 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:24.502] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:56:24.502 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:24.502] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 13:56:24.504 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@555695605 wrapping org.postgresql.jdbc.PgConnection@4a0500eb]
2026-02-20 13:56:24.505 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:24.505] TRANSACTION COMMIT: UserServiceImpl.getAllUsers()
2026-02-20 13:56:24.506 [http-nio-8080-exec-10] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: admin
2026-02-20 13:56:24.506 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:24.506] EXITING: UserServiceImpl.getAllUsers returned: ArrayList
2026-02-20 13:56:24.506 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@871996830 wrapping org.postgresql.jdbc.PgConnection@19cad9f0]
2026-02-20 13:56:24.508 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: PerformanceController.getMetrics with arguments: []
2026-02-20 13:56:24.509 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint PerformanceController.getMetrics responded in 1ms
2026-02-20 13:56:24.509 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: PerformanceController.getMetrics returned: ResponseEntity
2026-02-20 13:56:24.523 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@43850617 wrapping org.postgresql.jdbc.PgConnection@19cad9f0] read-only
2026-02-20 13:56:24.523 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:24.523] ENTERING: ProductServiceImpl.getProductsWithFilters with arguments: [null, Page request [number: 0, size 20, sort: id: ASC], id, ASC]
2026-02-20 13:56:24.523 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:24.523] TRANSACTION START: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 13:56:24.537 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?) order by p1_0.product_id fetch first ? rows only
2026-02-20 13:56:24.540 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:56:24.542 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:56:24.544 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:56:24.546 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:56:24.547 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:56:24.549 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:56:24.551 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:56:24.553 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:56:24.556 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:56:24.557 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:56:24.559 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:56:24.561 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:56:24.562 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:56:24.564 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:56:24.566 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:56:24.567 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:56:24.569 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:56:24.570 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:56:24.573 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:56:24.574 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:56:24.578 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select count(*) from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?)
2026-02-20 13:56:24.580 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id = any (?)
2026-02-20 13:56:24.582 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:24.582] TRANSACTION COMMIT: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 13:56:24.583 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:24.583] EXITING: ProductServiceImpl.getProductsWithFilters returned: PageImpl
2026-02-20 13:56:24.583 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@43850617 wrapping org.postgresql.jdbc.PgConnection@19cad9f0]
2026-02-20 13:56:24.605 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@328651764 wrapping org.postgresql.jdbc.PgConnection@19cad9f0] read-only
2026-02-20 13:56:24.605 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:24.605] ENTERING: OrderServiceImpl.getOrders with arguments: [null, null, Page request [number: 0, size 20, sort: orderDate: DESC]]
2026-02-20 13:56:24.605 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:24.605] TRANSACTION START: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-20 13:56:24.609 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select o1_0.order_id,o1_0.created_at,o1_0.notes,o1_0.order_date,o1_0.payment_method,o1_0.payment_status,o1_0.shipping_address,o1_0.status,o1_0.total_amount,o1_0.updated_at,o1_0.user_id from orders o1_0 where 1=1 order by o1_0.order_date desc offset ? rows fetch first ? rows only
2026-02-20 13:56:24.619 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 13:56:24.637 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 13:56:24.640 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 13:56:24.642 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id = any (?)
2026-02-20 13:56:24.645 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 13:56:24.647 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-20 13:56:24.679 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 13:56:24.681 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 13:56:24.684 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 13:56:24.685 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 13:56:24.689 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 13:56:24.691 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 13:56:24.693 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 13:56:24.695 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 13:56:24.697 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 13:56:24.699 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 13:56:24.702 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-20 13:56:24.705 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id = any (?)
2026-02-20 13:56:24.707 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 13:56:24.709 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 13:56:24.711 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 13:56:24.714 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-20 13:56:24.716 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 13:56:24.718 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 13:56:24.722 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 13:56:24.723 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 13:56:24.726 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 13:56:24.727 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 13:56:24.729 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 13:56:24.731 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 13:56:24.733 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 13:56:24.735 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 13:56:24.737 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 13:56:24.739 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 13:56:24.742 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 13:56:24.743 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 13:56:24.744 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 13:56:24.746 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:24.746] TRANSACTION COMMIT: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-20 13:56:24.747 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:24.747] EXITING: OrderServiceImpl.getOrders returned: PageImpl
2026-02-20 13:56:24.748 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@328651764 wrapping org.postgresql.jdbc.PgConnection@19cad9f0]
2026-02-20 13:56:24.783 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1652554237 wrapping org.postgresql.jdbc.PgConnection@19cad9f0] read-only
2026-02-20 13:56:24.783 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:24.783] ENTERING: InventoryServiceImpl.getLowStockProducts with arguments: []
2026-02-20 13:56:24.792 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:24.791] TRANSACTION START: InventoryServiceImpl.getLowStockProducts()
2026-02-20 13:56:24.796 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.quantity_in_stock<=i1_0.reorder_level
2026-02-20 13:56:24.805 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-20 13:56:24.815 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:24.815] TRANSACTION COMMIT: InventoryServiceImpl.getLowStockProducts()
2026-02-20 13:56:24.816 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:24.816] EXITING: InventoryServiceImpl.getLowStockProducts returned: ArrayList
2026-02-20 13:56:24.817 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1652554237 wrapping org.postgresql.jdbc.PgConnection@19cad9f0]
2026-02-20 13:56:24.819 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@228131752 wrapping org.postgresql.jdbc.PgConnection@19cad9f0] read-only
2026-02-20 13:56:24.820 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:24.820] ENTERING: CategoryServiceImpl.getCategoriesByIds with arguments: [[11, 12, 13, 14, 15, 16]]
2026-02-20 13:56:24.823 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:24.823] TRANSACTION START: CategoryServiceImpl.getCategoriesByIds(List)
2026-02-20 13:56:24.833 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id in (?,?,?,?,?,?)
2026-02-20 13:56:24.836 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:24.836] TRANSACTION COMMIT: CategoryServiceImpl.getCategoriesByIds(List)
2026-02-20 13:56:24.837 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:24.837] EXITING: CategoryServiceImpl.getCategoriesByIds returned: ListN
2026-02-20 13:56:24.837 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@228131752 wrapping org.postgresql.jdbc.PgConnection@19cad9f0]
2026-02-20 13:56:24.846 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1960200307 wrapping org.postgresql.jdbc.PgConnection@19cad9f0] read-only
2026-02-20 13:56:24.846 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:24.846] ENTERING: UserServiceImpl.getUsersByIds with arguments: [[3, 26, 18]]
2026-02-20 13:56:24.846 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:24.846] TRANSACTION START: UserServiceImpl.getUsersByIds(List)
2026-02-20 13:56:24.850 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id in (?,?,?)
2026-02-20 13:56:24.854 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:24.854] TRANSACTION COMMIT: UserServiceImpl.getUsersByIds(List)
2026-02-20 13:56:24.854 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:24.854] EXITING: UserServiceImpl.getUsersByIds returned: ListN
2026-02-20 13:56:24.854 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1960200307 wrapping org.postgresql.jdbc.PgConnection@19cad9f0]
2026-02-20 13:56:24.870 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1107838563 wrapping org.postgresql.jdbc.PgConnection@19cad9f0] read-only
2026-02-20 13:56:24.870 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:24.870] ENTERING: ProductServiceImpl.getProductsByIds with arguments: [[21, 28, 35, 42, 45, 49, 56, 63, 69, 75, 77, 70, 14, 39]]
2026-02-20 13:56:24.870 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:24.870] TRANSACTION START: ProductServiceImpl.getProductsByIds(List)
2026-02-20 13:56:24.871 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 13:56:24.873 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 13:56:24.875 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 13:56:24.877 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 13:56:24.879 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 13:56:24.882 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 13:56:24.883 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 13:56:24.885 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 13:56:24.888 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 13:56:24.890 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 13:56:24.891 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 13:56:24.893 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 13:56:24.896 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 13:56:24.897 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 13:56:24.899 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 13:56:24.901 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 13:56:24.904 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 13:56:24.906 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 13:56:24.908 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 13:56:24.910 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 13:56:24.912 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 13:56:24.913 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 13:56:24.916 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 13:56:24.919 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 13:56:24.921 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 13:56:24.923 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:24.923] TRANSACTION COMMIT: ProductServiceImpl.getProductsByIds(List)
2026-02-20 13:56:24.923 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:24.923] EXITING: ProductServiceImpl.getProductsByIds returned: ArrayList
2026-02-20 13:56:24.924 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1107838563 wrapping org.postgresql.jdbc.PgConnection@19cad9f0]
2026-02-20 13:56:28.231 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@328846106 wrapping org.postgresql.jdbc.PgConnection@19cad9f0] read-only
2026-02-20 13:56:28.231 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:28.231] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [admin]
2026-02-20 13:56:28.231 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:28.231] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:56:28.232 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 13:56:28.234 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:28.234] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:56:28.234 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:28.234] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 13:56:28.235 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@328846106 wrapping org.postgresql.jdbc.PgConnection@19cad9f0]
2026-02-20 13:56:28.235 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@2029403390 wrapping org.postgresql.jdbc.PgConnection@4a0500eb] read-only
2026-02-20 13:56:28.236 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:28.236] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [admin]
2026-02-20 13:56:28.236 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:28.236] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:56:28.237 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 13:56:28.238 [http-nio-8080-exec-8] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: admin
2026-02-20 13:56:28.239 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:28.239] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:56:28.239 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:28.239] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 13:56:28.239 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@2029403390 wrapping org.postgresql.jdbc.PgConnection@4a0500eb]
2026-02-20 13:56:28.240 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CategoryController.getAllCategories with arguments: []
2026-02-20 13:56:28.240 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CategoryController.getAllCategories responded in 0ms
2026-02-20 13:56:28.240 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CategoryController.getAllCategories returned: ResponseEntity
2026-02-20 13:56:28.241 [http-nio-8080-exec-5] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: admin
2026-02-20 13:56:28.245 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: ProductController.getProductsWithFilters with arguments: [null, null, null, null, null, null, null, null, 0, 10, id, ASC]
2026-02-20 13:56:28.245 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1406416691 wrapping org.postgresql.jdbc.PgConnection@4a0500eb] read-only
2026-02-20 13:56:28.246 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:28.246] ENTERING: ProductServiceImpl.getProductsWithFilters with arguments: [com.shopjoy.dto.filter.ProductFilter@5cd7c767, Page request [number: 0, size 10, sort: id: ASC], id, ASC]
2026-02-20 13:56:28.246 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:28.246] TRANSACTION START: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 13:56:28.246 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@235259506 wrapping org.postgresql.jdbc.PgConnection@19cad9f0] read-only
2026-02-20 13:56:28.246 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:28.246] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [admin]
2026-02-20 13:56:28.246 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:28.246] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:56:28.246 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?) order by p1_0.product_id fetch first ? rows only
2026-02-20 13:56:28.252 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:56:28.255 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 13:56:28.255 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:56:28.257 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:56:28.258 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:28.258] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:56:28.258 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:28.258] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 13:56:28.259 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@235259506 wrapping org.postgresql.jdbc.PgConnection@19cad9f0]
2026-02-20 13:56:28.260 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:56:28.261 [http-nio-8080-exec-7] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: admin
2026-02-20 13:56:28.261 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:56:28.263 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:56:28.263 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CategoryController.getAllCategories with arguments: []
2026-02-20 13:56:28.265 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CategoryController.getAllCategories responded in 1ms
2026-02-20 13:56:28.265 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CategoryController.getAllCategories returned: ResponseEntity
2026-02-20 13:56:28.266 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:56:28.267 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:56:28.269 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:56:28.271 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:56:28.275 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select count(*) from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?)
2026-02-20 13:56:28.277 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id = any (?)
2026-02-20 13:56:28.280 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:28.279] TRANSACTION COMMIT: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 13:56:28.280 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:28.280] EXITING: ProductServiceImpl.getProductsWithFilters returned: PageImpl
2026-02-20 13:56:28.281 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1406416691 wrapping org.postgresql.jdbc.PgConnection@4a0500eb]
2026-02-20 13:56:28.282 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint ProductController.getProductsWithFilters responded in 37ms
2026-02-20 13:56:28.282 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: ProductController.getProductsWithFilters returned: ResponseEntity
2026-02-20 13:56:28.288 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1045510332 wrapping org.postgresql.jdbc.PgConnection@19cad9f0] read-only
2026-02-20 13:56:28.288 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:28.288] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [admin]
2026-02-20 13:56:28.288 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:28.288] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:56:28.289 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 13:56:28.291 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:28.291] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:56:28.291 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:28.291] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 13:56:28.291 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1045510332 wrapping org.postgresql.jdbc.PgConnection@19cad9f0]
2026-02-20 13:56:28.293 [http-nio-8080-exec-9] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: admin
2026-02-20 13:56:28.296 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: ProductController.getProductsWithFilters with arguments: [null, null, null, null, null, null, null, null, 0, 10, id, ASC]
2026-02-20 13:56:28.297 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@2004360493 wrapping org.postgresql.jdbc.PgConnection@19cad9f0] read-only
2026-02-20 13:56:28.298 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:28.298] ENTERING: ProductServiceImpl.getProductsWithFilters with arguments: [com.shopjoy.dto.filter.ProductFilter@2be0c22f, Page request [number: 0, size 10, sort: id: ASC], id, ASC]
2026-02-20 13:56:28.298 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:28.298] TRANSACTION START: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 13:56:28.299 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?) order by p1_0.product_id fetch first ? rows only
2026-02-20 13:56:28.301 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:56:28.303 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:56:28.304 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:56:28.306 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:56:28.308 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:56:28.309 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:56:28.311 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:56:28.312 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:56:28.313 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:56:28.316 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 13:56:28.320 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select count(*) from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?)
2026-02-20 13:56:28.322 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id = any (?)
2026-02-20 13:56:28.324 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:28.324] TRANSACTION COMMIT: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 13:56:28.325 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:28.325] EXITING: ProductServiceImpl.getProductsWithFilters returned: PageImpl
2026-02-20 13:56:28.325 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@2004360493 wrapping org.postgresql.jdbc.PgConnection@19cad9f0]
2026-02-20 13:56:28.326 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint ProductController.getProductsWithFilters responded in 30ms
2026-02-20 13:56:28.326 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: ProductController.getProductsWithFilters returned: ResponseEntity
2026-02-20 13:56:31.407 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1727835343 wrapping org.postgresql.jdbc.PgConnection@4a0500eb] read-only
2026-02-20 13:56:31.408 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:31.407] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [admin]
2026-02-20 13:56:31.408 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:31.408] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:56:31.409 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 13:56:31.412 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:31.412] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:56:31.413 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:31.413] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 13:56:31.413 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1727835343 wrapping org.postgresql.jdbc.PgConnection@4a0500eb]
2026-02-20 13:56:31.414 [http-nio-8080-exec-3] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: admin
2026-02-20 13:56:31.417 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CategoryController.getAllCategories with arguments: []
2026-02-20 13:56:31.418 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CategoryController.getAllCategories responded in 0ms
2026-02-20 13:56:31.418 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CategoryController.getAllCategories returned: ResponseEntity
2026-02-20 13:56:31.425 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@2083296845 wrapping org.postgresql.jdbc.PgConnection@4a0500eb] read-only
2026-02-20 13:56:31.425 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:31.425] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [admin]
2026-02-20 13:56:31.426 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:31.426] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:56:31.430 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 13:56:31.431 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:31.431] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:56:31.432 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:31.432] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 13:56:31.432 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@2083296845 wrapping org.postgresql.jdbc.PgConnection@4a0500eb]
2026-02-20 13:56:31.434 [http-nio-8080-exec-4] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: admin
2026-02-20 13:56:31.436 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CategoryController.getAllCategories with arguments: []
2026-02-20 13:56:31.436 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CategoryController.getAllCategories responded in 0ms
2026-02-20 13:56:31.436 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CategoryController.getAllCategories returned: ResponseEntity
2026-02-20 13:56:32.836 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1820249847 wrapping org.postgresql.jdbc.PgConnection@4a0500eb] read-only
2026-02-20 13:56:32.836 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:32.836] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [admin]
2026-02-20 13:56:32.836 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:32.836] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:56:32.837 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 13:56:32.839 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:32.839] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:56:32.839 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:32.839] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 13:56:32.839 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1820249847 wrapping org.postgresql.jdbc.PgConnection@4a0500eb]
2026-02-20 13:56:32.841 [http-nio-8080-exec-10] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: admin
2026-02-20 13:56:32.849 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@533359265 wrapping org.postgresql.jdbc.PgConnection@4a0500eb] read-only
2026-02-20 13:56:32.850 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:32.850] ENTERING: OrderServiceImpl.getOrders with arguments: [null, OrderFilter(status=null, paymentStatus=null, startDate=null, endDate=null, minAmount=null, maxAmount=null, searchTerm=null), Page request [number: 0, size 20, sort: orderDate: DESC]]
2026-02-20 13:56:32.850 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:32.850] TRANSACTION START: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-20 13:56:32.852 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select o1_0.order_id,o1_0.created_at,o1_0.notes,o1_0.order_date,o1_0.payment_method,o1_0.payment_status,o1_0.shipping_address,o1_0.status,o1_0.total_amount,o1_0.updated_at,o1_0.user_id from orders o1_0 where 1=1 order by o1_0.order_date desc offset ? rows fetch first ? rows only
2026-02-20 13:56:32.872 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 13:56:32.881 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 13:56:32.883 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 13:56:32.886 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id = any (?)
2026-02-20 13:56:32.888 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 13:56:32.890 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-20 13:56:32.894 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 13:56:32.898 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 13:56:32.899 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 13:56:32.901 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 13:56:32.904 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 13:56:32.905 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 13:56:32.907 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 13:56:32.909 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 13:56:32.911 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 13:56:32.914 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 13:56:32.917 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-20 13:56:32.920 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id = any (?)
2026-02-20 13:56:32.921 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 13:56:32.923 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 13:56:32.925 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 13:56:32.927 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-20 13:56:32.930 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 13:56:32.932 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 13:56:32.933 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 13:56:32.936 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 13:56:32.937 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 13:56:32.938 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 13:56:32.939 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 13:56:32.941 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 13:56:32.943 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 13:56:32.946 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 13:56:32.947 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 13:56:32.948 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 13:56:32.950 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 13:56:32.952 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 13:56:32.953 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 13:56:32.954 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:32.953] TRANSACTION COMMIT: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-20 13:56:32.954 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:32.954] EXITING: OrderServiceImpl.getOrders returned: PageImpl
2026-02-20 13:56:32.955 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@533359265 wrapping org.postgresql.jdbc.PgConnection@4a0500eb]
2026-02-20 13:56:37.730 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@518529713 wrapping org.postgresql.jdbc.PgConnection@19cad9f0] read-only
2026-02-20 13:56:37.730 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:37.730] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [admin]
2026-02-20 13:56:37.730 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:37.730] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:56:37.731 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 13:56:37.733 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:37.733] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:56:37.733 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:37.733] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 13:56:37.733 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@518529713 wrapping org.postgresql.jdbc.PgConnection@19cad9f0]
2026-02-20 13:56:37.737 [http-nio-8080-exec-2] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: admin
2026-02-20 13:56:37.741 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: UserController.getAllUsers with arguments: []
2026-02-20 13:56:37.742 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1433985367 wrapping org.postgresql.jdbc.PgConnection@19cad9f0] read-only
2026-02-20 13:56:37.742 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:37.742] ENTERING: UserServiceImpl.getAllUsers with arguments: []
2026-02-20 13:56:37.742 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:37.742] TRANSACTION START: UserServiceImpl.getAllUsers()
2026-02-20 13:56:37.744 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0
2026-02-20 13:56:37.747 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:37.747] TRANSACTION COMMIT: UserServiceImpl.getAllUsers()
2026-02-20 13:56:37.748 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:37.748] EXITING: UserServiceImpl.getAllUsers returned: ArrayList
2026-02-20 13:56:37.748 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1433985367 wrapping org.postgresql.jdbc.PgConnection@19cad9f0]
2026-02-20 13:56:37.749 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint UserController.getAllUsers responded in 8ms
2026-02-20 13:56:37.749 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: UserController.getAllUsers returned: ResponseEntity
2026-02-20 13:56:37.760 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@888103944 wrapping org.postgresql.jdbc.PgConnection@19cad9f0] read-only
2026-02-20 13:56:37.760 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:37.760] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [admin]
2026-02-20 13:56:37.760 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:37.760] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:56:37.761 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 13:56:37.762 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:37.762] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:56:37.762 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:37.762] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 13:56:37.764 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@888103944 wrapping org.postgresql.jdbc.PgConnection@19cad9f0]
2026-02-20 13:56:37.766 [http-nio-8080-exec-2] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: admin
2026-02-20 13:56:37.768 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: UserController.getAllUsers with arguments: []
2026-02-20 13:56:37.768 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@2085702640 wrapping org.postgresql.jdbc.PgConnection@19cad9f0] read-only
2026-02-20 13:56:37.768 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:37.768] ENTERING: UserServiceImpl.getAllUsers with arguments: []
2026-02-20 13:56:37.768 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:37.768] TRANSACTION START: UserServiceImpl.getAllUsers()
2026-02-20 13:56:37.771 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0
2026-02-20 13:56:37.773 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:37.773] TRANSACTION COMMIT: UserServiceImpl.getAllUsers()
2026-02-20 13:56:37.775 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:37.775] EXITING: UserServiceImpl.getAllUsers returned: ArrayList
2026-02-20 13:56:37.775 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@2085702640 wrapping org.postgresql.jdbc.PgConnection@19cad9f0]
2026-02-20 13:56:37.775 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint UserController.getAllUsers responded in 7ms
2026-02-20 13:56:37.775 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: UserController.getAllUsers returned: ResponseEntity
2026-02-20 13:56:39.240 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@560160579 wrapping org.postgresql.jdbc.PgConnection@19cad9f0] read-only
2026-02-20 13:56:39.240 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:39.240] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [admin]
2026-02-20 13:56:39.241 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:39.241] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:56:39.242 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 13:56:39.243 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:39.243] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:56:39.243 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:39.243] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 13:56:39.245 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@560160579 wrapping org.postgresql.jdbc.PgConnection@19cad9f0]
2026-02-20 13:56:39.247 [http-nio-8080-exec-9] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: admin
2026-02-20 13:56:39.251 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: ProductController.getAllProducts with arguments: []
2026-02-20 13:56:39.252 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1985419853 wrapping org.postgresql.jdbc.PgConnection@19cad9f0] read-only
2026-02-20 13:56:39.252 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:39.252] ENTERING: ProductServiceImpl.getAllProducts with arguments: []
2026-02-20 13:56:39.252 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:39.252] TRANSACTION START: ProductServiceImpl.getAllProducts()
2026-02-20 13:56:39.261 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 join categories c1_0 on c1_0.category_id=p1_0.category_id left join inventory i1_0 on p1_0.product_id=i1_0.product_id
2026-02-20 13:56:39.310 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:39.310] TRANSACTION COMMIT: ProductServiceImpl.getAllProducts()
2026-02-20 13:56:39.311 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:39.311] EXITING: ProductServiceImpl.getAllProducts returned: ArrayList
2026-02-20 13:56:39.311 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1985419853 wrapping org.postgresql.jdbc.PgConnection@19cad9f0]
2026-02-20 13:56:39.312 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint ProductController.getAllProducts responded in 61ms
2026-02-20 13:56:39.312 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: ProductController.getAllProducts returned: ResponseEntity
2026-02-20 13:56:39.326 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@761178489 wrapping org.postgresql.jdbc.PgConnection@4a0500eb] read-only
2026-02-20 13:56:39.326 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:39.326] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [admin]
2026-02-20 13:56:39.326 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:39.326] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:56:39.328 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 13:56:39.330 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:39.330] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:56:39.330 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:39.330] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 13:56:39.331 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@761178489 wrapping org.postgresql.jdbc.PgConnection@4a0500eb]
2026-02-20 13:56:39.332 [http-nio-8080-exec-3] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: admin
2026-02-20 13:56:39.336 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: ProductController.getAllProducts with arguments: []
2026-02-20 13:56:39.336 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint ProductController.getAllProducts responded in 0ms
2026-02-20 13:56:39.336 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: ProductController.getAllProducts returned: ResponseEntity
2026-02-20 13:56:41.504 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@744700775 wrapping org.postgresql.jdbc.PgConnection@4a0500eb] read-only
2026-02-20 13:56:41.504 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:41.504] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [admin]
2026-02-20 13:56:41.504 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:41.504] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:56:41.505 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 13:56:41.507 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:41.507] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:56:41.508 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:41.508] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 13:56:41.508 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@744700775 wrapping org.postgresql.jdbc.PgConnection@4a0500eb]
2026-02-20 13:56:41.510 [http-nio-8080-exec-10] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: admin
2026-02-20 13:56:41.514 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: ReviewController.getAllReviews with arguments: []
2026-02-20 13:56:41.516 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1404534617 wrapping org.postgresql.jdbc.PgConnection@4a0500eb] read-only
2026-02-20 13:56:41.516 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:41.516] ENTERING: ReviewServiceImpl.getAllReviews with arguments: []
2026-02-20 13:56:41.517 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:41.517] TRANSACTION START: ReviewServiceImpl.getAllReviews()
2026-02-20 13:56:41.519 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select r1_0.review_id,r1_0.comment,r1_0.created_at,r1_0.helpful_count,r1_0.is_verified_purchase,r1_0.product_id,r1_0.rating,r1_0.title,r1_0.updated_at,r1_0.user_id from reviews r1_0
2026-02-20 13:56:41.530 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-20 13:56:41.533 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id = any (?)
2026-02-20 13:56:41.535 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:41.535] TRANSACTION COMMIT: ReviewServiceImpl.getAllReviews()
2026-02-20 13:56:41.535 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:41.535] EXITING: ReviewServiceImpl.getAllReviews returned: ArrayList
2026-02-20 13:56:41.537 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1404534617 wrapping org.postgresql.jdbc.PgConnection@4a0500eb]
2026-02-20 13:56:41.537 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint ReviewController.getAllReviews responded in 22ms
2026-02-20 13:56:41.537 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: ReviewController.getAllReviews returned: ResponseEntity
2026-02-20 13:56:41.544 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@725460253 wrapping org.postgresql.jdbc.PgConnection@4a0500eb] read-only
2026-02-20 13:56:41.545 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:41.545] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [admin]
2026-02-20 13:56:41.545 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:41.545] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:56:41.547 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 13:56:41.549 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:41.549] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:56:41.549 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:41.549] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 13:56:41.549 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@725460253 wrapping org.postgresql.jdbc.PgConnection@4a0500eb]
2026-02-20 13:56:41.551 [http-nio-8080-exec-10] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: admin
2026-02-20 13:56:41.553 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: ReviewController.getAllReviews with arguments: []
2026-02-20 13:56:41.554 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint ReviewController.getAllReviews responded in 0ms
2026-02-20 13:56:41.554 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: ReviewController.getAllReviews returned: ResponseEntity
2026-02-20 13:56:43.714 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1555321455 wrapping org.postgresql.jdbc.PgConnection@19cad9f0] read-only
2026-02-20 13:56:43.715 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:43.715] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [admin]
2026-02-20 13:56:43.715 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:43.715] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:56:43.716 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 13:56:43.717 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:43.717] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:56:43.717 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:43.717] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 13:56:43.718 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1555321455 wrapping org.postgresql.jdbc.PgConnection@19cad9f0]
2026-02-20 13:56:43.719 [http-nio-8080-exec-7] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: admin
2026-02-20 13:56:43.730 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: SecurityAuditLogController.getAllLogs with arguments: [0, 20, timestamp, desc]
2026-02-20 13:56:43.731 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1418777480 wrapping org.postgresql.jdbc.PgConnection@19cad9f0] read-only
2026-02-20 13:56:43.731 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:43.731] ENTERING: SecurityAuditService.getAllLogs with arguments: [Page request [number: 0, size 20, sort: timestamp: DESC]]
2026-02-20 13:56:43.732 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:43.732] TRANSACTION START: SecurityAuditService.getAllLogs(Pageable)
2026-02-20 13:56:43.736 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select sal1_0.log_id,sal1_0.details,sal1_0.event_type,sal1_0.ip_address,sal1_0.success,sal1_0.timestamp,sal1_0.user_agent,sal1_0.username from security_audit_logs sal1_0 order by sal1_0.timestamp desc offset ? rows fetch first ? rows only
2026-02-20 13:56:43.745 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:43.745] TRANSACTION COMMIT: SecurityAuditService.getAllLogs(Pageable)
2026-02-20 13:56:43.745 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:43.745] EXITING: SecurityAuditService.getAllLogs returned: PageImpl
2026-02-20 13:56:43.747 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1418777480 wrapping org.postgresql.jdbc.PgConnection@19cad9f0]
2026-02-20 13:56:43.748 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint SecurityAuditLogController.getAllLogs responded in 18ms
2026-02-20 13:56:43.748 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: SecurityAuditLogController.getAllLogs returned: ResponseEntity
2026-02-20 13:56:43.754 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@379358698 wrapping org.postgresql.jdbc.PgConnection@4a0500eb] read-only
2026-02-20 13:56:43.754 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:43.754] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [admin]
2026-02-20 13:56:43.754 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:43.754] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:56:43.756 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 13:56:43.757 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:43.757] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 13:56:43.757 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:43.757] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 13:56:43.758 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@379358698 wrapping org.postgresql.jdbc.PgConnection@4a0500eb]
2026-02-20 13:56:43.760 [http-nio-8080-exec-5] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: admin
2026-02-20 13:56:43.763 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: SecurityAuditLogController.getAllLogs with arguments: [0, 20, timestamp, desc]
2026-02-20 13:56:43.764 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1510871937 wrapping org.postgresql.jdbc.PgConnection@4a0500eb] read-only
2026-02-20 13:56:43.764 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:43.764] ENTERING: SecurityAuditService.getAllLogs with arguments: [Page request [number: 0, size 20, sort: timestamp: DESC]]
2026-02-20 13:56:43.764 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:43.764] TRANSACTION START: SecurityAuditService.getAllLogs(Pageable)
2026-02-20 13:56:43.767 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select sal1_0.log_id,sal1_0.details,sal1_0.event_type,sal1_0.ip_address,sal1_0.success,sal1_0.timestamp,sal1_0.user_agent,sal1_0.username from security_audit_logs sal1_0 order by sal1_0.timestamp desc offset ? rows fetch first ? rows only
2026-02-20 13:56:43.775 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 13:56:43.774] TRANSACTION COMMIT: SecurityAuditService.getAllLogs(Pageable)
2026-02-20 13:56:43.775 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 13:56:43.775] EXITING: SecurityAuditService.getAllLogs returned: PageImpl
2026-02-20 13:56:43.775 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1510871937 wrapping org.postgresql.jdbc.PgConnection@4a0500eb]
2026-02-20 13:56:43.776 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint SecurityAuditLogController.getAllLogs responded in 12ms
2026-02-20 13:56:43.776 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: SecurityAuditLogController.getAllLogs returned: ResponseEntity
2026-02-20 14:04:07.123 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:04:07.123] TRANSACTION START: OAuth2LoginSuccessHandler.onAuthenticationSuccess(HttpServletRequest, HttpServletResponse, Authentication)
2026-02-20 14:04:07.123 [http-nio-8080-exec-6] INFO  c.s.s.OAuth2LoginSuccessHandler - OAuth2 authentication successful for user: 113687644831698073835
2026-02-20 14:04:07.123 [http-nio-8080-exec-6] INFO  c.s.s.OAuth2LoginSuccessHandler - OAuth2 user details - Email: yawanokye99@gmail.com, Name: Eugene Anokye, Provider: google
2026-02-20 14:04:07.125 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.email=?
2026-02-20 14:04:07.138 [http-nio-8080-exec-6] INFO  c.s.s.OAuth2LoginSuccessHandler - JWT token generated for OAuth2 user: eugene_6177
2026-02-20 14:04:07.138 [http-nio-8080-exec-6] INFO  c.s.s.OAuth2LoginSuccessHandler - Redirecting to frontend: http://localhost:5173/oauth2/callback?token=eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiQ1VTVE9NRVIiLCJyb2xlcyI6IlJPTEVfQ1VTVE9NRVIiLCJ1c2VySWQiOjI0LCJzdWIiOiJldWdlbmVfNjE3NyIsImlhdCI6MTc3MTU5NjI0NywiZXhwIjoxNzcxNjgyNjQ3fQ.-kCEh1OrEBoNpQPUmCQAzj8xIBskgxSuSsgsWMkX68WUs6Zw5RjrkBZYjWkZuDlEXUCr2dXnBXvSy3c1Gatxng&provider=google
2026-02-20 14:04:07.138 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:04:07.138] TRANSACTION COMMIT: OAuth2LoginSuccessHandler.onAuthenticationSuccess(HttpServletRequest, HttpServletResponse, Authentication)
2026-02-20 14:04:41.024 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@592737375 wrapping org.postgresql.jdbc.PgConnection@777549b1] read-only
2026-02-20 14:04:41.025 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:04:41.025] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 14:04:41.025 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:04:41.025] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:04:41.025 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:04:41.028 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:04:41.028] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:04:41.028 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:04:41.028] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:04:41.029 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@592737375 wrapping org.postgresql.jdbc.PgConnection@777549b1]
2026-02-20 14:04:41.037 [http-nio-8080-exec-10] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 14:04:41.061 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@717802635 wrapping org.postgresql.jdbc.PgConnection@777549b1] read-only
2026-02-20 14:04:41.063 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:04:41.063] ENTERING: OrderServiceImpl.getOrders with arguments: [24, null, Page request [number: 0, size 20, sort: orderDate: DESC]]
2026-02-20 14:04:41.064 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:04:41.064] TRANSACTION START: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-20 14:04:41.075 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select o1_0.order_id,o1_0.created_at,o1_0.notes,o1_0.order_date,o1_0.payment_method,o1_0.payment_status,o1_0.shipping_address,o1_0.status,o1_0.total_amount,o1_0.updated_at,o1_0.user_id from orders o1_0 where o1_0.user_id=? order by o1_0.order_date desc offset ? rows fetch first ? rows only
2026-02-20 14:04:41.088 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:04:41.088] TRANSACTION COMMIT: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-20 14:04:41.088 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:04:41.088] EXITING: OrderServiceImpl.getOrders returned: PageImpl
2026-02-20 14:04:41.088 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@717802635 wrapping org.postgresql.jdbc.PgConnection@777549b1]
2026-02-20 14:04:41.091 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1109808622 wrapping org.postgresql.jdbc.PgConnection@777549b1] read-only
2026-02-20 14:04:41.091 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:04:41.091] ENTERING: CartServiceImpl.getCartItems with arguments: [24]
2026-02-20 14:04:41.091 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:04:41.091] TRANSACTION START: CartServiceImpl.getCartItems(Integer)
2026-02-20 14:04:41.092 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 where ci1_0.user_id=?
2026-02-20 14:04:41.102 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:04:41.102] TRANSACTION COMMIT: CartServiceImpl.getCartItems(Integer)
2026-02-20 14:04:41.102 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:04:41.102] EXITING: CartServiceImpl.getCartItems returned: ArrayList
2026-02-20 14:04:41.103 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1109808622 wrapping org.postgresql.jdbc.PgConnection@777549b1]
2026-02-20 14:04:41.105 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1816045307 wrapping org.postgresql.jdbc.PgConnection@777549b1] read-only
2026-02-20 14:04:41.106 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:04:41.106] ENTERING: ReviewServiceImpl.getReviewsByUser with arguments: [24]
2026-02-20 14:04:41.106 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:04:41.106] TRANSACTION START: ReviewServiceImpl.getReviewsByUser(Integer)
2026-02-20 14:04:41.111 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select r1_0.review_id,r1_0.comment,r1_0.created_at,r1_0.helpful_count,r1_0.is_verified_purchase,r1_0.product_id,r1_0.rating,r1_0.title,r1_0.updated_at,r1_0.user_id from reviews r1_0 where r1_0.user_id=?
2026-02-20 14:04:41.123 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:04:41.142 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id=?
2026-02-20 14:04:41.143 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:04:41.143] TRANSACTION COMMIT: ReviewServiceImpl.getReviewsByUser(Integer)
2026-02-20 14:04:41.143 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:04:41.143] EXITING: ReviewServiceImpl.getReviewsByUser returned: ArrayList
2026-02-20 14:04:41.143 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1816045307 wrapping org.postgresql.jdbc.PgConnection@777549b1]
2026-02-20 14:04:41.147 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@508448178 wrapping org.postgresql.jdbc.PgConnection@777549b1] read-only
2026-02-20 14:04:41.147 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:04:41.147] ENTERING: ProductServiceImpl.getProductsByIds with arguments: [[41]]
2026-02-20 14:04:41.147 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:04:41.147] TRANSACTION START: ProductServiceImpl.getProductsByIds(List)
2026-02-20 14:04:41.153 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:04:41.156 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:04:41.161 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:04:41.161] TRANSACTION COMMIT: ProductServiceImpl.getProductsByIds(List)
2026-02-20 14:04:41.161 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:04:41.161] EXITING: ProductServiceImpl.getProductsByIds returned: ArrayList
2026-02-20 14:04:41.161 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@508448178 wrapping org.postgresql.jdbc.PgConnection@777549b1]
2026-02-20 14:04:45.034 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1099356017 wrapping org.postgresql.jdbc.PgConnection@777549b1] read-only
2026-02-20 14:04:45.035 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:04:45.035] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 14:04:45.035 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:04:45.035] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:04:45.035 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:04:45.035 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1507269058 wrapping org.postgresql.jdbc.PgConnection@50dd7398] read-only
2026-02-20 14:04:45.036 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:04:45.036] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 14:04:45.036 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:04:45.036] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:04:45.036 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:04:45.038 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:04:45.038] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:04:45.038 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:04:45.038] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:04:45.039 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1099356017 wrapping org.postgresql.jdbc.PgConnection@777549b1]
2026-02-20 14:04:45.039 [http-nio-8080-exec-2] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 14:04:45.047 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CategoryController.getAllCategories with arguments: []
2026-02-20 14:04:45.047 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CategoryController.getAllCategories responded in 0ms
2026-02-20 14:04:45.047 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CategoryController.getAllCategories returned: ResponseEntity
2026-02-20 14:04:45.054 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:04:45.054] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:04:45.054 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:04:45.054] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:04:45.054 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1369012564 wrapping org.postgresql.jdbc.PgConnection@777549b1] read-only
2026-02-20 14:04:45.055 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:04:45.055] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 14:04:45.055 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:04:45.055] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:04:45.055 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1507269058 wrapping org.postgresql.jdbc.PgConnection@50dd7398]
2026-02-20 14:04:45.056 [http-nio-8080-exec-8] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 14:04:45.057 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:04:45.073 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: ProductController.getProductsWithFilters with arguments: [null, null, null, null, null, null, null, true, 0, 8, productName, ASC]
2026-02-20 14:04:45.077 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:04:45.077] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:04:45.077 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:04:45.077] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:04:45.082 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1369012564 wrapping org.postgresql.jdbc.PgConnection@777549b1]
2026-02-20 14:04:45.083 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@242800479 wrapping org.postgresql.jdbc.PgConnection@50dd7398] read-only
2026-02-20 14:04:45.084 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:04:45.084] ENTERING: ProductServiceImpl.getProductsWithFilters with arguments: [com.shopjoy.dto.filter.ProductFilter@7370de1d, Page request [number: 0, size 8, sort: productName: ASC], productName, ASC]
2026-02-20 14:04:45.084 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:04:45.084] TRANSACTION START: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 14:04:45.085 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?) order by p1_0.product_name fetch first ? rows only
2026-02-20 14:04:45.088 [http-nio-8080-exec-7] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 14:04:45.093 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CategoryController.getAllCategories with arguments: []
2026-02-20 14:04:45.098 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CategoryController.getAllCategories responded in 5ms
2026-02-20 14:04:45.098 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CategoryController.getAllCategories returned: ResponseEntity
2026-02-20 14:04:45.102 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:04:45.109 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:04:45.117 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:04:45.119 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:04:45.121 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:04:45.122 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:04:45.124 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:04:45.126 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:04:45.138 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select count(*) from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?)
2026-02-20 14:04:45.142 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id = any (?)
2026-02-20 14:04:45.149 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:04:45.149] TRANSACTION COMMIT: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 14:04:45.149 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:04:45.149] EXITING: ProductServiceImpl.getProductsWithFilters returned: PageImpl
2026-02-20 14:04:45.150 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@242800479 wrapping org.postgresql.jdbc.PgConnection@50dd7398]
2026-02-20 14:04:45.150 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint ProductController.getProductsWithFilters responded in 73ms
2026-02-20 14:04:45.150 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: ProductController.getProductsWithFilters returned: ResponseEntity
2026-02-20 14:04:45.170 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@262955405 wrapping org.postgresql.jdbc.PgConnection@777549b1] read-only
2026-02-20 14:04:45.170 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:04:45.170] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 14:04:45.171 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:04:45.171] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:04:45.171 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:04:45.174 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:04:45.174] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:04:45.174 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:04:45.174] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:04:45.175 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@262955405 wrapping org.postgresql.jdbc.PgConnection@777549b1]
2026-02-20 14:04:45.180 [http-nio-8080-exec-5] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 14:04:45.185 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: ProductController.getProductsWithFilters with arguments: [null, null, null, null, null, null, null, true, 0, 8, productName, ASC]
2026-02-20 14:04:45.189 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1437975275 wrapping org.postgresql.jdbc.PgConnection@777549b1] read-only
2026-02-20 14:04:45.189 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:04:45.189] ENTERING: ProductServiceImpl.getProductsWithFilters with arguments: [com.shopjoy.dto.filter.ProductFilter@3a8261c6, Page request [number: 0, size 8, sort: productName: ASC], productName, ASC]
2026-02-20 14:04:45.189 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:04:45.189] TRANSACTION START: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 14:04:45.193 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?) order by p1_0.product_name fetch first ? rows only
2026-02-20 14:04:45.198 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:04:45.200 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:04:45.201 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:04:45.203 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:04:45.204 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:04:45.206 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:04:45.208 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:04:45.209 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:04:45.215 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select count(*) from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?)
2026-02-20 14:04:45.218 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id = any (?)
2026-02-20 14:04:45.220 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:04:45.220] TRANSACTION COMMIT: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 14:04:45.220 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:04:45.220] EXITING: ProductServiceImpl.getProductsWithFilters returned: PageImpl
2026-02-20 14:04:45.221 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1437975275 wrapping org.postgresql.jdbc.PgConnection@777549b1]
2026-02-20 14:04:45.221 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint ProductController.getProductsWithFilters responded in 33ms
2026-02-20 14:04:45.221 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: ProductController.getProductsWithFilters returned: ResponseEntity
2026-02-20 14:04:47.273 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1610266338 wrapping org.postgresql.jdbc.PgConnection@777549b1] read-only
2026-02-20 14:04:47.274 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:04:47.274] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 14:04:47.274 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:04:47.274] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:04:47.277 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:04:47.278 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:04:47.278] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:04:47.280 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:04:47.280] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:04:47.281 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1610266338 wrapping org.postgresql.jdbc.PgConnection@777549b1]
2026-02-20 14:04:47.284 [http-nio-8080-exec-3] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 14:04:47.346 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.addToCart with arguments: [com.shopjoy.dto.request.AddToCartRequest@316cc447]
2026-02-20 14:04:47.348 [http-nio-8080-exec-3] ERROR com.shopjoy.aspect.LoggingAspect - API ENDPOINT EXCEPTION in CartController.addToCart with arguments: [com.shopjoy.dto.request.AddToCartRequest@316cc447]
2026-02-20 14:04:47.348 [http-nio-8080-exec-3] ERROR com.shopjoy.aspect.LoggingAspect - Controller exception: Cannot find cache named 'cartItems' for Builder[public com.shopjoy.dto.response.CartItemResponse com.shopjoy.service.impl.CartServiceImpl.addToCart(com.shopjoy.dto.request.AddToCartRequest)] caches=[cartItems] | key='#request.userId' | keyGenerator='' | cacheManager='' | cacheResolver='' | condition='',false,false
2026-02-20 14:04:47.349 [http-nio-8080-exec-3] ERROR com.shopjoy.aspect.LoggingAspect - Stack trace:
java.lang.IllegalArgumentException: Cannot find cache named 'cartItems' for Builder[public com.shopjoy.dto.response.CartItemResponse com.shopjoy.service.impl.CartServiceImpl.addToCart(com.shopjoy.dto.request.AddToCartRequest)] caches=[cartItems] | key='#request.userId' | keyGenerator='' | cacheManager='' | cacheResolver='' | condition='',false,false
	at org.springframework.cache.interceptor.AbstractCacheResolver.resolveCaches(AbstractCacheResolver.java:92)
	at org.springframework.cache.interceptor.CacheAspectSupport.getCaches(CacheAspectSupport.java:312)
	at org.springframework.cache.interceptor.CacheAspectSupport$CacheOperationContext.<init>(CacheAspectSupport.java:880)
	at org.springframework.cache.interceptor.CacheAspectSupport.getOperationContext(CacheAspectSupport.java:325)
	at org.springframework.cache.interceptor.CacheAspectSupport$CacheOperationContexts.<init>(CacheAspectSupport.java:770)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:404)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:64)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.shopjoy.service.impl.CartServiceImpl$$SpringCGLIB$$0.addToCart(<generated>)
	at com.shopjoy.controller.CartController.addToCart(CartController.java:73)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.PerformanceAspect.monitorApiPerformance(PerformanceAspect.java:101)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:271)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:266)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:197)
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.shopjoy.controller.CartController$$SpringCGLIB$$0.addToCart(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:493)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:354)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:86)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:132)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:246)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:232)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.ui.DefaultResourcesFilter.doFilter(DefaultResourcesFilter.java:73)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at com.shopjoy.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:125)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:245)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:239)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:195)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:337)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:1474)
2026-02-20 14:04:47.352 [http-nio-8080-exec-3] ERROR c.s.exception.GlobalExceptionHandler - Unexpected error occurred
java.lang.IllegalArgumentException: Cannot find cache named 'cartItems' for Builder[public com.shopjoy.dto.response.CartItemResponse com.shopjoy.service.impl.CartServiceImpl.addToCart(com.shopjoy.dto.request.AddToCartRequest)] caches=[cartItems] | key='#request.userId' | keyGenerator='' | cacheManager='' | cacheResolver='' | condition='',false,false
	at org.springframework.cache.interceptor.AbstractCacheResolver.resolveCaches(AbstractCacheResolver.java:92)
	at org.springframework.cache.interceptor.CacheAspectSupport.getCaches(CacheAspectSupport.java:312)
	at org.springframework.cache.interceptor.CacheAspectSupport$CacheOperationContext.<init>(CacheAspectSupport.java:880)
	at org.springframework.cache.interceptor.CacheAspectSupport.getOperationContext(CacheAspectSupport.java:325)
	at org.springframework.cache.interceptor.CacheAspectSupport$CacheOperationContexts.<init>(CacheAspectSupport.java:770)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:404)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:64)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.shopjoy.service.impl.CartServiceImpl$$SpringCGLIB$$0.addToCart(<generated>)
	at com.shopjoy.controller.CartController.addToCart(CartController.java:73)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.PerformanceAspect.monitorApiPerformance(PerformanceAspect.java:101)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:271)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:266)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:197)
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.shopjoy.controller.CartController$$SpringCGLIB$$0.addToCart(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:493)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:354)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:86)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:132)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:246)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:232)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.ui.DefaultResourcesFilter.doFilter(DefaultResourcesFilter.java:73)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at com.shopjoy.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:125)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:245)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:239)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:195)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:337)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:1474)
2026-02-20 14:09:00.761 [SpringApplicationShutdownHook] INFO  o.s.boot.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2026-02-20 14:09:00.967 [tomcat-shutdown] INFO  o.s.boot.tomcat.GracefulShutdown - Graceful shutdown complete
2026-02-20 14:09:00.991 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-02-20 14:09:00.999 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-02-20 14:09:01.030 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-02-20 14:09:57.343 [main] INFO  c.s.ShopjoyEcommerceSystemApplication - Starting ShopjoyEcommerceSystemApplication using Java 25.0.1 with PID 28768 (C:\Users\EugeneDokyeAnokye\IdeaProjects\spring-data-ecommerce\target\classes started by EugeneDokyeAnokye in C:\Users\EugeneDokyeAnokye\IdeaProjects\spring-data-ecommerce)
2026-02-20 14:09:57.348 [main] DEBUG c.s.ShopjoyEcommerceSystemApplication - Running with Spring Boot v4.0.2, Spring v7.0.3
2026-02-20 14:09:57.350 [main] INFO  c.s.ShopjoyEcommerceSystemApplication - The following 1 profile is active: "dev"
2026-02-20 14:09:58.658 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 9.0.1.Final
2026-02-20 14:10:03.230 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-20 14:10:04.068 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 815 ms. Found 10 JPA repository interfaces.
2026-02-20 14:10:10.668 [main] INFO  o.s.boot.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-02-20 14:10:10.711 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-02-20 14:10:10.718 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-02-20 14:10:10.721 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/11.0.15]
2026-02-20 14:10:10.958 [main] INFO  o.s.b.w.c.s.WebApplicationContextInitializer - Root WebApplicationContext: initialization completed in 13410 ms
2026-02-20 14:10:13.907 [main] INFO  org.hibernate.orm.jpa - HHH008540: Processing PersistenceUnitInfo [name: default]
2026-02-20 14:10:14.118 [main] INFO  org.hibernate.orm.core - HHH000001: Hibernate ORM core version 7.2.1.Final
2026-02-20 14:10:15.969 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-20 14:10:16.090 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-20 14:10:16.711 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7fb02869
2026-02-20 14:10:16.717 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-20 14:10:16.971 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [jdbc:postgresql://localhost:5432/shopjoy_db]
	Database driver: PostgreSQL JDBC Driver
	Database dialect: PostgreSQLDialect
	Database version: 18.1
	Default catalog/schema: shopjoy_db/public
	Autocommit mode: undefined/unknown
	Isolation level: READ_COMMITTED [default READ_COMMITTED]
	JDBC fetch size: none
	Pool: DataSourceConnectionProvider
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-02-20 14:10:20.957 [main] INFO  org.hibernate.orm.core - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-20 14:10:21.269 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-20 14:10:23.194 [main] INFO  o.s.d.j.r.q.QueryEnhancerFactories - Hibernate is in classpath; If applicable, HQL parser will be used.
2026-02-20 14:10:26.519 [main] DEBUG c.s.config.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2026-02-20 14:10:27.130 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2026-02-20 14:10:38.689 [main] INFO  o.s.g.e.DefaultSchemaResourceGraphQlSourceBuilder - Loaded 1 resource(s) in the GraphQL schema.
2026-02-20 14:10:39.218 [main] INFO  o.s.b.g.a.GraphQlAutoConfiguration - GraphQL schema inspection:
	Unmapped fields: {Inventory=[reservedQuantity]}
	Unmapped registrations: {Review.user=@BatchMapping ReviewFieldResolver#user[1 args]}
	Unmapped arguments: {}
	Field nullness errors: {}
	Argument nullness errors: {}
	Skipped types: []
2026-02-20 14:10:39.304 [main] INFO  o.s.b.g.a.s.GraphQlWebMvcAutoConfiguration - GraphQL endpoint HTTP POST /graphql
2026-02-20 14:10:42.331 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2026-02-20 14:10:42.610 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2026-02-20 14:10:42.638 [main] INFO  o.s.boot.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2026-02-20 14:10:42.665 [main] INFO  c.s.ShopjoyEcommerceSystemApplication - Started ShopjoyEcommerceSystemApplication in 48.399 seconds (process running for 50.988)
2026-02-20 14:10:42.852 [main] INFO  c.s.config.AdminUserInitializer - Checking for existing admin user with username: admin
2026-02-20 14:10:42.889 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@2142523099 wrapping org.postgresql.jdbc.PgConnection@7fb02869] read-only
2026-02-20 14:10:42.901 [main] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:10:42.901] ENTERING: AuthServiceImpl.isUsernameTaken with arguments: [admin]
2026-02-20 14:10:42.911 [main] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:10:42.911] TRANSACTION START: AuthServiceImpl.isUsernameTaken(String)
2026-02-20 14:10:43.124 [main] DEBUG org.hibernate.SQL - select u1_0.user_id from users u1_0 where u1_0.username=? fetch first ? rows only
2026-02-20 14:10:43.163 [main] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:10:43.163] TRANSACTION COMMIT: AuthServiceImpl.isUsernameTaken(String)
2026-02-20 14:10:43.169 [main] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:10:43.169] EXITING: AuthServiceImpl.isUsernameTaken returned: Boolean
2026-02-20 14:10:43.175 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@2142523099 wrapping org.postgresql.jdbc.PgConnection@7fb02869]
2026-02-20 14:10:43.176 [main] INFO  c.s.config.AdminUserInitializer - Admin user 'admin' already exists, skipping creation
2026-02-20 14:10:43.178 [main] WARN  o.s.c.events.SpringDocAppInitializer - SpringDoc /api-docs endpoint is enabled by default. To disable it in production, set the property 'springdoc.api-docs.enabled=false'
2026-02-20 14:10:45.957 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-20 14:10:45.958 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-02-20 14:10:45.961 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2026-02-20 14:10:46.525 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1460562056 wrapping org.postgresql.jdbc.PgConnection@7fb02869] read-only
2026-02-20 14:10:46.526 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:10:46.526] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 14:10:46.529 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:10:46.529] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:10:46.552 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:10:46.607 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:10:46.607] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:10:46.608 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:10:46.608] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:10:46.610 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1460562056 wrapping org.postgresql.jdbc.PgConnection@7fb02869]
2026-02-20 14:10:46.618 [http-nio-8080-exec-1] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 14:10:47.020 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.addToCart with arguments: [com.shopjoy.dto.request.AddToCartRequest@7ef25ab9]
2026-02-20 14:10:47.025 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:10:47.025] ENTERING: CartServiceImpl.addToCart with arguments: [com.shopjoy.dto.request.AddToCartRequest@7ef25ab9]
2026-02-20 14:10:47.026 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:10:47.026] TRANSACTION START: CartServiceImpl.addToCart(AddToCartRequest)
2026-02-20 14:10:47.028 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:10:47.028] TRANSACTION START: CartServiceImpl.addToCart(AddToCartRequest)
2026-02-20 14:10:47.033 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:10:47.033] ENTERING: ProductServiceImpl.getProductById with arguments: [41]
2026-02-20 14:10:47.037 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:10:47.037] TRANSACTION START: ProductServiceImpl.getProductById(Integer)
2026-02-20 14:10:47.072 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:10:47.110 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:10:47.118 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:10:47.118] TRANSACTION COMMIT: ProductServiceImpl.getProductById(Integer)
2026-02-20 14:10:47.118 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:10:47.118] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-02-20 14:10:47.125 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:10:47.125] ENTERING: InventoryServiceImpl.hasAvailableStock with arguments: [41, 1]
2026-02-20 14:10:47.129 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:10:47.128] TRANSACTION START: InventoryServiceImpl.hasAvailableStock(Integer, int)
2026-02-20 14:10:47.164 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:10:47.168 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:10:47.168] TRANSACTION COMMIT: InventoryServiceImpl.hasAvailableStock(Integer, int)
2026-02-20 14:10:47.168 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:10:47.168] EXITING: InventoryServiceImpl.hasAvailableStock returned: Boolean
2026-02-20 14:10:47.179 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 where ci1_0.user_id=? and ci1_0.product_id=?
2026-02-20 14:10:47.227 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - insert into cart_items (added_at,product_id,quantity,user_id) values (?,?,?,?)
2026-02-20 14:10:47.295 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:10:47.295] TRANSACTION COMMIT: CartServiceImpl.addToCart(AddToCartRequest)
2026-02-20 14:10:47.296 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:10:47.296] TRANSACTION COMMIT: CartServiceImpl.addToCart(AddToCartRequest)
2026-02-20 14:10:47.296 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:10:47.296] EXITING: CartServiceImpl.addToCart returned: CartItemResponse
2026-02-20 14:10:47.320 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.addToCart responded in 299ms
2026-02-20 14:10:47.321 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.addToCart returned: ResponseEntity
2026-02-20 14:10:50.224 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1826902858 wrapping org.postgresql.jdbc.PgConnection@7fb02869] read-only
2026-02-20 14:10:50.226 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:10:50.225] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 14:10:50.226 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:10:50.226] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:10:50.228 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:10:50.228 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@859857707 wrapping org.postgresql.jdbc.PgConnection@377ff19b] read-only
2026-02-20 14:10:50.229 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:10:50.229] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 14:10:50.229 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:10:50.229] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:10:50.230 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:10:50.232 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:10:50.232] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:10:50.233 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:10:50.233] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:10:50.234 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1826902858 wrapping org.postgresql.jdbc.PgConnection@7fb02869]
2026-02-20 14:10:50.238 [http-nio-8080-exec-3] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 14:10:50.243 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:10:50.242] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:10:50.243 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:10:50.243] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:10:50.244 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@859857707 wrapping org.postgresql.jdbc.PgConnection@377ff19b]
2026-02-20 14:10:50.249 [http-nio-8080-exec-6] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 14:10:50.251 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.getCartItems with arguments: [24]
2026-02-20 14:10:50.251 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@508063355 wrapping org.postgresql.jdbc.PgConnection@7fb02869] read-only
2026-02-20 14:10:50.252 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:10:50.252] ENTERING: CartServiceImpl.getCartItems with arguments: [24]
2026-02-20 14:10:50.253 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:10:50.253] TRANSACTION START: CartServiceImpl.getCartItems(Integer)
2026-02-20 14:10:50.255 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.getCartTotal with arguments: [24]
2026-02-20 14:10:50.256 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@276456594 wrapping org.postgresql.jdbc.PgConnection@377ff19b] read-only
2026-02-20 14:10:50.257 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:10:50.256] ENTERING: CartServiceImpl.getCartTotal with arguments: [24]
2026-02-20 14:10:50.257 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:10:50.257] TRANSACTION START: CartServiceImpl.getCartTotal(Integer)
2026-02-20 14:10:50.263 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 where ci1_0.user_id=?
2026-02-20 14:10:50.269 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 where ci1_0.user_id=?
2026-02-20 14:10:50.271 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:10:50.273 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:10:50.277 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:10:50.277] TRANSACTION COMMIT: CartServiceImpl.getCartItems(Integer)
2026-02-20 14:10:50.277 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:10:50.277] EXITING: CartServiceImpl.getCartItems returned: ArrayList
2026-02-20 14:10:50.278 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@508063355 wrapping org.postgresql.jdbc.PgConnection@7fb02869]
2026-02-20 14:10:50.279 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.getCartItems responded in 28ms
2026-02-20 14:10:50.280 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.getCartItems returned: ResponseEntity
2026-02-20 14:10:50.294 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:10:50.294] TRANSACTION COMMIT: CartServiceImpl.getCartTotal(Integer)
2026-02-20 14:10:50.294 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:10:50.294] EXITING: CartServiceImpl.getCartTotal returned: Double
2026-02-20 14:10:50.295 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@276456594 wrapping org.postgresql.jdbc.PgConnection@377ff19b]
2026-02-20 14:10:50.296 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.getCartTotal responded in 41ms
2026-02-20 14:10:50.296 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.getCartTotal returned: ResponseEntity
2026-02-20 14:10:50.296 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@859746880 wrapping org.postgresql.jdbc.PgConnection@7fb02869] read-only
2026-02-20 14:10:50.297 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:10:50.297] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 14:10:50.297 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:10:50.297] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:10:50.299 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:10:50.304 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:10:50.303] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:10:50.304 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:10:50.304] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:10:50.305 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@859746880 wrapping org.postgresql.jdbc.PgConnection@7fb02869]
2026-02-20 14:10:50.308 [http-nio-8080-exec-2] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 14:10:50.308 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1777644498 wrapping org.postgresql.jdbc.PgConnection@7fb02869] read-only
2026-02-20 14:10:50.308 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:10:50.308] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 14:10:50.309 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:10:50.308] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:10:50.310 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:10:50.312 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.getCartItems with arguments: [24]
2026-02-20 14:10:50.312 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:10:50.312] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:10:50.312 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:10:50.312] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:10:50.312 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.getCartItems responded in 0ms
2026-02-20 14:10:50.312 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.getCartItems returned: ResponseEntity
2026-02-20 14:10:50.313 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1777644498 wrapping org.postgresql.jdbc.PgConnection@7fb02869]
2026-02-20 14:10:50.317 [http-nio-8080-exec-5] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 14:10:50.321 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.getCartTotal with arguments: [24]
2026-02-20 14:10:50.322 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.getCartTotal responded in 0ms
2026-02-20 14:10:50.323 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.getCartTotal returned: ResponseEntity
2026-02-20 14:10:51.901 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1197824619 wrapping org.postgresql.jdbc.PgConnection@7fb02869] read-only
2026-02-20 14:10:51.903 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:10:51.903] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 14:10:51.903 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:10:51.903] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:10:51.905 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:10:51.907 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:10:51.907] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:10:51.908 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:10:51.908] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:10:51.908 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1197824619 wrapping org.postgresql.jdbc.PgConnection@7fb02869]
2026-02-20 14:10:51.911 [http-nio-8080-exec-7] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 14:10:51.919 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.updateCartItemQuantity with arguments: [42, 2]
2026-02-20 14:10:51.920 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - DATA MODIFICATION STARTED: CartServiceImpl.updateCartItemQuantity(Integer, int) with arguments: [42, 2]
2026-02-20 14:10:51.920 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:10:51.920] ENTERING: CartServiceImpl.updateCartItemQuantity with arguments: [42, 2]
2026-02-20 14:10:51.921 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:10:51.921] TRANSACTIONAL DATA MODIFICATION: CartServiceImpl.updateCartItemQuantity(Integer, int) with arguments: [42, 2]
2026-02-20 14:10:51.921 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:10:51.921] TRANSACTION START: CartServiceImpl.updateCartItemQuantity(Integer, int)
2026-02-20 14:10:51.921 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:10:51.921] TRANSACTION START: CartServiceImpl.updateCartItemQuantity(Integer, int)
2026-02-20 14:10:51.928 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select ci1_0.user_id from cart_items ci1_0 where ci1_0.cart_item_id=?
2026-02-20 14:10:51.932 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 join products p1_0 on p1_0.product_id=ci1_0.product_id left join inventory i1_0 on p1_0.product_id=i1_0.product_id where ci1_0.cart_item_id=?
2026-02-20 14:10:51.957 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:10:51.957] ENTERING: InventoryServiceImpl.hasAvailableStock with arguments: [41, 2]
2026-02-20 14:10:51.957 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:10:51.957] TRANSACTION START: InventoryServiceImpl.hasAvailableStock(Integer, int)
2026-02-20 14:10:51.959 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:10:51.960 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:10:51.960] TRANSACTION COMMIT: InventoryServiceImpl.hasAvailableStock(Integer, int)
2026-02-20 14:10:51.960 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:10:51.960] EXITING: InventoryServiceImpl.hasAvailableStock returned: Boolean
2026-02-20 14:10:51.964 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:10:51.964] TRANSACTION COMMIT: CartServiceImpl.updateCartItemQuantity(Integer, int)
2026-02-20 14:10:51.964 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:10:51.964] TRANSACTION COMMIT: CartServiceImpl.updateCartItemQuantity(Integer, int)
2026-02-20 14:10:51.965 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:10:51.965] EXITING: CartServiceImpl.updateCartItemQuantity returned: CartItemResponse
2026-02-20 14:10:51.965 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - DATA MODIFICATION COMPLETED: CartServiceImpl.updateCartItemQuantity(Integer, int) in 45ms
2026-02-20 14:10:51.972 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - update cart_items set product_id=?,quantity=?,user_id=? where cart_item_id=?
2026-02-20 14:10:51.980 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.updateCartItemQuantity responded in 61ms
2026-02-20 14:10:51.980 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.updateCartItemQuantity returned: ResponseEntity
2026-02-20 14:10:51.991 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@388229768 wrapping org.postgresql.jdbc.PgConnection@7fb02869] read-only
2026-02-20 14:10:51.991 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1908448458 wrapping org.postgresql.jdbc.PgConnection@377ff19b] read-only
2026-02-20 14:10:51.991 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:10:51.991] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 14:10:51.992 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:10:51.992] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 14:10:51.992 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:10:51.992] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:10:51.993 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:10:51.993] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:10:51.993 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:10:51.993 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:10:51.995 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:10:51.995] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:10:51.996 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:10:51.996] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:10:51.997 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1908448458 wrapping org.postgresql.jdbc.PgConnection@377ff19b]
2026-02-20 14:10:51.997 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:10:51.997] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:10:51.997 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:10:51.997] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:10:51.998 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@388229768 wrapping org.postgresql.jdbc.PgConnection@7fb02869]
2026-02-20 14:10:52.000 [http-nio-8080-exec-9] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 14:10:52.001 [http-nio-8080-exec-8] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 14:10:52.004 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.getCartTotal with arguments: [24]
2026-02-20 14:10:52.004 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.getCartItems with arguments: [24]
2026-02-20 14:10:52.004 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@114306997 wrapping org.postgresql.jdbc.PgConnection@377ff19b] read-only
2026-02-20 14:10:52.004 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@2089960161 wrapping org.postgresql.jdbc.PgConnection@7fb02869] read-only
2026-02-20 14:10:52.004 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:10:52.004] ENTERING: CartServiceImpl.getCartTotal with arguments: [24]
2026-02-20 14:10:52.004 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:10:52.004] ENTERING: CartServiceImpl.getCartItems with arguments: [24]
2026-02-20 14:10:52.005 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:10:52.005] TRANSACTION START: CartServiceImpl.getCartItems(Integer)
2026-02-20 14:10:52.005 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:10:52.005] TRANSACTION START: CartServiceImpl.getCartTotal(Integer)
2026-02-20 14:10:52.005 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 where ci1_0.user_id=?
2026-02-20 14:10:52.005 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 where ci1_0.user_id=?
2026-02-20 14:10:52.008 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:10:52.008 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:10:52.012 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:10:52.012] TRANSACTION COMMIT: CartServiceImpl.getCartTotal(Integer)
2026-02-20 14:10:52.011 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:10:52.011] TRANSACTION COMMIT: CartServiceImpl.getCartItems(Integer)
2026-02-20 14:10:52.012 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:10:52.012] EXITING: CartServiceImpl.getCartTotal returned: Double
2026-02-20 14:10:52.012 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:10:52.012] EXITING: CartServiceImpl.getCartItems returned: ArrayList
2026-02-20 14:10:52.012 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@114306997 wrapping org.postgresql.jdbc.PgConnection@377ff19b]
2026-02-20 14:10:52.012 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@2089960161 wrapping org.postgresql.jdbc.PgConnection@7fb02869]
2026-02-20 14:10:52.013 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.getCartTotal responded in 9ms
2026-02-20 14:10:52.013 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.getCartTotal returned: ResponseEntity
2026-02-20 14:10:52.013 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.getCartItems responded in 9ms
2026-02-20 14:10:52.013 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.getCartItems returned: ResponseEntity
2026-02-20 14:10:53.337 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@53334529 wrapping org.postgresql.jdbc.PgConnection@7fb02869] read-only
2026-02-20 14:10:53.338 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:10:53.338] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 14:10:53.339 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:10:53.339] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:10:53.339 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:10:53.342 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:10:53.342] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:10:53.343 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:10:53.342] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:10:53.343 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@53334529 wrapping org.postgresql.jdbc.PgConnection@7fb02869]
2026-02-20 14:10:53.345 [http-nio-8080-exec-1] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 14:10:53.412 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: OrderController.createOrder with arguments: [com.shopjoy.dto.request.CreateOrderRequest@766b556d]
2026-02-20 14:10:53.413 [http-nio-8080-exec-1] ERROR com.shopjoy.aspect.LoggingAspect - API ENDPOINT EXCEPTION in OrderController.createOrder with arguments: [com.shopjoy.dto.request.CreateOrderRequest@766b556d]
2026-02-20 14:10:53.415 [http-nio-8080-exec-1] ERROR com.shopjoy.aspect.LoggingAspect - Controller exception: Cannot find cache named 'orders' for Builder[public com.shopjoy.dto.response.OrderResponse com.shopjoy.service.impl.OrderServiceImpl.createOrder(com.shopjoy.dto.request.CreateOrderRequest)] caches=[orders] | key='' | keyGenerator='' | cacheManager='' | cacheResolver='' | condition='',true,false
2026-02-20 14:10:53.415 [http-nio-8080-exec-1] ERROR com.shopjoy.aspect.LoggingAspect - Stack trace:
java.lang.IllegalArgumentException: Cannot find cache named 'orders' for Builder[public com.shopjoy.dto.response.OrderResponse com.shopjoy.service.impl.OrderServiceImpl.createOrder(com.shopjoy.dto.request.CreateOrderRequest)] caches=[orders] | key='' | keyGenerator='' | cacheManager='' | cacheResolver='' | condition='',true,false
	at org.springframework.cache.interceptor.AbstractCacheResolver.resolveCaches(AbstractCacheResolver.java:92)
	at org.springframework.cache.interceptor.CacheAspectSupport.getCaches(CacheAspectSupport.java:312)
	at org.springframework.cache.interceptor.CacheAspectSupport$CacheOperationContext.<init>(CacheAspectSupport.java:880)
	at org.springframework.cache.interceptor.CacheAspectSupport.getOperationContext(CacheAspectSupport.java:325)
	at org.springframework.cache.interceptor.CacheAspectSupport$CacheOperationContexts.<init>(CacheAspectSupport.java:770)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:404)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:64)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.shopjoy.service.impl.OrderServiceImpl$$SpringCGLIB$$0.createOrder(<generated>)
	at com.shopjoy.controller.OrderController.createOrder(OrderController.java:54)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.PerformanceAspect.monitorApiPerformance(PerformanceAspect.java:101)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:271)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:266)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:197)
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.shopjoy.controller.OrderController$$SpringCGLIB$$0.createOrder(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:493)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:354)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:86)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:132)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:246)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:232)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.ui.DefaultResourcesFilter.doFilter(DefaultResourcesFilter.java:73)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at com.shopjoy.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:125)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:245)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:239)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:195)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:337)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:1474)
2026-02-20 14:10:53.423 [http-nio-8080-exec-1] ERROR c.s.exception.GlobalExceptionHandler - Unexpected error occurred
java.lang.IllegalArgumentException: Cannot find cache named 'orders' for Builder[public com.shopjoy.dto.response.OrderResponse com.shopjoy.service.impl.OrderServiceImpl.createOrder(com.shopjoy.dto.request.CreateOrderRequest)] caches=[orders] | key='' | keyGenerator='' | cacheManager='' | cacheResolver='' | condition='',true,false
	at org.springframework.cache.interceptor.AbstractCacheResolver.resolveCaches(AbstractCacheResolver.java:92)
	at org.springframework.cache.interceptor.CacheAspectSupport.getCaches(CacheAspectSupport.java:312)
	at org.springframework.cache.interceptor.CacheAspectSupport$CacheOperationContext.<init>(CacheAspectSupport.java:880)
	at org.springframework.cache.interceptor.CacheAspectSupport.getOperationContext(CacheAspectSupport.java:325)
	at org.springframework.cache.interceptor.CacheAspectSupport$CacheOperationContexts.<init>(CacheAspectSupport.java:770)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:404)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:64)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.shopjoy.service.impl.OrderServiceImpl$$SpringCGLIB$$0.createOrder(<generated>)
	at com.shopjoy.controller.OrderController.createOrder(OrderController.java:54)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.PerformanceAspect.monitorApiPerformance(PerformanceAspect.java:101)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:271)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:266)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:197)
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.shopjoy.controller.OrderController$$SpringCGLIB$$0.createOrder(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:493)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:354)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:86)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:132)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:246)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:232)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.ui.DefaultResourcesFilter.doFilter(DefaultResourcesFilter.java:73)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at com.shopjoy.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:125)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:245)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:239)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:195)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:337)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:1474)
2026-02-20 14:16:34.515 [SpringApplicationShutdownHook] INFO  o.s.boot.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2026-02-20 14:16:34.796 [tomcat-shutdown] INFO  o.s.boot.tomcat.GracefulShutdown - Graceful shutdown complete
2026-02-20 14:16:34.818 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-02-20 14:16:34.825 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-02-20 14:16:34.896 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-02-20 14:17:18.720 [main] INFO  c.s.ShopjoyEcommerceSystemApplication - Starting ShopjoyEcommerceSystemApplication using Java 25.0.1 with PID 32260 (C:\Users\EugeneDokyeAnokye\IdeaProjects\spring-data-ecommerce\target\classes started by EugeneDokyeAnokye in C:\Users\EugeneDokyeAnokye\IdeaProjects\spring-data-ecommerce)
2026-02-20 14:17:18.726 [main] DEBUG c.s.ShopjoyEcommerceSystemApplication - Running with Spring Boot v4.0.2, Spring v7.0.3
2026-02-20 14:17:18.727 [main] INFO  c.s.ShopjoyEcommerceSystemApplication - The following 1 profile is active: "dev"
2026-02-20 14:17:19.616 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 9.0.1.Final
2026-02-20 14:17:23.718 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-20 14:17:24.427 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 668 ms. Found 10 JPA repository interfaces.
2026-02-20 14:17:28.470 [main] INFO  o.s.boot.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-02-20 14:17:28.513 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-02-20 14:17:28.518 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-02-20 14:17:28.518 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/11.0.15]
2026-02-20 14:17:28.812 [main] INFO  o.s.b.w.c.s.WebApplicationContextInitializer - Root WebApplicationContext: initialization completed in 9959 ms
2026-02-20 14:17:30.725 [main] INFO  org.hibernate.orm.jpa - HHH008540: Processing PersistenceUnitInfo [name: default]
2026-02-20 14:17:30.910 [main] INFO  org.hibernate.orm.core - HHH000001: Hibernate ORM core version 7.2.1.Final
2026-02-20 14:17:32.382 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-20 14:17:32.479 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-20 14:17:33.000 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5f59b6c5
2026-02-20 14:17:33.003 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-20 14:17:33.310 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [jdbc:postgresql://localhost:5432/shopjoy_db]
	Database driver: PostgreSQL JDBC Driver
	Database dialect: PostgreSQLDialect
	Database version: 18.1
	Default catalog/schema: shopjoy_db/public
	Autocommit mode: undefined/unknown
	Isolation level: READ_COMMITTED [default READ_COMMITTED]
	JDBC fetch size: none
	Pool: DataSourceConnectionProvider
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-02-20 14:17:37.864 [main] INFO  org.hibernate.orm.core - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-20 14:17:38.019 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-20 14:17:39.563 [main] INFO  o.s.d.j.r.q.QueryEnhancerFactories - Hibernate is in classpath; If applicable, HQL parser will be used.
2026-02-20 14:17:43.505 [main] DEBUG c.s.config.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2026-02-20 14:17:44.258 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2026-02-20 14:17:53.986 [main] INFO  o.s.g.e.DefaultSchemaResourceGraphQlSourceBuilder - Loaded 1 resource(s) in the GraphQL schema.
2026-02-20 14:17:54.625 [main] INFO  o.s.b.g.a.GraphQlAutoConfiguration - GraphQL schema inspection:
	Unmapped fields: {Inventory=[reservedQuantity]}
	Unmapped registrations: {Review.user=@BatchMapping ReviewFieldResolver#user[1 args]}
	Unmapped arguments: {}
	Field nullness errors: {}
	Argument nullness errors: {}
	Skipped types: []
2026-02-20 14:17:54.709 [main] INFO  o.s.b.g.a.s.GraphQlWebMvcAutoConfiguration - GraphQL endpoint HTTP POST /graphql
2026-02-20 14:17:57.464 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2026-02-20 14:17:57.707 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2026-02-20 14:17:57.737 [main] INFO  o.s.boot.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2026-02-20 14:17:57.760 [main] INFO  c.s.ShopjoyEcommerceSystemApplication - Started ShopjoyEcommerceSystemApplication in 40.628 seconds (process running for 42.114)
2026-02-20 14:17:57.963 [main] INFO  c.s.config.AdminUserInitializer - Checking for existing admin user with username: admin
2026-02-20 14:17:57.981 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1759515620 wrapping org.postgresql.jdbc.PgConnection@5f59b6c5] read-only
2026-02-20 14:17:57.993 [main] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:17:57.993] ENTERING: AuthServiceImpl.isUsernameTaken with arguments: [admin]
2026-02-20 14:17:58.003 [main] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:17:58.003] TRANSACTION START: AuthServiceImpl.isUsernameTaken(String)
2026-02-20 14:17:58.221 [main] DEBUG org.hibernate.SQL - select u1_0.user_id from users u1_0 where u1_0.username=? fetch first ? rows only
2026-02-20 14:17:58.258 [main] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:17:58.258] TRANSACTION COMMIT: AuthServiceImpl.isUsernameTaken(String)
2026-02-20 14:17:58.260 [main] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:17:58.260] EXITING: AuthServiceImpl.isUsernameTaken returned: Boolean
2026-02-20 14:17:58.266 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1759515620 wrapping org.postgresql.jdbc.PgConnection@5f59b6c5]
2026-02-20 14:17:58.267 [main] INFO  c.s.config.AdminUserInitializer - Admin user 'admin' already exists, skipping creation
2026-02-20 14:17:58.269 [main] WARN  o.s.c.events.SpringDocAppInitializer - SpringDoc /api-docs endpoint is enabled by default. To disable it in production, set the property 'springdoc.api-docs.enabled=false'
2026-02-20 14:20:04.844 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-20 14:20:04.845 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-02-20 14:20:04.848 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2026-02-20 14:20:05.223 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1378182180 wrapping org.postgresql.jdbc.PgConnection@5f59b6c5] read-only
2026-02-20 14:20:05.224 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:20:05.224] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 14:20:05.227 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:20:05.227] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:20:05.242 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:20:05.299 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:20:05.299] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:20:05.299 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:20:05.299] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:20:05.300 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1378182180 wrapping org.postgresql.jdbc.PgConnection@5f59b6c5]
2026-02-20 14:20:05.310 [http-nio-8080-exec-1] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 14:20:05.766 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: OrderController.createOrder with arguments: [com.shopjoy.dto.request.CreateOrderRequest@977450a]
2026-02-20 14:20:05.771 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Changing isolation level of JDBC Connection [HikariProxyConnection@1142079940 wrapping org.postgresql.jdbc.PgConnection@5f59b6c5] to 8
2026-02-20 14:20:05.773 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - DATA MODIFICATION STARTED: OrderServiceImpl.createOrder(CreateOrderRequest) with arguments: [com.shopjoy.dto.request.CreateOrderRequest@977450a]
2026-02-20 14:20:05.773 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:20:05.773] ENTERING: OrderServiceImpl.createOrder with arguments: [com.shopjoy.dto.request.CreateOrderRequest@977450a]
2026-02-20 14:20:05.777 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:20:05.777] TRANSACTIONAL DATA MODIFICATION: OrderServiceImpl.createOrder(CreateOrderRequest) with arguments: [com.shopjoy.dto.request.CreateOrderRequest@977450a]
2026-02-20 14:20:05.777 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:20:05.777] TRANSACTION START: OrderServiceImpl.createOrder(CreateOrderRequest)
2026-02-20 14:20:05.780 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:20:05.779] TRANSACTION START: OrderServiceImpl.createOrder(CreateOrderRequest)
2026-02-20 14:20:05.785 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:20:05.785] ENTERING: UserServiceImpl.getUserById with arguments: [24]
2026-02-20 14:20:05.789 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:20:05.788] TRANSACTION START: UserServiceImpl.getUserById(Integer)
2026-02-20 14:20:05.818 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id=?
2026-02-20 14:20:05.825 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:20:05.825] TRANSACTION COMMIT: UserServiceImpl.getUserById(Integer)
2026-02-20 14:20:05.827 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:20:05.827] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-02-20 14:20:05.832 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:20:05.830] ENTERING: ProductServiceImpl.getProductsByIds with arguments: [[42]]
2026-02-20 14:20:05.835 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:20:05.835] TRANSACTION START: ProductServiceImpl.getProductsByIds(List)
2026-02-20 14:20:05.838 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:20:05.872 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:20:05.882 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:20:05.881] TRANSACTION COMMIT: ProductServiceImpl.getProductsByIds(List)
2026-02-20 14:20:05.882 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:20:05.882] EXITING: ProductServiceImpl.getProductsByIds returned: ArrayList
2026-02-20 14:20:05.885 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:20:05.885] ENTERING: InventoryServiceImpl.hasAvailableStock with arguments: [42, 2]
2026-02-20 14:20:05.889 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:20:05.889] TRANSACTION START: InventoryServiceImpl.hasAvailableStock(Integer, int)
2026-02-20 14:20:05.923 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:20:05.928 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:20:05.928] TRANSACTION COMMIT: InventoryServiceImpl.hasAvailableStock(Integer, int)
2026-02-20 14:20:05.928 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:20:05.928] EXITING: InventoryServiceImpl.hasAvailableStock returned: Boolean
2026-02-20 14:20:05.930 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:20:05.930] ENTERING: InventoryServiceImpl.reserveStock with arguments: [42, 2]
2026-02-20 14:20:05.932 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:20:05.932] TRANSACTION START: InventoryServiceImpl.reserveStock(Integer, int)
2026-02-20 14:20:05.933 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:20:05.933] TRANSACTION START: InventoryServiceImpl.reserveStock(Integer, int)
2026-02-20 14:20:05.941 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:20:05.951 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:20:05.951] TRANSACTION COMMIT: InventoryServiceImpl.reserveStock(Integer, int)
2026-02-20 14:20:05.952 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:20:05.952] TRANSACTION COMMIT: InventoryServiceImpl.reserveStock(Integer, int)
2026-02-20 14:20:05.960 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:20:05.960] EXITING: InventoryServiceImpl.reserveStock returned: void
2026-02-20 14:20:06.010 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - insert into orders (created_at,notes,order_date,payment_method,payment_status,shipping_address,status,total_amount,updated_at,user_id) values (?,?,?,?,?,?,?,?,?,?)
2026-02-20 14:20:06.095 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - insert into order_items (created_at,order_id,product_id,quantity,subtotal,unit_price) values (?,?,?,?,?,?)
2026-02-20 14:20:06.121 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select o1_0.user_id from orders o1_0 where o1_0.order_id=?
2026-02-20 14:20:06.127 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:20:06.127] TRANSACTION COMMIT: OrderServiceImpl.createOrder(CreateOrderRequest)
2026-02-20 14:20:06.127 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:20:06.127] TRANSACTION COMMIT: OrderServiceImpl.createOrder(CreateOrderRequest)
2026-02-20 14:20:06.129 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:20:06.129] EXITING: OrderServiceImpl.createOrder returned: OrderResponse
2026-02-20 14:20:06.129 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - DATA MODIFICATION COMPLETED: OrderServiceImpl.createOrder(CreateOrderRequest) in 356ms
2026-02-20 14:20:06.139 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - update inventory set last_restocked=?,product_id=?,quantity_in_stock=?,reorder_level=?,updated_at=?,warehouse_location=? where inventory_id=?
2026-02-20 14:20:06.152 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting isolation level of JDBC Connection [HikariProxyConnection@1142079940 wrapping org.postgresql.jdbc.PgConnection@5f59b6c5] to 2
2026-02-20 14:20:06.164 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint OrderController.createOrder responded in 397ms
2026-02-20 14:20:06.164 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: OrderController.createOrder returned: ResponseEntity
2026-02-20 14:20:06.348 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@348399481 wrapping org.postgresql.jdbc.PgConnection@5f59b6c5] read-only
2026-02-20 14:20:06.349 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:20:06.349] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 14:20:06.349 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:20:06.349] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:20:06.350 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:20:06.355 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:20:06.355] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:20:06.355 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:20:06.355] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:20:06.356 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@348399481 wrapping org.postgresql.jdbc.PgConnection@5f59b6c5]
2026-02-20 14:20:06.359 [http-nio-8080-exec-2] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 14:20:06.366 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.clearCart with arguments: [24]
2026-02-20 14:20:06.368 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:20:06.368] ENTERING: CartServiceImpl.clearCart with arguments: [24]
2026-02-20 14:20:06.370 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:20:06.370] TRANSACTION START: CartServiceImpl.clearCart(Integer)
2026-02-20 14:20:06.372 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:20:06.372] TRANSACTION START: CartServiceImpl.clearCart(Integer)
2026-02-20 14:20:06.382 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 where ci1_0.user_id=?
2026-02-20 14:20:06.397 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:20:06.410 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:20:06.410] TRANSACTION COMMIT: CartServiceImpl.clearCart(Integer)
2026-02-20 14:20:06.410 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:20:06.410] TRANSACTION COMMIT: CartServiceImpl.clearCart(Integer)
2026-02-20 14:20:06.410 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:20:06.410] EXITING: CartServiceImpl.clearCart returned: void
2026-02-20 14:20:06.417 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - delete from cart_items where cart_item_id=?
2026-02-20 14:20:06.424 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.clearCart responded in 56ms
2026-02-20 14:20:06.424 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.clearCart returned: ResponseEntity
2026-02-20 14:20:06.442 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1321526541 wrapping org.postgresql.jdbc.PgConnection@5f59b6c5] read-only
2026-02-20 14:20:06.443 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1597478216 wrapping org.postgresql.jdbc.PgConnection@5b081a76] read-only
2026-02-20 14:20:06.443 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:20:06.443] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 14:20:06.444 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:20:06.444] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 14:20:06.444 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:20:06.444] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:20:06.444 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:20:06.444] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:20:06.445 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:20:06.445 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:20:06.449 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:20:06.449] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:20:06.449 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:20:06.449] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:20:06.451 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1321526541 wrapping org.postgresql.jdbc.PgConnection@5f59b6c5]
2026-02-20 14:20:06.455 [http-nio-8080-exec-6] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 14:20:06.460 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:20:06.460] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:20:06.461 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:20:06.461] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:20:06.461 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1597478216 wrapping org.postgresql.jdbc.PgConnection@5b081a76]
2026-02-20 14:20:06.465 [http-nio-8080-exec-5] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 14:20:06.468 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.getCartTotal with arguments: [24]
2026-02-20 14:20:06.469 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@383892740 wrapping org.postgresql.jdbc.PgConnection@5f59b6c5] read-only
2026-02-20 14:20:06.470 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:20:06.470] ENTERING: CartServiceImpl.getCartTotal with arguments: [24]
2026-02-20 14:20:06.470 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:20:06.470] TRANSACTION START: CartServiceImpl.getCartTotal(Integer)
2026-02-20 14:20:06.471 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.getCartItems with arguments: [24]
2026-02-20 14:20:06.472 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@798641135 wrapping org.postgresql.jdbc.PgConnection@5b081a76] read-only
2026-02-20 14:20:06.472 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:20:06.472] ENTERING: CartServiceImpl.getCartItems with arguments: [24]
2026-02-20 14:20:06.473 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:20:06.473] TRANSACTION START: CartServiceImpl.getCartItems(Integer)
2026-02-20 14:20:06.475 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 where ci1_0.user_id=?
2026-02-20 14:20:06.475 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 where ci1_0.user_id=?
2026-02-20 14:20:06.480 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:20:06.480] TRANSACTION COMMIT: CartServiceImpl.getCartTotal(Integer)
2026-02-20 14:20:06.481 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:20:06.481] EXITING: CartServiceImpl.getCartTotal returned: Double
2026-02-20 14:20:06.481 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:20:06.481] TRANSACTION COMMIT: CartServiceImpl.getCartItems(Integer)
2026-02-20 14:20:06.481 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:20:06.481] EXITING: CartServiceImpl.getCartItems returned: ArrayList
2026-02-20 14:20:06.482 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@798641135 wrapping org.postgresql.jdbc.PgConnection@5b081a76]
2026-02-20 14:20:06.482 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@383892740 wrapping org.postgresql.jdbc.PgConnection@5f59b6c5]
2026-02-20 14:20:06.482 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.getCartItems responded in 11ms
2026-02-20 14:20:06.482 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.getCartItems returned: ResponseEntity
2026-02-20 14:20:06.486 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.getCartTotal responded in 17ms
2026-02-20 14:20:06.486 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.getCartTotal returned: ResponseEntity
2026-02-20 14:20:08.857 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@673588207 wrapping org.postgresql.jdbc.PgConnection@5f59b6c5] read-only
2026-02-20 14:20:08.857 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:20:08.857] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 14:20:08.858 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:20:08.858] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:20:08.859 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:20:08.862 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:20:08.862] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:20:08.862 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:20:08.862] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:20:08.863 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@673588207 wrapping org.postgresql.jdbc.PgConnection@5f59b6c5]
2026-02-20 14:20:08.865 [http-nio-8080-exec-9] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 14:20:09.155 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@30091199 wrapping org.postgresql.jdbc.PgConnection@5f59b6c5] read-only
2026-02-20 14:20:09.158 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:20:09.158] ENTERING: OrderServiceImpl.getOrders with arguments: [24, OrderFilter(status=null, paymentStatus=null, startDate=null, endDate=null, minAmount=null, maxAmount=null, searchTerm=null), Page request [number: 0, size 10, sort: orderDate: DESC]]
2026-02-20 14:20:09.159 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:20:09.159] TRANSACTION START: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-20 14:20:09.202 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select o1_0.order_id,o1_0.created_at,o1_0.notes,o1_0.order_date,o1_0.payment_method,o1_0.payment_status,o1_0.shipping_address,o1_0.status,o1_0.total_amount,o1_0.updated_at,o1_0.user_id from orders o1_0 where o1_0.user_id=? order by o1_0.order_date desc offset ? rows fetch first ? rows only
2026-02-20 14:20:09.214 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:20:09.221 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:20:09.225 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:20:09.228 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id=?
2026-02-20 14:20:09.230 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:20:09.230] TRANSACTION COMMIT: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-20 14:20:09.230 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:20:09.230] EXITING: OrderServiceImpl.getOrders returned: PageImpl
2026-02-20 14:20:09.232 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@30091199 wrapping org.postgresql.jdbc.PgConnection@5f59b6c5]
2026-02-20 14:30:02.571 [SpringApplicationShutdownHook] INFO  o.s.boot.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2026-02-20 14:30:02.584 [tomcat-shutdown] INFO  o.s.boot.tomcat.GracefulShutdown - Graceful shutdown complete
2026-02-20 14:30:02.618 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-02-20 14:30:02.624 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-02-20 14:30:02.679 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-02-20 14:32:01.177 [main] INFO  c.s.ShopjoyEcommerceSystemApplication - Starting ShopjoyEcommerceSystemApplication using Java 25.0.1 with PID 25776 (C:\Users\EugeneDokyeAnokye\IdeaProjects\spring-data-ecommerce\target\classes started by EugeneDokyeAnokye in C:\Users\EugeneDokyeAnokye\IdeaProjects\spring-data-ecommerce)
2026-02-20 14:32:01.185 [main] DEBUG c.s.ShopjoyEcommerceSystemApplication - Running with Spring Boot v4.0.2, Spring v7.0.3
2026-02-20 14:32:01.186 [main] INFO  c.s.ShopjoyEcommerceSystemApplication - The following 1 profile is active: "dev"
2026-02-20 14:32:02.426 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 9.0.1.Final
2026-02-20 14:32:08.067 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-20 14:32:08.922 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 776 ms. Found 10 JPA repository interfaces.
2026-02-20 14:32:16.897 [main] INFO  o.s.boot.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-02-20 14:32:16.955 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-02-20 14:32:16.961 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-02-20 14:32:16.962 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/11.0.15]
2026-02-20 14:32:17.293 [main] INFO  o.s.b.w.c.s.WebApplicationContextInitializer - Root WebApplicationContext: initialization completed in 15742 ms
2026-02-20 14:32:19.693 [main] INFO  org.hibernate.orm.jpa - HHH008540: Processing PersistenceUnitInfo [name: default]
2026-02-20 14:32:19.859 [main] INFO  org.hibernate.orm.core - HHH000001: Hibernate ORM core version 7.2.1.Final
2026-02-20 14:32:21.670 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-20 14:32:21.822 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-20 14:32:22.651 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4cce421e
2026-02-20 14:32:22.659 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-20 14:32:23.330 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [jdbc:postgresql://localhost:5432/shopjoy_db]
	Database driver: PostgreSQL JDBC Driver
	Database dialect: PostgreSQLDialect
	Database version: 18.1
	Default catalog/schema: shopjoy_db/public
	Autocommit mode: undefined/unknown
	Isolation level: READ_COMMITTED [default READ_COMMITTED]
	JDBC fetch size: none
	Pool: DataSourceConnectionProvider
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-02-20 14:32:31.287 [main] INFO  org.hibernate.orm.core - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-20 14:32:31.752 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-20 14:32:36.278 [main] INFO  o.s.d.j.r.q.QueryEnhancerFactories - Hibernate is in classpath; If applicable, HQL parser will be used.
2026-02-20 14:32:43.224 [main] DEBUG c.s.config.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2026-02-20 14:32:44.326 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2026-02-20 14:32:58.542 [main] INFO  o.s.g.e.DefaultSchemaResourceGraphQlSourceBuilder - Loaded 1 resource(s) in the GraphQL schema.
2026-02-20 14:32:59.797 [main] INFO  o.s.b.g.a.GraphQlAutoConfiguration - GraphQL schema inspection:
	Unmapped fields: {Inventory=[reservedQuantity]}
	Unmapped registrations: {Review.user=@BatchMapping ReviewFieldResolver#user[1 args]}
	Unmapped arguments: {}
	Field nullness errors: {}
	Argument nullness errors: {}
	Skipped types: []
2026-02-20 14:32:59.904 [main] INFO  o.s.b.g.a.s.GraphQlWebMvcAutoConfiguration - GraphQL endpoint HTTP POST /graphql
2026-02-20 14:33:04.271 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2026-02-20 14:33:04.707 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2026-02-20 14:33:04.758 [main] INFO  o.s.boot.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2026-02-20 14:33:04.820 [main] INFO  c.s.ShopjoyEcommerceSystemApplication - Started ShopjoyEcommerceSystemApplication in 65.556 seconds (process running for 68.733)
2026-02-20 14:33:05.485 [main] INFO  c.s.config.AdminUserInitializer - Checking for existing admin user with username: admin
2026-02-20 14:33:05.599 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@420336411 wrapping org.postgresql.jdbc.PgConnection@4cce421e] read-only
2026-02-20 14:33:05.616 [main] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:33:05.616] ENTERING: AuthServiceImpl.isUsernameTaken with arguments: [admin]
2026-02-20 14:33:05.825 [main] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:33:05.825] TRANSACTION START: AuthServiceImpl.isUsernameTaken(String)
2026-02-20 14:33:06.403 [main] DEBUG org.hibernate.SQL - select u1_0.user_id from users u1_0 where u1_0.username=? fetch first ? rows only
2026-02-20 14:33:06.445 [main] WARN  c.shopjoy.aspect.PerformanceAspect - SLOW DATABASE QUERY: $Proxy188.existsByUsername took 616ms
2026-02-20 14:33:06.446 [main] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:33:06.445] TRANSACTION COMMIT: AuthServiceImpl.isUsernameTaken(String)
2026-02-20 14:33:06.446 [main] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:33:06.446] EXITING: AuthServiceImpl.isUsernameTaken returned: Boolean
2026-02-20 14:33:06.459 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@420336411 wrapping org.postgresql.jdbc.PgConnection@4cce421e]
2026-02-20 14:33:06.460 [main] INFO  c.s.config.AdminUserInitializer - Admin user 'admin' already exists, skipping creation
2026-02-20 14:33:06.461 [main] WARN  o.s.c.events.SpringDocAppInitializer - SpringDoc /api-docs endpoint is enabled by default. To disable it in production, set the property 'springdoc.api-docs.enabled=false'
2026-02-20 14:33:13.461 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-20 14:33:13.462 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-02-20 14:33:13.464 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2026-02-20 14:33:13.970 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: AuthController.login with arguments: [com.shopjoy.dto.request.LoginRequest@4937d393, SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@43d79a9c]]
2026-02-20 14:33:13.972 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1352733907 wrapping org.postgresql.jdbc.PgConnection@4cce421e] read-only
2026-02-20 14:33:13.973 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:33:13.972] ENTERING: AuthServiceImpl.login with arguments: [com.shopjoy.dto.request.LoginRequest@4937d393]
2026-02-20 14:33:13.973 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:33:13.973] TRANSACTION START: AuthServiceImpl.login(LoginRequest)
2026-02-20 14:33:14.143 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:33:14.143] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [jane_smith]
2026-02-20 14:33:14.153 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:33:14.153] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:33:14.166 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:33:14.280 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:33:14.280] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:33:14.281 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:33:14.281] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:33:14.775 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:33:14.775] TRANSACTION COMMIT: AuthServiceImpl.login(LoginRequest)
2026-02-20 14:33:14.775 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:33:14.775] EXITING: AuthServiceImpl.login returned: LoginResponse
2026-02-20 14:33:14.776 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1352733907 wrapping org.postgresql.jdbc.PgConnection@4cce421e]
2026-02-20 14:33:14.777 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:33:14.777] ENTERING: SecurityAuditServiceImpl.logEvent with arguments: [jane_smith, LOGIN_SUCCESS, SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@43d79a9c], User logged in successfully, true]
2026-02-20 14:33:14.780 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:33:14.779] TRANSACTION START: SecurityAuditServiceImpl.logEvent(String, SecurityEventType, HttpServletRequest, String, Boolean)
2026-02-20 14:33:14.855 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - insert into security_audit_logs (details,event_type,ip_address,success,timestamp,user_agent,username) values (?,?,?,?,?,?,?)
2026-02-20 14:33:14.895 [http-nio-8080-exec-1] DEBUG c.s.s.impl.SecurityAuditServiceImpl - Logged security event: LOGIN_SUCCESS for user: jane_smith
2026-02-20 14:33:14.896 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:33:14.895] TRANSACTION COMMIT: SecurityAuditServiceImpl.logEvent(String, SecurityEventType, HttpServletRequest, String, Boolean)
2026-02-20 14:33:14.896 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:33:14.896] EXITING: SecurityAuditServiceImpl.logEvent returned: void
2026-02-20 14:33:14.914 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint AuthController.login responded in 943ms
2026-02-20 14:33:14.914 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: AuthController.login returned: ResponseEntity
2026-02-20 14:33:15.250 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@2000226721 wrapping org.postgresql.jdbc.PgConnection@4cce421e] read-only
2026-02-20 14:33:15.255 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:33:15.255] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [jane_smith]
2026-02-20 14:33:15.256 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:33:15.255] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:33:15.258 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:33:15.260 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:33:15.260] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:33:15.261 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:33:15.261] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:33:15.262 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@2000226721 wrapping org.postgresql.jdbc.PgConnection@4cce421e]
2026-02-20 14:33:15.266 [http-nio-8080-exec-2] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: jane_smith
2026-02-20 14:33:15.577 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1682638509 wrapping org.postgresql.jdbc.PgConnection@4cce421e] read-only
2026-02-20 14:33:15.577 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:33:15.577] ENTERING: OrderServiceImpl.getOrders with arguments: [3, null, Page request [number: 0, size 20, sort: orderDate: DESC]]
2026-02-20 14:33:15.585 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:33:15.585] TRANSACTION START: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-20 14:33:15.663 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select o1_0.order_id,o1_0.created_at,o1_0.notes,o1_0.order_date,o1_0.payment_method,o1_0.payment_status,o1_0.shipping_address,o1_0.status,o1_0.total_amount,o1_0.updated_at,o1_0.user_id from orders o1_0 where o1_0.user_id=? order by o1_0.order_date desc offset ? rows fetch first ? rows only
2026-02-20 14:33:15.712 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:33:15.738 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:33:15.765 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:33:15.772 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id=?
2026-02-20 14:33:15.776 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:33:15.783 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-20 14:33:15.842 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:33:15.845 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:33:15.849 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:33:15.853 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:33:15.856 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:33:15.860 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:33:15.864 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-20 14:33:15.870 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id = any (?)
2026-02-20 14:33:15.873 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:33:15.877 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:33:15.880 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:33:15.884 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-20 14:33:15.889 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:33:15.891 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:33:15.894 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:33:15.898 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:33:15.901 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:33:15.904 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:33:15.906 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:33:15.909 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:33:15.911 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:33:15.913 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:33:15.915 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:33:15.918 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:33:15.921 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:33:15.924 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:33:15.925 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:33:15.925] TRANSACTION COMMIT: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-20 14:33:15.927 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:33:15.927] EXITING: OrderServiceImpl.getOrders returned: PageImpl
2026-02-20 14:33:15.928 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1682638509 wrapping org.postgresql.jdbc.PgConnection@4cce421e]
2026-02-20 14:33:16.028 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1929680115 wrapping org.postgresql.jdbc.PgConnection@4cce421e] read-only
2026-02-20 14:33:16.029 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:33:16.029] ENTERING: CartServiceImpl.getCartItems with arguments: [3]
2026-02-20 14:33:16.078 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:33:16.078] TRANSACTION START: CartServiceImpl.getCartItems(Integer)
2026-02-20 14:33:16.087 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 where ci1_0.user_id=?
2026-02-20 14:33:16.102 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:33:16.102] TRANSACTION COMMIT: CartServiceImpl.getCartItems(Integer)
2026-02-20 14:33:16.102 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:33:16.102] EXITING: CartServiceImpl.getCartItems returned: ArrayList
2026-02-20 14:33:16.104 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1929680115 wrapping org.postgresql.jdbc.PgConnection@4cce421e]
2026-02-20 14:33:16.110 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1819236614 wrapping org.postgresql.jdbc.PgConnection@4cce421e] read-only
2026-02-20 14:33:16.111 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:33:16.111] ENTERING: ReviewServiceImpl.getReviewsByUser with arguments: [3]
2026-02-20 14:33:16.114 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:33:16.114] TRANSACTION START: ReviewServiceImpl.getReviewsByUser(Integer)
2026-02-20 14:33:16.119 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select r1_0.review_id,r1_0.comment,r1_0.created_at,r1_0.helpful_count,r1_0.is_verified_purchase,r1_0.product_id,r1_0.rating,r1_0.title,r1_0.updated_at,r1_0.user_id from reviews r1_0 where r1_0.user_id=?
2026-02-20 14:33:16.134 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:33:16.138 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id=?
2026-02-20 14:33:16.141 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:33:16.141] TRANSACTION COMMIT: ReviewServiceImpl.getReviewsByUser(Integer)
2026-02-20 14:33:16.141 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:33:16.141] EXITING: ReviewServiceImpl.getReviewsByUser returned: ArrayList
2026-02-20 14:33:16.142 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1819236614 wrapping org.postgresql.jdbc.PgConnection@4cce421e]
2026-02-20 14:33:16.173 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1605802490 wrapping org.postgresql.jdbc.PgConnection@4cce421e] read-only
2026-02-20 14:33:16.173 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:33:16.173] ENTERING: ProductServiceImpl.getProductsByIds with arguments: [[23]]
2026-02-20 14:33:16.193 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:33:16.193] TRANSACTION START: ProductServiceImpl.getProductsByIds(List)
2026-02-20 14:33:16.203 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:33:16.208 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:33:16.209 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:33:16.209] TRANSACTION COMMIT: ProductServiceImpl.getProductsByIds(List)
2026-02-20 14:33:16.210 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:33:16.210] EXITING: ProductServiceImpl.getProductsByIds returned: ArrayList
2026-02-20 14:33:16.210 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1605802490 wrapping org.postgresql.jdbc.PgConnection@4cce421e]
2026-02-20 14:34:31.022 [http-nio-8080-exec-6] WARN  o.a.c.util.SessionIdGeneratorBase - Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [221] milliseconds.
2026-02-20 14:34:39.548 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:34:39.548] TRANSACTION START: OAuth2LoginSuccessHandler.onAuthenticationSuccess(HttpServletRequest, HttpServletResponse, Authentication)
2026-02-20 14:34:39.551 [http-nio-8080-exec-9] INFO  c.s.s.OAuth2LoginSuccessHandler - OAuth2 authentication successful for user: 113687644831698073835
2026-02-20 14:34:39.551 [http-nio-8080-exec-9] INFO  c.s.s.OAuth2LoginSuccessHandler - OAuth2 user details - Email: yawanokye99@gmail.com, Name: Eugene Anokye, Provider: google
2026-02-20 14:34:39.558 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.email=?
2026-02-20 14:34:39.565 [http-nio-8080-exec-9] INFO  c.s.s.OAuth2LoginSuccessHandler - JWT token generated for OAuth2 user: eugene_6177
2026-02-20 14:34:39.565 [http-nio-8080-exec-9] INFO  c.s.s.OAuth2LoginSuccessHandler - Redirecting to frontend: http://localhost:5173/oauth2/callback?token=eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiQ1VTVE9NRVIiLCJyb2xlcyI6IlJPTEVfQ1VTVE9NRVIiLCJ1c2VySWQiOjI0LCJzdWIiOiJldWdlbmVfNjE3NyIsImlhdCI6MTc3MTU5ODA3OSwiZXhwIjoxNzcxNjg0NDc5fQ.a4zfhxdRdMXCLoWRQSzUd_mFRIGhlfGqhn3smse6X25p6GuU5HWHXrho3aun9HDFdQZi9lHhS7TkQMlpp2xv-g&provider=google
2026-02-20 14:34:39.566 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:34:39.566] TRANSACTION COMMIT: OAuth2LoginSuccessHandler.onAuthenticationSuccess(HttpServletRequest, HttpServletResponse, Authentication)
2026-02-20 14:34:45.865 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@423218677 wrapping org.postgresql.jdbc.PgConnection@4cce421e] read-only
2026-02-20 14:34:45.867 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:34:45.867] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 14:34:45.873 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:34:45.873] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:34:45.875 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:34:45.879 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:34:45.879] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:34:45.879 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:34:45.879] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:34:45.880 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@423218677 wrapping org.postgresql.jdbc.PgConnection@4cce421e]
2026-02-20 14:34:45.891 [http-nio-8080-exec-4] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 14:34:45.927 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1941474473 wrapping org.postgresql.jdbc.PgConnection@4cce421e] read-only
2026-02-20 14:34:45.927 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:34:45.927] ENTERING: OrderServiceImpl.getOrders with arguments: [24, null, Page request [number: 0, size 20, sort: orderDate: DESC]]
2026-02-20 14:34:45.928 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:34:45.928] TRANSACTION START: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-20 14:34:45.937 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select o1_0.order_id,o1_0.created_at,o1_0.notes,o1_0.order_date,o1_0.payment_method,o1_0.payment_status,o1_0.shipping_address,o1_0.status,o1_0.total_amount,o1_0.updated_at,o1_0.user_id from orders o1_0 where o1_0.user_id=? order by o1_0.order_date desc offset ? rows fetch first ? rows only
2026-02-20 14:34:45.946 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:34:45.949 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:34:45.952 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:34:45.957 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id=?
2026-02-20 14:34:45.960 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:34:45.960] TRANSACTION COMMIT: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-20 14:34:45.961 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:34:45.961] EXITING: OrderServiceImpl.getOrders returned: PageImpl
2026-02-20 14:34:45.962 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1941474473 wrapping org.postgresql.jdbc.PgConnection@4cce421e]
2026-02-20 14:34:45.968 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1845836336 wrapping org.postgresql.jdbc.PgConnection@4cce421e] read-only
2026-02-20 14:34:45.968 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:34:45.968] ENTERING: CartServiceImpl.getCartItems with arguments: [24]
2026-02-20 14:34:45.969 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:34:45.969] TRANSACTION START: CartServiceImpl.getCartItems(Integer)
2026-02-20 14:34:45.970 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 where ci1_0.user_id=?
2026-02-20 14:34:45.974 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:34:45.974] TRANSACTION COMMIT: CartServiceImpl.getCartItems(Integer)
2026-02-20 14:34:45.975 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:34:45.975] EXITING: CartServiceImpl.getCartItems returned: ArrayList
2026-02-20 14:34:45.976 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1845836336 wrapping org.postgresql.jdbc.PgConnection@4cce421e]
2026-02-20 14:34:45.978 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1125427832 wrapping org.postgresql.jdbc.PgConnection@4cce421e] read-only
2026-02-20 14:34:45.981 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:34:45.981] ENTERING: ReviewServiceImpl.getReviewsByUser with arguments: [24]
2026-02-20 14:34:45.982 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:34:45.982] TRANSACTION START: ReviewServiceImpl.getReviewsByUser(Integer)
2026-02-20 14:34:45.984 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select r1_0.review_id,r1_0.comment,r1_0.created_at,r1_0.helpful_count,r1_0.is_verified_purchase,r1_0.product_id,r1_0.rating,r1_0.title,r1_0.updated_at,r1_0.user_id from reviews r1_0 where r1_0.user_id=?
2026-02-20 14:34:45.987 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:34:45.990 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id=?
2026-02-20 14:34:45.992 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:34:45.992] TRANSACTION COMMIT: ReviewServiceImpl.getReviewsByUser(Integer)
2026-02-20 14:34:45.992 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:34:45.992] EXITING: ReviewServiceImpl.getReviewsByUser returned: ArrayList
2026-02-20 14:34:45.994 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1125427832 wrapping org.postgresql.jdbc.PgConnection@4cce421e]
2026-02-20 14:34:45.997 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@813240524 wrapping org.postgresql.jdbc.PgConnection@4cce421e] read-only
2026-02-20 14:34:46.000 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:34:46.000] ENTERING: ProductServiceImpl.getProductsByIds with arguments: [[41]]
2026-02-20 14:34:46.000 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:34:46.000] TRANSACTION START: ProductServiceImpl.getProductsByIds(List)
2026-02-20 14:34:46.001 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:34:46.016 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:34:46.022 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:34:46.022] TRANSACTION COMMIT: ProductServiceImpl.getProductsByIds(List)
2026-02-20 14:34:46.022 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:34:46.022] EXITING: ProductServiceImpl.getProductsByIds returned: ArrayList
2026-02-20 14:34:46.023 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@813240524 wrapping org.postgresql.jdbc.PgConnection@4cce421e]
2026-02-20 14:34:48.889 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1053687379 wrapping org.postgresql.jdbc.PgConnection@3af26d52] read-only
2026-02-20 14:34:48.890 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@2122339424 wrapping org.postgresql.jdbc.PgConnection@4cce421e] read-only
2026-02-20 14:34:48.891 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:34:48.890] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 14:34:48.891 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:34:48.891] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:34:48.892 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:34:48.889 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:34:48.889] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 14:34:48.922 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:34:48.922] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:34:48.933 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:34:48.934 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:34:48.934] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:34:48.963 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:34:48.963] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:34:48.974 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:34:48.974] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:34:48.975 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:34:48.975] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:34:48.976 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1053687379 wrapping org.postgresql.jdbc.PgConnection@3af26d52]
2026-02-20 14:34:48.982 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@2122339424 wrapping org.postgresql.jdbc.PgConnection@4cce421e]
2026-02-20 14:34:48.985 [http-nio-8080-exec-3] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 14:34:48.996 [http-nio-8080-exec-7] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 14:34:49.181 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CategoryController.getAllCategories with arguments: []
2026-02-20 14:34:49.230 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@502901951 wrapping org.postgresql.jdbc.PgConnection@3af26d52] read-only
2026-02-20 14:34:49.231 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:34:49.231] ENTERING: CategoryServiceImpl.getAllCategories with arguments: []
2026-02-20 14:34:49.284 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: ProductController.getProductsWithFilters with arguments: [null, null, null, null, null, null, null, true, 0, 8, productName, ASC]
2026-02-20 14:34:49.406 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:34:49.406] TRANSACTION START: CategoryServiceImpl.getAllCategories()
2026-02-20 14:34:49.756 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0
2026-02-20 14:34:49.865 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:34:49.865] TRANSACTION COMMIT: CategoryServiceImpl.getAllCategories()
2026-02-20 14:34:49.865 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:34:49.865] EXITING: CategoryServiceImpl.getAllCategories returned: ArrayList
2026-02-20 14:34:49.952 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@502901951 wrapping org.postgresql.jdbc.PgConnection@3af26d52]
2026-02-20 14:34:49.953 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CategoryController.getAllCategories responded in 724ms
2026-02-20 14:34:49.953 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CategoryController.getAllCategories returned: ResponseEntity
2026-02-20 14:34:50.323 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@751808401 wrapping org.postgresql.jdbc.PgConnection@4cce421e] read-only
2026-02-20 14:34:50.323 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:34:50.323] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 14:34:50.324 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:34:50.324] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:34:50.325 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:34:50.370 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:34:50.370] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:34:50.370 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:34:50.370] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:34:50.371 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@751808401 wrapping org.postgresql.jdbc.PgConnection@4cce421e]
2026-02-20 14:34:50.374 [http-nio-8080-exec-8] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 14:34:50.408 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1512371834 wrapping org.postgresql.jdbc.PgConnection@4cce421e] read-only
2026-02-20 14:34:50.402 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CategoryController.getAllCategories with arguments: []
2026-02-20 14:34:50.437 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:34:50.437] ENTERING: ProductServiceImpl.getProductsWithFilters with arguments: [com.shopjoy.dto.filter.ProductFilter@3d8e57b8, Page request [number: 0, size 8, sort: productName: ASC], productName, ASC]
2026-02-20 14:34:50.438 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CategoryController.getAllCategories responded in 1ms
2026-02-20 14:34:50.438 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CategoryController.getAllCategories returned: ResponseEntity
2026-02-20 14:34:50.562 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:34:50.562] TRANSACTION START: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 14:34:51.051 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?) order by p1_0.product_name fetch first ? rows only
2026-02-20 14:34:51.138 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:34:51.218 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:34:51.221 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:34:51.224 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:34:51.270 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:34:51.274 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:34:51.336 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:34:51.450 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:34:51.683 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select count(*) from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?)
2026-02-20 14:34:51.717 [http-nio-8080-exec-3] WARN  c.shopjoy.aspect.PerformanceAspect - SLOW DATABASE QUERY: $Proxy211.findWithFilters took 1.15s
2026-02-20 14:34:51.718 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id = any (?)
2026-02-20 14:34:51.816 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:34:51.752] TRANSACTION COMMIT: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 14:34:51.819 [http-nio-8080-exec-3] WARN  c.shopjoy.aspect.PerformanceAspect - SLOW SERVICE METHOD: ProductServiceImpl.getProductsWithFilters took 1.38s
2026-02-20 14:34:51.820 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:34:51.820] EXITING: ProductServiceImpl.getProductsWithFilters returned: PageImpl
2026-02-20 14:34:51.847 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1512371834 wrapping org.postgresql.jdbc.PgConnection@4cce421e]
2026-02-20 14:34:51.852 [http-nio-8080-exec-3] WARN  c.shopjoy.aspect.PerformanceAspect - SLOW API ENDPOINT: ProductController.getProductsWithFilters took 2.57s
2026-02-20 14:34:51.882 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: ProductController.getProductsWithFilters returned: ResponseEntity
2026-02-20 14:34:51.959 [http-nio-8080-exec-3] WARN  o.s.d.w.c.SpringDataJackson3Configuration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2026-02-20 14:34:52.174 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1544035022 wrapping org.postgresql.jdbc.PgConnection@4cce421e] read-only
2026-02-20 14:34:52.175 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:34:52.175] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 14:34:52.175 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:34:52.175] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:34:52.176 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:34:52.180 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:34:52.179] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:34:52.180 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:34:52.180] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:34:52.181 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1544035022 wrapping org.postgresql.jdbc.PgConnection@4cce421e]
2026-02-20 14:34:52.183 [http-nio-8080-exec-10] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 14:34:52.197 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: ProductController.getProductsWithFilters with arguments: [null, null, null, null, null, null, null, true, 0, 8, productName, ASC]
2026-02-20 14:34:52.198 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1248216598 wrapping org.postgresql.jdbc.PgConnection@4cce421e] read-only
2026-02-20 14:34:52.200 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:34:52.200] ENTERING: ProductServiceImpl.getProductsWithFilters with arguments: [com.shopjoy.dto.filter.ProductFilter@74c40cc7, Page request [number: 0, size 8, sort: productName: ASC], productName, ASC]
2026-02-20 14:34:52.201 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:34:52.201] TRANSACTION START: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 14:34:52.202 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?) order by p1_0.product_name fetch first ? rows only
2026-02-20 14:34:52.205 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:34:52.209 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:34:52.212 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:34:52.215 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:34:52.219 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:34:52.222 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:34:52.225 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:34:52.229 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:34:52.235 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select count(*) from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?)
2026-02-20 14:34:52.237 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id = any (?)
2026-02-20 14:34:52.242 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:34:52.242] TRANSACTION COMMIT: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 14:34:52.243 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:34:52.243] EXITING: ProductServiceImpl.getProductsWithFilters returned: PageImpl
2026-02-20 14:34:52.243 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1248216598 wrapping org.postgresql.jdbc.PgConnection@4cce421e]
2026-02-20 14:34:52.243 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint ProductController.getProductsWithFilters responded in 46ms
2026-02-20 14:34:52.243 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: ProductController.getProductsWithFilters returned: ResponseEntity
2026-02-20 14:34:55.906 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@440899929 wrapping org.postgresql.jdbc.PgConnection@4cce421e] read-only
2026-02-20 14:34:55.906 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:34:55.906] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 14:34:55.907 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:34:55.907] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:34:55.908 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:34:55.911 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:34:55.911] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:34:55.911 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:34:55.911] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:34:55.912 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@440899929 wrapping org.postgresql.jdbc.PgConnection@4cce421e]
2026-02-20 14:34:55.915 [http-nio-8080-exec-1] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 14:34:55.989 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.addToCart with arguments: [com.shopjoy.dto.request.AddToCartRequest@446e2130]
2026-02-20 14:34:55.991 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:34:55.991] ENTERING: CartServiceImpl.addToCart with arguments: [com.shopjoy.dto.request.AddToCartRequest@446e2130]
2026-02-20 14:34:55.993 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:34:55.993] TRANSACTION START: CartServiceImpl.addToCart(AddToCartRequest)
2026-02-20 14:34:56.001 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:34:56.001] TRANSACTION START: CartServiceImpl.addToCart(AddToCartRequest)
2026-02-20 14:34:56.009 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:34:56.009] ENTERING: ProductServiceImpl.getProductById with arguments: [70]
2026-02-20 14:34:56.010 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:34:56.009] TRANSACTION START: ProductServiceImpl.getProductById(Integer)
2026-02-20 14:34:56.011 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:34:56.022 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:34:56.024 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:34:56.024] TRANSACTION COMMIT: ProductServiceImpl.getProductById(Integer)
2026-02-20 14:34:56.025 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:34:56.024] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-02-20 14:34:56.026 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:34:56.026] ENTERING: InventoryServiceImpl.hasAvailableStock with arguments: [70, 1]
2026-02-20 14:34:56.037 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:34:56.037] TRANSACTION START: InventoryServiceImpl.hasAvailableStock(Integer, int)
2026-02-20 14:34:56.096 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:34:56.108 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:34:56.101] TRANSACTION COMMIT: InventoryServiceImpl.hasAvailableStock(Integer, int)
2026-02-20 14:34:56.110 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:34:56.110] EXITING: InventoryServiceImpl.hasAvailableStock returned: Boolean
2026-02-20 14:34:56.169 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 where ci1_0.user_id=? and ci1_0.product_id=?
2026-02-20 14:34:56.190 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - insert into cart_items (added_at,product_id,quantity,user_id) values (?,?,?,?)
2026-02-20 14:34:56.228 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:34:56.228] TRANSACTION COMMIT: CartServiceImpl.addToCart(AddToCartRequest)
2026-02-20 14:34:56.228 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:34:56.228] TRANSACTION COMMIT: CartServiceImpl.addToCart(AddToCartRequest)
2026-02-20 14:34:56.229 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:34:56.229] EXITING: CartServiceImpl.addToCart returned: CartItemResponse
2026-02-20 14:34:56.259 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.addToCart responded in 270ms
2026-02-20 14:34:56.263 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.addToCart returned: ResponseEntity
2026-02-20 14:34:57.841 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@600551801 wrapping org.postgresql.jdbc.PgConnection@4cce421e] read-only
2026-02-20 14:34:57.841 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:34:57.841] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 14:34:57.842 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:34:57.842] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:34:57.843 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:34:57.848 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:34:57.848] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:34:57.849 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:34:57.849] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:34:57.855 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@600551801 wrapping org.postgresql.jdbc.PgConnection@4cce421e]
2026-02-20 14:34:57.858 [http-nio-8080-exec-2] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 14:34:57.872 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.addToCart with arguments: [com.shopjoy.dto.request.AddToCartRequest@5c462441]
2026-02-20 14:34:57.876 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:34:57.876] ENTERING: CartServiceImpl.addToCart with arguments: [com.shopjoy.dto.request.AddToCartRequest@5c462441]
2026-02-20 14:34:57.876 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:34:57.876] TRANSACTION START: CartServiceImpl.addToCart(AddToCartRequest)
2026-02-20 14:34:57.876 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:34:57.876] TRANSACTION START: CartServiceImpl.addToCart(AddToCartRequest)
2026-02-20 14:34:57.877 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:34:57.877] ENTERING: ProductServiceImpl.getProductById with arguments: [36]
2026-02-20 14:34:57.878 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:34:57.878] TRANSACTION START: ProductServiceImpl.getProductById(Integer)
2026-02-20 14:34:57.879 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:34:57.894 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:34:57.896 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:34:57.896] TRANSACTION COMMIT: ProductServiceImpl.getProductById(Integer)
2026-02-20 14:34:57.896 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:34:57.896] EXITING: ProductServiceImpl.getProductById returned: ProductResponse
2026-02-20 14:34:57.898 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:34:57.898] ENTERING: InventoryServiceImpl.hasAvailableStock with arguments: [36, 1]
2026-02-20 14:34:57.898 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:34:57.898] TRANSACTION START: InventoryServiceImpl.hasAvailableStock(Integer, int)
2026-02-20 14:34:57.906 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:34:57.912 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:34:57.912] TRANSACTION COMMIT: InventoryServiceImpl.hasAvailableStock(Integer, int)
2026-02-20 14:34:57.913 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:34:57.913] EXITING: InventoryServiceImpl.hasAvailableStock returned: Boolean
2026-02-20 14:34:57.926 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 where ci1_0.user_id=? and ci1_0.product_id=?
2026-02-20 14:34:57.935 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - insert into cart_items (added_at,product_id,quantity,user_id) values (?,?,?,?)
2026-02-20 14:34:57.942 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:34:57.942] TRANSACTION COMMIT: CartServiceImpl.addToCart(AddToCartRequest)
2026-02-20 14:34:57.942 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:34:57.942] TRANSACTION COMMIT: CartServiceImpl.addToCart(AddToCartRequest)
2026-02-20 14:34:57.942 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:34:57.942] EXITING: CartServiceImpl.addToCart returned: CartItemResponse
2026-02-20 14:34:57.944 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.addToCart responded in 68ms
2026-02-20 14:34:57.944 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.addToCart returned: ResponseEntity
2026-02-20 14:35:00.631 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@2066174922 wrapping org.postgresql.jdbc.PgConnection@4cce421e] read-only
2026-02-20 14:35:00.631 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:35:00.631] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 14:35:00.633 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:35:00.631] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:35:00.634 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1453636424 wrapping org.postgresql.jdbc.PgConnection@3af26d52] read-only
2026-02-20 14:35:00.634 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:35:00.634] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 14:35:00.634 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:35:00.634] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:35:00.635 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:35:00.638 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:35:00.641 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:35:00.641] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:35:00.641 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:35:00.641] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:35:00.641 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@2066174922 wrapping org.postgresql.jdbc.PgConnection@4cce421e]
2026-02-20 14:35:00.642 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:35:00.642] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:35:00.642 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:35:00.642] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:35:00.645 [http-nio-8080-exec-5] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 14:35:00.648 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1453636424 wrapping org.postgresql.jdbc.PgConnection@3af26d52]
2026-02-20 14:35:00.653 [http-nio-8080-exec-6] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 14:35:00.659 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.getCartItems with arguments: [24]
2026-02-20 14:35:00.662 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1400477620 wrapping org.postgresql.jdbc.PgConnection@4cce421e] read-only
2026-02-20 14:35:00.662 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:35:00.662] ENTERING: CartServiceImpl.getCartItems with arguments: [24]
2026-02-20 14:35:00.664 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:35:00.663] TRANSACTION START: CartServiceImpl.getCartItems(Integer)
2026-02-20 14:35:00.666 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.getCartTotal with arguments: [24]
2026-02-20 14:35:00.669 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 where ci1_0.user_id=?
2026-02-20 14:35:00.673 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-20 14:35:00.683 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:35:00.683] TRANSACTION COMMIT: CartServiceImpl.getCartItems(Integer)
2026-02-20 14:35:00.684 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@2092803121 wrapping org.postgresql.jdbc.PgConnection@3af26d52] read-only
2026-02-20 14:35:00.686 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:35:00.686] EXITING: CartServiceImpl.getCartItems returned: ArrayList
2026-02-20 14:35:00.686 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:35:00.686] ENTERING: CartServiceImpl.getCartTotal with arguments: [24]
2026-02-20 14:35:00.687 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:35:00.687] TRANSACTION START: CartServiceImpl.getCartTotal(Integer)
2026-02-20 14:35:00.687 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1400477620 wrapping org.postgresql.jdbc.PgConnection@4cce421e]
2026-02-20 14:35:00.688 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.getCartItems responded in 29ms
2026-02-20 14:35:00.688 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.getCartItems returned: ResponseEntity
2026-02-20 14:35:00.702 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 where ci1_0.user_id=?
2026-02-20 14:35:00.706 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-20 14:35:00.709 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1457911029 wrapping org.postgresql.jdbc.PgConnection@4cce421e] read-only
2026-02-20 14:35:00.710 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:35:00.710] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 14:35:00.710 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:35:00.710] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:35:00.711 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:35:00.715 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:35:00.715] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:35:00.715 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:35:00.715] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:35:00.716 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1457911029 wrapping org.postgresql.jdbc.PgConnection@4cce421e]
2026-02-20 14:35:00.732 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:35:00.732] TRANSACTION COMMIT: CartServiceImpl.getCartTotal(Integer)
2026-02-20 14:35:00.732 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:35:00.732] EXITING: CartServiceImpl.getCartTotal returned: Double
2026-02-20 14:35:00.734 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@2092803121 wrapping org.postgresql.jdbc.PgConnection@3af26d52]
2026-02-20 14:35:00.734 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.getCartTotal responded in 68ms
2026-02-20 14:35:00.734 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.getCartTotal returned: ResponseEntity
2026-02-20 14:35:00.738 [http-nio-8080-exec-9] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 14:35:00.743 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.getCartItems with arguments: [24]
2026-02-20 14:35:00.748 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.getCartItems responded in 0ms
2026-02-20 14:35:00.748 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.getCartItems returned: ResponseEntity
2026-02-20 14:35:00.786 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1340082432 wrapping org.postgresql.jdbc.PgConnection@4cce421e] read-only
2026-02-20 14:35:00.787 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:35:00.787] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 14:35:00.787 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:35:00.787] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:35:00.823 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:35:00.856 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:35:00.856] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:35:00.856 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:35:00.856] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:35:00.857 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1340082432 wrapping org.postgresql.jdbc.PgConnection@4cce421e]
2026-02-20 14:35:00.859 [http-nio-8080-exec-4] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 14:35:00.877 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.getCartTotal with arguments: [24]
2026-02-20 14:35:00.878 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.getCartTotal responded in 1ms
2026-02-20 14:35:00.878 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.getCartTotal returned: ResponseEntity
2026-02-20 14:35:03.468 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1391552762 wrapping org.postgresql.jdbc.PgConnection@3af26d52] read-only
2026-02-20 14:35:03.468 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:35:03.468] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 14:35:03.468 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:35:03.468] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:35:03.469 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:35:03.472 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:35:03.472] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:35:03.472 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:35:03.472] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:35:03.473 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1391552762 wrapping org.postgresql.jdbc.PgConnection@3af26d52]
2026-02-20 14:35:03.502 [http-nio-8080-exec-7] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 14:35:04.182 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: OrderController.createOrder with arguments: [com.shopjoy.dto.request.CreateOrderRequest@3ca916c2]
2026-02-20 14:35:04.208 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Changing isolation level of JDBC Connection [HikariProxyConnection@692866779 wrapping org.postgresql.jdbc.PgConnection@3af26d52] to 8
2026-02-20 14:35:04.232 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - DATA MODIFICATION STARTED: OrderServiceImpl.createOrder(CreateOrderRequest) with arguments: [com.shopjoy.dto.request.CreateOrderRequest@3ca916c2]
2026-02-20 14:35:04.232 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:35:04.232] ENTERING: OrderServiceImpl.createOrder with arguments: [com.shopjoy.dto.request.CreateOrderRequest@3ca916c2]
2026-02-20 14:35:04.256 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:35:04.255] TRANSACTIONAL DATA MODIFICATION: OrderServiceImpl.createOrder(CreateOrderRequest) with arguments: [com.shopjoy.dto.request.CreateOrderRequest@3ca916c2]
2026-02-20 14:35:04.269 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:35:04.269] TRANSACTION START: OrderServiceImpl.createOrder(CreateOrderRequest)
2026-02-20 14:35:04.281 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:35:04.281] TRANSACTION START: OrderServiceImpl.createOrder(CreateOrderRequest)
2026-02-20 14:35:04.286 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:35:04.286] ENTERING: UserServiceImpl.getUserById with arguments: [24]
2026-02-20 14:35:04.334 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:35:04.334] TRANSACTION START: UserServiceImpl.getUserById(Integer)
2026-02-20 14:35:04.349 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id=?
2026-02-20 14:35:04.360 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:35:04.360] TRANSACTION COMMIT: UserServiceImpl.getUserById(Integer)
2026-02-20 14:35:04.364 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:35:04.364] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-02-20 14:35:04.366 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:35:04.366] ENTERING: ProductServiceImpl.getProductsByIds with arguments: [[43, 44]]
2026-02-20 14:35:04.366 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:35:04.366] TRANSACTION START: ProductServiceImpl.getProductsByIds(List)
2026-02-20 14:35:04.379 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:35:04.400 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:35:04.429 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:35:04.432 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:35:04.432] TRANSACTION COMMIT: ProductServiceImpl.getProductsByIds(List)
2026-02-20 14:35:04.432 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:35:04.432] EXITING: ProductServiceImpl.getProductsByIds returned: ArrayList
2026-02-20 14:35:04.434 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:35:04.433] ENTERING: InventoryServiceImpl.hasAvailableStock with arguments: [43, 1]
2026-02-20 14:35:04.434 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:35:04.434] TRANSACTION START: InventoryServiceImpl.hasAvailableStock(Integer, int)
2026-02-20 14:35:04.454 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:35:04.489 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:35:04.489] TRANSACTION COMMIT: InventoryServiceImpl.hasAvailableStock(Integer, int)
2026-02-20 14:35:04.490 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:35:04.490] EXITING: InventoryServiceImpl.hasAvailableStock returned: Boolean
2026-02-20 14:35:04.538 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:35:04.538] ENTERING: InventoryServiceImpl.hasAvailableStock with arguments: [44, 1]
2026-02-20 14:35:04.538 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:35:04.538] TRANSACTION START: InventoryServiceImpl.hasAvailableStock(Integer, int)
2026-02-20 14:35:04.554 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:35:04.573 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:35:04.572] TRANSACTION COMMIT: InventoryServiceImpl.hasAvailableStock(Integer, int)
2026-02-20 14:35:04.577 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:35:04.573] EXITING: InventoryServiceImpl.hasAvailableStock returned: Boolean
2026-02-20 14:35:04.594 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:35:04.594] ENTERING: InventoryServiceImpl.reserveStock with arguments: [43, 1]
2026-02-20 14:35:04.602 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:35:04.602] TRANSACTION START: InventoryServiceImpl.reserveStock(Integer, int)
2026-02-20 14:35:04.602 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:35:04.602] TRANSACTION START: InventoryServiceImpl.reserveStock(Integer, int)
2026-02-20 14:35:04.738 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:35:04.767 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:35:04.767] TRANSACTION COMMIT: InventoryServiceImpl.reserveStock(Integer, int)
2026-02-20 14:35:04.767 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:35:04.767] TRANSACTION COMMIT: InventoryServiceImpl.reserveStock(Integer, int)
2026-02-20 14:35:04.768 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:35:04.768] EXITING: InventoryServiceImpl.reserveStock returned: void
2026-02-20 14:35:04.806 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:35:04.806] ENTERING: InventoryServiceImpl.reserveStock with arguments: [44, 1]
2026-02-20 14:35:04.816 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:35:04.816] TRANSACTION START: InventoryServiceImpl.reserveStock(Integer, int)
2026-02-20 14:35:04.816 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:35:04.816] TRANSACTION START: InventoryServiceImpl.reserveStock(Integer, int)
2026-02-20 14:35:04.886 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - update inventory set last_restocked=?,product_id=?,quantity_in_stock=?,reorder_level=?,updated_at=?,warehouse_location=? where inventory_id=?
2026-02-20 14:35:04.907 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:35:04.912 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:35:04.911] TRANSACTION COMMIT: InventoryServiceImpl.reserveStock(Integer, int)
2026-02-20 14:35:04.912 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:35:04.912] TRANSACTION COMMIT: InventoryServiceImpl.reserveStock(Integer, int)
2026-02-20 14:35:04.912 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:35:04.912] EXITING: InventoryServiceImpl.reserveStock returned: void
2026-02-20 14:35:04.921 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - insert into orders (created_at,notes,order_date,payment_method,payment_status,shipping_address,status,total_amount,updated_at,user_id) values (?,?,?,?,?,?,?,?,?,?)
2026-02-20 14:35:04.996 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - insert into order_items (created_at,order_id,product_id,quantity,subtotal,unit_price) values (?,?,?,?,?,?)
2026-02-20 14:35:05.050 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - insert into order_items (created_at,order_id,product_id,quantity,subtotal,unit_price) values (?,?,?,?,?,?)
2026-02-20 14:35:05.082 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:35:05.082] ENTERING: SecurityAuditServiceImpl.logEvent with arguments: [eugene_6177, ORDER_CREATED, Order #29 created with 2 items, total amount: $199.98, true]
2026-02-20 14:35:05.132 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:35:05.132] TRANSACTION START: SecurityAuditServiceImpl.logEvent(String, SecurityEventType, String, Boolean)
2026-02-20 14:35:05.237 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - insert into security_audit_logs (details,event_type,ip_address,success,timestamp,user_agent,username) values (?,?,?,?,?,?,?)
2026-02-20 14:35:05.483 [http-nio-8080-exec-7] WARN  org.hibernate.orm.jdbc.error - HHH000247: ErrorCode: 0, SQLState: 23514
2026-02-20 14:35:05.483 [http-nio-8080-exec-7] WARN  org.hibernate.orm.jdbc.error - ERROR: new row for relation "security_audit_logs" violates check constraint "chk_event_type"
  Detail: Failing row contains (2, eugene_6177, ORDER_CREATED, null, null, 2026-02-20 14:35:05.236143, Order #29 created with 2 items, total amount: $199.98, t).
2026-02-20 14:35:05.670 [http-nio-8080-exec-7] ERROR com.shopjoy.aspect.LoggingAspect - DB EXCEPTION in $Proxy192.save with arguments: [com.shopjoy.entity.SecurityAuditLog@a434f28]
2026-02-20 14:35:05.670 [http-nio-8080-exec-7] ERROR com.shopjoy.aspect.LoggingAspect - Database exception: could not execute statement [ERROR: new row for relation "security_audit_logs" violates check constraint "chk_event_type"
  Detail: Failing row contains (2, eugene_6177, ORDER_CREATED, null, null, 2026-02-20 14:35:05.236143, Order #29 created with 2 items, total amount: $199.98, t).] [insert into security_audit_logs (details,event_type,ip_address,success,timestamp,user_agent,username) values (?,?,?,?,?,?,?)]; SQL [insert into security_audit_logs (details,event_type,ip_address,success,timestamp,user_agent,username) values (?,?,?,?,?,?,?)]; constraint [chk_event_type]
2026-02-20 14:35:05.670 [http-nio-8080-exec-7] ERROR com.shopjoy.aspect.LoggingAspect - Stack trace:
org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: new row for relation "security_audit_logs" violates check constraint "chk_event_type"
  Detail: Failing row contains (2, eugene_6177, ORDER_CREATED, null, null, 2026-02-20 14:35:05.236143, Order #29 created with 2 items, total amount: $199.98, t).] [insert into security_audit_logs (details,event_type,ip_address,success,timestamp,user_agent,username) values (?,?,?,?,?,?,?)]; SQL [insert into security_audit_logs (details,event_type,ip_address,success,timestamp,user_agent,username) values (?,?,?,?,?,?,?)]; constraint [chk_event_type]
	at org.springframework.orm.jpa.hibernate.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:169)
	at org.springframework.orm.jpa.hibernate.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:131)
	at org.springframework.orm.jpa.hibernate.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:105)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:199)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:556)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:346)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:157)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:166)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:222)
	at jdk.proxy2/jdk.proxy2.$Proxy192.save(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.PerformanceAspect.monitorDatabasePerformance(PerformanceAspect.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:222)
	at jdk.proxy2/jdk.proxy2.$Proxy192.save(Unknown Source)
	at com.shopjoy.service.impl.SecurityAuditServiceImpl.logEvent(SecurityAuditServiceImpl.java:62)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.TransactionAspect.monitorTransactionDuration(TransactionAspect.java:68)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.PerformanceAspect.monitorServicePerformance(PerformanceAspect.java:34)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:133)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:371)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:130)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.shopjoy.service.impl.SecurityAuditServiceImpl$$SpringCGLIB$$0.logEvent(<generated>)
	at com.shopjoy.service.impl.OrderServiceImpl.createOrder(OrderServiceImpl.java:92)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.TransactionAspect.monitorTransactionDuration(TransactionAspect.java:68)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.PerformanceAspect.monitorServicePerformance(PerformanceAspect.java:34)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.LoggingAspect.logDataModificationMethods(LoggingAspect.java:121)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:133)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:371)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:130)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:54)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:424)
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:589)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:440)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:404)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:64)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.shopjoy.service.impl.OrderServiceImpl$$SpringCGLIB$$0.createOrder(<generated>)
	at com.shopjoy.controller.OrderController.createOrder(OrderController.java:47)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.PerformanceAspect.monitorApiPerformance(PerformanceAspect.java:101)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:271)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:266)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:197)
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.shopjoy.controller.OrderController$$SpringCGLIB$$0.createOrder(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:493)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:354)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:86)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:132)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:246)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:232)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.ui.DefaultResourcesFilter.doFilter(DefaultResourcesFilter.java:73)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at com.shopjoy.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:125)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:245)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:239)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:195)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:337)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [ERROR: new row for relation "security_audit_logs" violates check constraint "chk_event_type"
  Detail: Failing row contains (2, eugene_6177, ORDER_CREATED, null, null, 2026-02-20 14:35:05.236143, Order #29 created with 2 items, total amount: $199.98, t).] [insert into security_audit_logs (details,event_type,ip_address,success,timestamp,user_agent,username) values (?,?,?,?,?,?,?)]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:73)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:34)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:115)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:184)
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:103)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:45)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:66)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:180)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:120)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:84)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:667)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:291)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:270)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:322)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:371)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:285)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:215)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:133)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:145)
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:89)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:73)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:49)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:138)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:689)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:672)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:317)
	at jdk.proxy2/jdk.proxy2.$Proxy186.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:664)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:278)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:169)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:545)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:290)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:690)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:171)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:146)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:133)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:371)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:130)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:135)
	... 317 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: new row for relation "security_audit_logs" violates check constraint "chk_event_type"
  Detail: Failing row contains (2, eugene_6177, ORDER_CREATED, null, null, 2026-02-20 14:35:05.236143, Order #29 created with 2 items, total amount: $199.98, t).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2846)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2531)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:429)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:526)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:436)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:196)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:157)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:181)
	... 365 common frames omitted
2026-02-20 14:35:05.786 [http-nio-8080-exec-7] ERROR c.s.s.impl.SecurityAuditServiceImpl - Failed to log security event: ORDER_CREATED for user: eugene_6177
org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: new row for relation "security_audit_logs" violates check constraint "chk_event_type"
  Detail: Failing row contains (2, eugene_6177, ORDER_CREATED, null, null, 2026-02-20 14:35:05.236143, Order #29 created with 2 items, total amount: $199.98, t).] [insert into security_audit_logs (details,event_type,ip_address,success,timestamp,user_agent,username) values (?,?,?,?,?,?,?)]; SQL [insert into security_audit_logs (details,event_type,ip_address,success,timestamp,user_agent,username) values (?,?,?,?,?,?,?)]; constraint [chk_event_type]
	at org.springframework.orm.jpa.hibernate.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:169)
	at org.springframework.orm.jpa.hibernate.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:131)
	at org.springframework.orm.jpa.hibernate.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:105)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:199)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:556)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:346)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:157)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:166)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:222)
	at jdk.proxy2/jdk.proxy2.$Proxy192.save(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.PerformanceAspect.monitorDatabasePerformance(PerformanceAspect.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:222)
	at jdk.proxy2/jdk.proxy2.$Proxy192.save(Unknown Source)
	at com.shopjoy.service.impl.SecurityAuditServiceImpl.logEvent(SecurityAuditServiceImpl.java:62)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.TransactionAspect.monitorTransactionDuration(TransactionAspect.java:68)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.PerformanceAspect.monitorServicePerformance(PerformanceAspect.java:34)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:133)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:371)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:130)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.shopjoy.service.impl.SecurityAuditServiceImpl$$SpringCGLIB$$0.logEvent(<generated>)
	at com.shopjoy.service.impl.OrderServiceImpl.createOrder(OrderServiceImpl.java:92)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.TransactionAspect.monitorTransactionDuration(TransactionAspect.java:68)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.PerformanceAspect.monitorServicePerformance(PerformanceAspect.java:34)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.LoggingAspect.logDataModificationMethods(LoggingAspect.java:121)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:133)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:371)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:130)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:54)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:424)
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:589)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:440)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:404)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:64)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.shopjoy.service.impl.OrderServiceImpl$$SpringCGLIB$$0.createOrder(<generated>)
	at com.shopjoy.controller.OrderController.createOrder(OrderController.java:47)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.PerformanceAspect.monitorApiPerformance(PerformanceAspect.java:101)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:271)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:266)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:197)
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.shopjoy.controller.OrderController$$SpringCGLIB$$0.createOrder(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:493)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:354)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:86)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:132)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:246)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:232)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.ui.DefaultResourcesFilter.doFilter(DefaultResourcesFilter.java:73)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at com.shopjoy.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:125)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:245)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:239)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:195)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:337)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:1474)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [ERROR: new row for relation "security_audit_logs" violates check constraint "chk_event_type"
  Detail: Failing row contains (2, eugene_6177, ORDER_CREATED, null, null, 2026-02-20 14:35:05.236143, Order #29 created with 2 items, total amount: $199.98, t).] [insert into security_audit_logs (details,event_type,ip_address,success,timestamp,user_agent,username) values (?,?,?,?,?,?,?)]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:73)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:34)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:115)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:184)
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:103)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:45)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:66)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:180)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:120)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:84)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:667)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:291)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:270)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:322)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:371)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:285)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:215)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:133)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:145)
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:89)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:73)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:49)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:138)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:689)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:672)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:317)
	at jdk.proxy2/jdk.proxy2.$Proxy186.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:664)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:278)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:169)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:545)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:290)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:690)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:171)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:146)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:133)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:371)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:130)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:135)
	... 317 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: new row for relation "security_audit_logs" violates check constraint "chk_event_type"
  Detail: Failing row contains (2, eugene_6177, ORDER_CREATED, null, null, 2026-02-20 14:35:05.236143, Order #29 created with 2 items, total amount: $199.98, t).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2846)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2531)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:429)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:526)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:436)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:196)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:157)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:181)
	... 365 common frames omitted
2026-02-20 14:35:05.789 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:35:05.789] TRANSACTION COMMIT: SecurityAuditServiceImpl.logEvent(String, SecurityEventType, String, Boolean)
2026-02-20 14:35:05.789 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:35:05.789] EXITING: SecurityAuditServiceImpl.logEvent returned: void
2026-02-20 14:35:05.818 [http-nio-8080-exec-7] ERROR org.hibernate.orm.core - HHH000099: an assertion failure occurred (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: Entry for instance of 'com.shopjoy.entity.SecurityAuditLog' has a null identifier (this can happen if the session is flushed after an exception occurs)
2026-02-20 14:35:05.836 [http-nio-8080-exec-7] ERROR com.shopjoy.aspect.LoggingAspect - DB EXCEPTION in $Proxy214.findUserIdByOrderId with arguments: [29]
2026-02-20 14:35:05.836 [http-nio-8080-exec-7] ERROR com.shopjoy.aspect.LoggingAspect - Database exception: Entry for instance of 'com.shopjoy.entity.SecurityAuditLog' has a null identifier (this can happen if the session is flushed after an exception occurs)
2026-02-20 14:35:05.836 [http-nio-8080-exec-7] ERROR com.shopjoy.aspect.LoggingAspect - Stack trace:
org.hibernate.AssertionFailure: Entry for instance of 'com.shopjoy.entity.SecurityAuditLog' has a null identifier (this can happen if the session is flushed after an exception occurs)
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.checkId(DefaultFlushEntityEventListener.java:69)
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.getValues(DefaultFlushEntityEventListener.java:172)
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.onFlushEntity(DefaultFlushEntityEventListener.java:131)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:138)
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEntities(AbstractFlushingEventListener.java:229)
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:69)
	at org.hibernate.event.internal.DefaultAutoFlushEventListener.onAutoFlush(DefaultAutoFlushEventListener.java:47)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:138)
	at org.hibernate.internal.SessionImpl.autoFlushIfRequired(SessionImpl.java:1440)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:126)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:427)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:355)
	at org.hibernate.query.sqm.internal.SqmQueryImpl.doList(SqmQueryImpl.java:374)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:153)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResultOrNull(AbstractSelectionQuery.java:330)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:328)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:99)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:164)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:154)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:169)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:167)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:146)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:133)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:371)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:130)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:222)
	at jdk.proxy2/jdk.proxy2.$Proxy214.findUserIdByOrderId(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.PerformanceAspect.monitorDatabasePerformance(PerformanceAspect.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:222)
	at jdk.proxy2/jdk.proxy2.$Proxy214.findUserIdByOrderId(Unknown Source)
	at com.shopjoy.service.impl.OrderServiceImpl.getOrderById(OrderServiceImpl.java:121)
	at com.shopjoy.service.impl.OrderServiceImpl.createOrder(OrderServiceImpl.java:102)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.TransactionAspect.monitorTransactionDuration(TransactionAspect.java:68)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.PerformanceAspect.monitorServicePerformance(PerformanceAspect.java:34)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.LoggingAspect.logDataModificationMethods(LoggingAspect.java:121)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:133)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:371)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:130)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:54)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:424)
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:589)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:440)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:404)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:64)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.shopjoy.service.impl.OrderServiceImpl$$SpringCGLIB$$0.createOrder(<generated>)
	at com.shopjoy.controller.OrderController.createOrder(OrderController.java:47)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.PerformanceAspect.monitorApiPerformance(PerformanceAspect.java:101)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:271)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:266)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:197)
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.shopjoy.controller.OrderController$$SpringCGLIB$$0.createOrder(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:493)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:354)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:86)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:132)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:246)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:232)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.ui.DefaultResourcesFilter.doFilter(DefaultResourcesFilter.java:73)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at com.shopjoy.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:125)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:245)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:239)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:195)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:337)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:1474)
2026-02-20 14:35:05.866 [http-nio-8080-exec-7] ERROR c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:35:05.866] TRANSACTION ROLLBACK: OrderServiceImpl.createOrder(CreateOrderRequest) - Exception: Entry for instance of 'com.shopjoy.entity.SecurityAuditLog' has a null identifier (this can happen if the session is flushed after an exception occurs)
2026-02-20 14:35:05.867 [http-nio-8080-exec-7] ERROR c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:35:05.867] TRANSACTION ROLLBACK: OrderServiceImpl.createOrder(CreateOrderRequest) - Exception: Entry for instance of 'com.shopjoy.entity.SecurityAuditLog' has a null identifier (this can happen if the session is flushed after an exception occurs)
2026-02-20 14:35:05.868 [http-nio-8080-exec-7] ERROR c.shopjoy.aspect.TransactionAspect - Transaction OrderServiceImpl.createOrder(CreateOrderRequest) failed after 1.61s with exception: Entry for instance of 'com.shopjoy.entity.SecurityAuditLog' has a null identifier (this can happen if the session is flushed after an exception occurs)
2026-02-20 14:35:05.868 [http-nio-8080-exec-7] ERROR com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:35:05.868] EXCEPTION in OrderServiceImpl.createOrder with arguments: [com.shopjoy.dto.request.CreateOrderRequest@3ca916c2]
2026-02-20 14:35:05.868 [http-nio-8080-exec-7] ERROR com.shopjoy.aspect.LoggingAspect - Exception type: AssertionFailure
2026-02-20 14:35:05.868 [http-nio-8080-exec-7] ERROR com.shopjoy.aspect.LoggingAspect - Exception message: Entry for instance of 'com.shopjoy.entity.SecurityAuditLog' has a null identifier (this can happen if the session is flushed after an exception occurs)
2026-02-20 14:35:05.868 [http-nio-8080-exec-7] ERROR com.shopjoy.aspect.LoggingAspect - Stack trace:
org.hibernate.AssertionFailure: Entry for instance of 'com.shopjoy.entity.SecurityAuditLog' has a null identifier (this can happen if the session is flushed after an exception occurs)
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.checkId(DefaultFlushEntityEventListener.java:69)
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.getValues(DefaultFlushEntityEventListener.java:172)
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.onFlushEntity(DefaultFlushEntityEventListener.java:131)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:138)
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEntities(AbstractFlushingEventListener.java:229)
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:69)
	at org.hibernate.event.internal.DefaultAutoFlushEventListener.onAutoFlush(DefaultAutoFlushEventListener.java:47)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:138)
	at org.hibernate.internal.SessionImpl.autoFlushIfRequired(SessionImpl.java:1440)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:126)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:427)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:355)
	at org.hibernate.query.sqm.internal.SqmQueryImpl.doList(SqmQueryImpl.java:374)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:153)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResultOrNull(AbstractSelectionQuery.java:330)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:328)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:99)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:164)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:154)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:169)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:167)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:146)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:133)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:371)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:130)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:222)
	at jdk.proxy2/jdk.proxy2.$Proxy214.findUserIdByOrderId(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.PerformanceAspect.monitorDatabasePerformance(PerformanceAspect.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:222)
	at jdk.proxy2/jdk.proxy2.$Proxy214.findUserIdByOrderId(Unknown Source)
	at com.shopjoy.service.impl.OrderServiceImpl.getOrderById(OrderServiceImpl.java:121)
	at com.shopjoy.service.impl.OrderServiceImpl.createOrder(OrderServiceImpl.java:102)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.TransactionAspect.monitorTransactionDuration(TransactionAspect.java:68)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.PerformanceAspect.monitorServicePerformance(PerformanceAspect.java:34)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.LoggingAspect.logDataModificationMethods(LoggingAspect.java:121)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:133)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:371)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:130)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:54)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:424)
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:589)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:440)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:404)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:64)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.shopjoy.service.impl.OrderServiceImpl$$SpringCGLIB$$0.createOrder(<generated>)
	at com.shopjoy.controller.OrderController.createOrder(OrderController.java:47)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.PerformanceAspect.monitorApiPerformance(PerformanceAspect.java:101)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:271)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:266)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:197)
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.shopjoy.controller.OrderController$$SpringCGLIB$$0.createOrder(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:493)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:354)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:86)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:132)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:246)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:232)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.ui.DefaultResourcesFilter.doFilter(DefaultResourcesFilter.java:73)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at com.shopjoy.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:125)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:245)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:239)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:195)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:337)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:1474)
2026-02-20 14:35:05.898 [http-nio-8080-exec-7] ERROR com.shopjoy.aspect.LoggingAspect - DATA MODIFICATION FAILED: OrderServiceImpl.createOrder(CreateOrderRequest) after 1.67s with exception: Entry for instance of 'com.shopjoy.entity.SecurityAuditLog' has a null identifier (this can happen if the session is flushed after an exception occurs)
2026-02-20 14:35:05.944 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting isolation level of JDBC Connection [HikariProxyConnection@692866779 wrapping org.postgresql.jdbc.PgConnection@3af26d52] to 2
2026-02-20 14:35:05.965 [http-nio-8080-exec-7] ERROR com.shopjoy.aspect.LoggingAspect - API ENDPOINT EXCEPTION in OrderController.createOrder with arguments: [com.shopjoy.dto.request.CreateOrderRequest@3ca916c2]
2026-02-20 14:35:05.965 [http-nio-8080-exec-7] ERROR com.shopjoy.aspect.LoggingAspect - Controller exception: Entry for instance of 'com.shopjoy.entity.SecurityAuditLog' has a null identifier (this can happen if the session is flushed after an exception occurs)
2026-02-20 14:35:05.965 [http-nio-8080-exec-7] ERROR com.shopjoy.aspect.LoggingAspect - Stack trace:
org.hibernate.AssertionFailure: Entry for instance of 'com.shopjoy.entity.SecurityAuditLog' has a null identifier (this can happen if the session is flushed after an exception occurs)
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.checkId(DefaultFlushEntityEventListener.java:69)
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.getValues(DefaultFlushEntityEventListener.java:172)
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.onFlushEntity(DefaultFlushEntityEventListener.java:131)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:138)
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEntities(AbstractFlushingEventListener.java:229)
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:69)
	at org.hibernate.event.internal.DefaultAutoFlushEventListener.onAutoFlush(DefaultAutoFlushEventListener.java:47)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:138)
	at org.hibernate.internal.SessionImpl.autoFlushIfRequired(SessionImpl.java:1440)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:126)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:427)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:355)
	at org.hibernate.query.sqm.internal.SqmQueryImpl.doList(SqmQueryImpl.java:374)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:153)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResultOrNull(AbstractSelectionQuery.java:330)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:328)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:99)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:164)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:154)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:169)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:167)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:146)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:133)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:371)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:130)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:222)
	at jdk.proxy2/jdk.proxy2.$Proxy214.findUserIdByOrderId(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.PerformanceAspect.monitorDatabasePerformance(PerformanceAspect.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:222)
	at jdk.proxy2/jdk.proxy2.$Proxy214.findUserIdByOrderId(Unknown Source)
	at com.shopjoy.service.impl.OrderServiceImpl.getOrderById(OrderServiceImpl.java:121)
	at com.shopjoy.service.impl.OrderServiceImpl.createOrder(OrderServiceImpl.java:102)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.TransactionAspect.monitorTransactionDuration(TransactionAspect.java:68)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.PerformanceAspect.monitorServicePerformance(PerformanceAspect.java:34)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.LoggingAspect.logDataModificationMethods(LoggingAspect.java:121)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:133)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:371)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:130)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:54)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:424)
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:589)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:440)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:404)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:64)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.shopjoy.service.impl.OrderServiceImpl$$SpringCGLIB$$0.createOrder(<generated>)
	at com.shopjoy.controller.OrderController.createOrder(OrderController.java:47)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.PerformanceAspect.monitorApiPerformance(PerformanceAspect.java:101)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:271)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:266)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:197)
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.shopjoy.controller.OrderController$$SpringCGLIB$$0.createOrder(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:493)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:354)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:86)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:132)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:246)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:232)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.ui.DefaultResourcesFilter.doFilter(DefaultResourcesFilter.java:73)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at com.shopjoy.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:125)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:245)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:239)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:195)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:337)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:1474)
2026-02-20 14:35:05.970 [http-nio-8080-exec-7] ERROR c.s.exception.GlobalExceptionHandler - Unexpected error occurred
org.hibernate.AssertionFailure: Entry for instance of 'com.shopjoy.entity.SecurityAuditLog' has a null identifier (this can happen if the session is flushed after an exception occurs)
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.checkId(DefaultFlushEntityEventListener.java:69)
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.getValues(DefaultFlushEntityEventListener.java:172)
	at org.hibernate.event.internal.DefaultFlushEntityEventListener.onFlushEntity(DefaultFlushEntityEventListener.java:131)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:138)
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEntities(AbstractFlushingEventListener.java:229)
	at org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:69)
	at org.hibernate.event.internal.DefaultAutoFlushEventListener.onAutoFlush(DefaultAutoFlushEventListener.java:47)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:138)
	at org.hibernate.internal.SessionImpl.autoFlushIfRequired(SessionImpl.java:1440)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:126)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:427)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:355)
	at org.hibernate.query.sqm.internal.SqmQueryImpl.doList(SqmQueryImpl.java:374)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:153)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResultOrNull(AbstractSelectionQuery.java:330)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:328)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:99)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:164)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:154)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:169)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:167)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:146)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:133)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:371)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:130)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:222)
	at jdk.proxy2/jdk.proxy2.$Proxy214.findUserIdByOrderId(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.PerformanceAspect.monitorDatabasePerformance(PerformanceAspect.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:222)
	at jdk.proxy2/jdk.proxy2.$Proxy214.findUserIdByOrderId(Unknown Source)
	at com.shopjoy.service.impl.OrderServiceImpl.getOrderById(OrderServiceImpl.java:121)
	at com.shopjoy.service.impl.OrderServiceImpl.createOrder(OrderServiceImpl.java:102)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.TransactionAspect.monitorTransactionDuration(TransactionAspect.java:68)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.PerformanceAspect.monitorServicePerformance(PerformanceAspect.java:34)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.LoggingAspect.logDataModificationMethods(LoggingAspect.java:121)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:133)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:371)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:130)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:54)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:424)
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:589)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:440)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:404)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:64)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.shopjoy.service.impl.OrderServiceImpl$$SpringCGLIB$$0.createOrder(<generated>)
	at com.shopjoy.controller.OrderController.createOrder(OrderController.java:47)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.PerformanceAspect.monitorApiPerformance(PerformanceAspect.java:101)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:271)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:266)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:197)
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:719)
	at com.shopjoy.controller.OrderController$$SpringCGLIB$$0.createOrder(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:649)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:235)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:493)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:354)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:86)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:132)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:132)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:86)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:181)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:60)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:246)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:232)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.ui.DefaultResourcesFilter.doFilter(DefaultResourcesFilter.java:73)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at com.shopjoy.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:125)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:245)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:239)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:195)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:96)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:244)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:337)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:141)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:237)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:317)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:355)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:272)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57)
	at java.base/java.lang.Thread.run(Thread.java:1474)
2026-02-20 14:45:44.449 [SpringApplicationShutdownHook] INFO  o.s.boot.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2026-02-20 14:45:44.515 [tomcat-shutdown] INFO  o.s.boot.tomcat.GracefulShutdown - Graceful shutdown complete
2026-02-20 14:45:44.541 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2026-02-20 14:45:44.548 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-02-20 14:45:44.576 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-02-20 14:46:32.780 [main] INFO  c.s.ShopjoyEcommerceSystemApplication - Starting ShopjoyEcommerceSystemApplication using Java 25.0.1 with PID 1492 (C:\Users\EugeneDokyeAnokye\IdeaProjects\spring-data-ecommerce\target\classes started by EugeneDokyeAnokye in C:\Users\EugeneDokyeAnokye\IdeaProjects\spring-data-ecommerce)
2026-02-20 14:46:32.785 [main] DEBUG c.s.ShopjoyEcommerceSystemApplication - Running with Spring Boot v4.0.2, Spring v7.0.3
2026-02-20 14:46:32.812 [main] INFO  c.s.ShopjoyEcommerceSystemApplication - The following 1 profile is active: "dev"
2026-02-20 14:46:35.311 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 9.0.1.Final
2026-02-20 14:46:41.953 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-02-20 14:46:42.865 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 882 ms. Found 10 JPA repository interfaces.
2026-02-20 14:46:48.971 [main] INFO  o.s.boot.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-02-20 14:46:49.000 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2026-02-20 14:46:49.004 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-02-20 14:46:49.005 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/11.0.15]
2026-02-20 14:46:49.230 [main] INFO  o.s.b.w.c.s.WebApplicationContextInitializer - Root WebApplicationContext: initialization completed in 16059 ms
2026-02-20 14:46:51.425 [main] INFO  org.hibernate.orm.jpa - HHH008540: Processing PersistenceUnitInfo [name: default]
2026-02-20 14:46:51.807 [main] INFO  org.hibernate.orm.core - HHH000001: Hibernate ORM core version 7.2.1.Final
2026-02-20 14:46:53.916 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2026-02-20 14:46:54.034 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-02-20 14:46:54.671 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2d2697a8
2026-02-20 14:46:54.674 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-02-20 14:46:54.886 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [jdbc:postgresql://localhost:5432/shopjoy_db]
	Database driver: PostgreSQL JDBC Driver
	Database dialect: PostgreSQLDialect
	Database version: 18.1
	Default catalog/schema: shopjoy_db/public
	Autocommit mode: undefined/unknown
	Isolation level: READ_COMMITTED [default READ_COMMITTED]
	JDBC fetch size: none
	Pool: DataSourceConnectionProvider
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-02-20 14:47:00.408 [main] INFO  org.hibernate.orm.core - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-02-20 14:47:00.673 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-02-20 14:47:03.035 [main] INFO  o.s.d.j.r.q.QueryEnhancerFactories - Hibernate is in classpath; If applicable, HQL parser will be used.
2026-02-20 14:47:08.679 [main] DEBUG c.s.config.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2026-02-20 14:47:09.638 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2026-02-20 14:47:24.794 [main] INFO  o.s.g.e.DefaultSchemaResourceGraphQlSourceBuilder - Loaded 1 resource(s) in the GraphQL schema.
2026-02-20 14:47:25.505 [main] INFO  o.s.b.g.a.GraphQlAutoConfiguration - GraphQL schema inspection:
	Unmapped fields: {Inventory=[reservedQuantity]}
	Unmapped registrations: {Review.user=@BatchMapping ReviewFieldResolver#user[1 args]}
	Unmapped arguments: {}
	Field nullness errors: {}
	Argument nullness errors: {}
	Skipped types: []
2026-02-20 14:47:25.840 [main] INFO  o.s.b.g.a.s.GraphQlWebMvcAutoConfiguration - GraphQL endpoint HTTP POST /graphql
2026-02-20 14:47:31.433 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2026-02-20 14:47:31.800 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2026-02-20 14:47:31.843 [main] INFO  o.s.boot.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2026-02-20 14:47:31.897 [main] INFO  c.s.ShopjoyEcommerceSystemApplication - Started ShopjoyEcommerceSystemApplication in 64.908 seconds (process running for 69.652)
2026-02-20 14:47:31.947 [scheduling-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:31.947] ENTERING: TokenBlacklistServiceImpl.removeExpiredTokens with arguments: []
2026-02-20 14:47:31.948 [scheduling-1] DEBUG c.s.s.impl.TokenBlacklistServiceImpl - Blacklist cleanup: No expired tokens found. Current size: 0
2026-02-20 14:47:31.951 [scheduling-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:31.951] EXITING: TokenBlacklistServiceImpl.removeExpiredTokens returned: void
2026-02-20 14:47:32.184 [main] INFO  c.s.config.AdminUserInitializer - Checking for existing admin user with username: admin
2026-02-20 14:47:32.203 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@143840333 wrapping org.postgresql.jdbc.PgConnection@2d2697a8] read-only
2026-02-20 14:47:32.210 [main] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:32.209] ENTERING: AuthServiceImpl.isUsernameTaken with arguments: [admin]
2026-02-20 14:47:32.220 [main] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:32.220] TRANSACTION START: AuthServiceImpl.isUsernameTaken(String)
2026-02-20 14:47:32.579 [main] DEBUG org.hibernate.SQL - select u1_0.user_id from users u1_0 where u1_0.username=? fetch first ? rows only
2026-02-20 14:47:32.621 [main] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:32.621] TRANSACTION COMMIT: AuthServiceImpl.isUsernameTaken(String)
2026-02-20 14:47:32.621 [main] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:32.621] EXITING: AuthServiceImpl.isUsernameTaken returned: Boolean
2026-02-20 14:47:32.633 [main] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@143840333 wrapping org.postgresql.jdbc.PgConnection@2d2697a8]
2026-02-20 14:47:32.634 [main] INFO  c.s.config.AdminUserInitializer - Admin user 'admin' already exists, skipping creation
2026-02-20 14:47:32.635 [main] WARN  o.s.c.events.SpringDocAppInitializer - SpringDoc /api-docs endpoint is enabled by default. To disable it in production, set the property 'springdoc.api-docs.enabled=false'
2026-02-20 14:47:38.161 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-02-20 14:47:38.161 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-02-20 14:47:38.165 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2026-02-20 14:47:38.275 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:38.268] ENTERING: TokenBlacklistServiceImpl.isBlacklisted with arguments: [eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiQ1VTVE9NRVIiLCJyb2xlcyI6IlJPTEVfQ1VTVE9NRVIiLCJ1c2VySWQiOjI0LCJzdWIiOiJldWdlbmVfNjE3NyIsImlhdCI6MTc3MTU5ODA3OSwiZXhwIjoxNzcxNjg0NDc5fQ.a4zfhxdRdMXCLoWRQSzUd_mFRIGhlfGqhn3smse6X25p6GuU5HWHXrho3aun9HDFdQZi9lHhS7TkQMlpp2xv-g]
2026-02-20 14:47:38.275 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:38.275] EXITING: TokenBlacklistServiceImpl.isBlacklisted returned: Boolean
2026-02-20 14:47:38.561 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1431362689 wrapping org.postgresql.jdbc.PgConnection@2d2697a8] read-only
2026-02-20 14:47:38.561 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:38.561] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 14:47:38.563 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:38.563] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:47:38.576 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:47:38.638 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:38.638] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:47:38.639 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:38.639] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:47:38.640 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1431362689 wrapping org.postgresql.jdbc.PgConnection@2d2697a8]
2026-02-20 14:47:38.648 [http-nio-8080-exec-2] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 14:47:39.070 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: OrderController.createOrder with arguments: [com.shopjoy.dto.request.CreateOrderRequest@448ceaf2]
2026-02-20 14:47:39.075 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Changing isolation level of JDBC Connection [HikariProxyConnection@1578170754 wrapping org.postgresql.jdbc.PgConnection@2d2697a8] to 8
2026-02-20 14:47:39.076 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - DATA MODIFICATION STARTED: OrderServiceImpl.createOrder(CreateOrderRequest) with arguments: [com.shopjoy.dto.request.CreateOrderRequest@448ceaf2]
2026-02-20 14:47:39.076 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:39.076] ENTERING: OrderServiceImpl.createOrder with arguments: [com.shopjoy.dto.request.CreateOrderRequest@448ceaf2]
2026-02-20 14:47:39.080 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:39.080] TRANSACTIONAL DATA MODIFICATION: OrderServiceImpl.createOrder(CreateOrderRequest) with arguments: [com.shopjoy.dto.request.CreateOrderRequest@448ceaf2]
2026-02-20 14:47:39.080 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:39.080] TRANSACTION START: OrderServiceImpl.createOrder(CreateOrderRequest)
2026-02-20 14:47:39.082 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:39.082] TRANSACTION START: OrderServiceImpl.createOrder(CreateOrderRequest)
2026-02-20 14:47:39.088 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:39.088] ENTERING: UserServiceImpl.getUserById with arguments: [24]
2026-02-20 14:47:39.091 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:39.091] TRANSACTION START: UserServiceImpl.getUserById(Integer)
2026-02-20 14:47:39.140 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id=?
2026-02-20 14:47:39.147 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:39.147] TRANSACTION COMMIT: UserServiceImpl.getUserById(Integer)
2026-02-20 14:47:39.148 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:39.147] EXITING: UserServiceImpl.getUserById returned: UserResponse
2026-02-20 14:47:39.152 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:39.152] ENTERING: ProductServiceImpl.getProductsByIds with arguments: [[43, 44]]
2026-02-20 14:47:39.156 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:39.156] TRANSACTION START: ProductServiceImpl.getProductsByIds(List)
2026-02-20 14:47:39.161 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:47:39.195 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:47:39.204 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:47:39.208 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:39.208] TRANSACTION COMMIT: ProductServiceImpl.getProductsByIds(List)
2026-02-20 14:47:39.209 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:39.209] EXITING: ProductServiceImpl.getProductsByIds returned: ArrayList
2026-02-20 14:47:39.212 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:39.212] ENTERING: InventoryServiceImpl.hasAvailableStock with arguments: [43, 1]
2026-02-20 14:47:39.215 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:39.215] TRANSACTION START: InventoryServiceImpl.hasAvailableStock(Integer, int)
2026-02-20 14:47:39.251 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:47:39.256 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:39.256] TRANSACTION COMMIT: InventoryServiceImpl.hasAvailableStock(Integer, int)
2026-02-20 14:47:39.256 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:39.256] EXITING: InventoryServiceImpl.hasAvailableStock returned: Boolean
2026-02-20 14:47:39.258 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:39.258] ENTERING: InventoryServiceImpl.hasAvailableStock with arguments: [44, 1]
2026-02-20 14:47:39.258 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:39.258] TRANSACTION START: InventoryServiceImpl.hasAvailableStock(Integer, int)
2026-02-20 14:47:39.261 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:47:39.264 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:39.264] TRANSACTION COMMIT: InventoryServiceImpl.hasAvailableStock(Integer, int)
2026-02-20 14:47:39.265 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:39.264] EXITING: InventoryServiceImpl.hasAvailableStock returned: Boolean
2026-02-20 14:47:39.267 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:39.267] ENTERING: InventoryServiceImpl.reserveStock with arguments: [43, 1]
2026-02-20 14:47:39.268 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:39.268] TRANSACTION START: InventoryServiceImpl.reserveStock(Integer, int)
2026-02-20 14:47:39.268 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:39.268] TRANSACTION START: InventoryServiceImpl.reserveStock(Integer, int)
2026-02-20 14:47:39.275 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:47:39.285 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:39.285] TRANSACTION COMMIT: InventoryServiceImpl.reserveStock(Integer, int)
2026-02-20 14:47:39.285 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:39.285] TRANSACTION COMMIT: InventoryServiceImpl.reserveStock(Integer, int)
2026-02-20 14:47:39.286 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:39.286] EXITING: InventoryServiceImpl.reserveStock returned: void
2026-02-20 14:47:39.295 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:39.295] ENTERING: InventoryServiceImpl.reserveStock with arguments: [44, 1]
2026-02-20 14:47:39.295 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:39.295] TRANSACTION START: InventoryServiceImpl.reserveStock(Integer, int)
2026-02-20 14:47:39.297 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:39.297] TRANSACTION START: InventoryServiceImpl.reserveStock(Integer, int)
2026-02-20 14:47:39.338 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - update inventory set last_restocked=?,product_id=?,quantity_in_stock=?,reorder_level=?,updated_at=?,warehouse_location=? where inventory_id=?
2026-02-20 14:47:39.349 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:47:39.352 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:39.352] TRANSACTION COMMIT: InventoryServiceImpl.reserveStock(Integer, int)
2026-02-20 14:47:39.352 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:39.352] TRANSACTION COMMIT: InventoryServiceImpl.reserveStock(Integer, int)
2026-02-20 14:47:39.353 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:39.353] EXITING: InventoryServiceImpl.reserveStock returned: void
2026-02-20 14:47:39.371 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - insert into orders (created_at,notes,order_date,payment_method,payment_status,shipping_address,status,total_amount,updated_at,user_id) values (?,?,?,?,?,?,?,?,?,?)
2026-02-20 14:47:39.404 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - insert into order_items (created_at,order_id,product_id,quantity,subtotal,unit_price) values (?,?,?,?,?,?)
2026-02-20 14:47:39.416 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - insert into order_items (created_at,order_id,product_id,quantity,subtotal,unit_price) values (?,?,?,?,?,?)
2026-02-20 14:47:39.431 [task-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:39.431] ENTERING: SecurityAuditServiceImpl.logEvent with arguments: [eugene_6177, ORDER_CREATED, Order #30 created with 2 items, total amount: $199.98, true]
2026-02-20 14:47:39.436 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select o1_0.user_id from orders o1_0 where o1_0.order_id=?
2026-02-20 14:47:39.436 [task-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:39.436] TRANSACTION START: SecurityAuditServiceImpl.logEvent(String, SecurityEventType, String, Boolean)
2026-02-20 14:47:39.441 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:39.441] TRANSACTION COMMIT: OrderServiceImpl.createOrder(CreateOrderRequest)
2026-02-20 14:47:39.442 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:39.442] TRANSACTION COMMIT: OrderServiceImpl.createOrder(CreateOrderRequest)
2026-02-20 14:47:39.442 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:39.442] EXITING: OrderServiceImpl.createOrder returned: OrderResponse
2026-02-20 14:47:39.443 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - DATA MODIFICATION COMPLETED: OrderServiceImpl.createOrder(CreateOrderRequest) in 367ms
2026-02-20 14:47:39.443 [task-1] DEBUG org.hibernate.SQL - insert into security_audit_logs (details,event_type,ip_address,success,timestamp,user_agent,username) values (?,?,?,?,?,?,?)
2026-02-20 14:47:39.446 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - update inventory set last_restocked=?,product_id=?,quantity_in_stock=?,reorder_level=?,updated_at=?,warehouse_location=? where inventory_id=?
2026-02-20 14:47:39.449 [task-1] DEBUG c.s.s.impl.SecurityAuditServiceImpl - Logged security event: ORDER_CREATED for user: eugene_6177
2026-02-20 14:47:39.450 [task-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:39.450] TRANSACTION COMMIT: SecurityAuditServiceImpl.logEvent(String, SecurityEventType, String, Boolean)
2026-02-20 14:47:39.450 [task-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:39.450] EXITING: SecurityAuditServiceImpl.logEvent returned: void
2026-02-20 14:47:39.455 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting isolation level of JDBC Connection [HikariProxyConnection@1578170754 wrapping org.postgresql.jdbc.PgConnection@2d2697a8] to 2
2026-02-20 14:47:39.468 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint OrderController.createOrder responded in 397ms
2026-02-20 14:47:39.468 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: OrderController.createOrder returned: ResponseEntity
2026-02-20 14:47:39.646 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:39.646] ENTERING: TokenBlacklistServiceImpl.isBlacklisted with arguments: [eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiQ1VTVE9NRVIiLCJyb2xlcyI6IlJPTEVfQ1VTVE9NRVIiLCJ1c2VySWQiOjI0LCJzdWIiOiJldWdlbmVfNjE3NyIsImlhdCI6MTc3MTU5ODA3OSwiZXhwIjoxNzcxNjg0NDc5fQ.a4zfhxdRdMXCLoWRQSzUd_mFRIGhlfGqhn3smse6X25p6GuU5HWHXrho3aun9HDFdQZi9lHhS7TkQMlpp2xv-g]
2026-02-20 14:47:39.647 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:39.647] EXITING: TokenBlacklistServiceImpl.isBlacklisted returned: Boolean
2026-02-20 14:47:39.651 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@943350876 wrapping org.postgresql.jdbc.PgConnection@2d2697a8] read-only
2026-02-20 14:47:39.652 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:39.652] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 14:47:39.652 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:39.652] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:47:39.653 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:47:39.656 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:39.656] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:47:39.657 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:39.657] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:47:39.658 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@943350876 wrapping org.postgresql.jdbc.PgConnection@2d2697a8]
2026-02-20 14:47:39.662 [http-nio-8080-exec-3] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 14:47:39.670 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.clearCart with arguments: [24]
2026-02-20 14:47:39.670 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:39.670] ENTERING: CartServiceImpl.clearCart with arguments: [24]
2026-02-20 14:47:39.673 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:39.672] TRANSACTION START: CartServiceImpl.clearCart(Integer)
2026-02-20 14:47:39.674 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:39.674] TRANSACTION START: CartServiceImpl.clearCart(Integer)
2026-02-20 14:47:39.690 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 where ci1_0.user_id=?
2026-02-20 14:47:39.716 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-20 14:47:39.743 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:39.742] TRANSACTION COMMIT: CartServiceImpl.clearCart(Integer)
2026-02-20 14:47:39.743 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:39.743] TRANSACTION COMMIT: CartServiceImpl.clearCart(Integer)
2026-02-20 14:47:39.743 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:39.743] EXITING: CartServiceImpl.clearCart returned: void
2026-02-20 14:47:39.747 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - delete from cart_items where cart_item_id=?
2026-02-20 14:47:39.752 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - delete from cart_items where cart_item_id=?
2026-02-20 14:47:39.754 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.clearCart responded in 84ms
2026-02-20 14:47:39.756 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.clearCart returned: ResponseEntity
2026-02-20 14:47:39.773 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:39.772] ENTERING: TokenBlacklistServiceImpl.isBlacklisted with arguments: [eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiQ1VTVE9NRVIiLCJyb2xlcyI6IlJPTEVfQ1VTVE9NRVIiLCJ1c2VySWQiOjI0LCJzdWIiOiJldWdlbmVfNjE3NyIsImlhdCI6MTc3MTU5ODA3OSwiZXhwIjoxNzcxNjg0NDc5fQ.a4zfhxdRdMXCLoWRQSzUd_mFRIGhlfGqhn3smse6X25p6GuU5HWHXrho3aun9HDFdQZi9lHhS7TkQMlpp2xv-g]
2026-02-20 14:47:39.773 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:39.772] ENTERING: TokenBlacklistServiceImpl.isBlacklisted with arguments: [eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiQ1VTVE9NRVIiLCJyb2xlcyI6IlJPTEVfQ1VTVE9NRVIiLCJ1c2VySWQiOjI0LCJzdWIiOiJldWdlbmVfNjE3NyIsImlhdCI6MTc3MTU5ODA3OSwiZXhwIjoxNzcxNjg0NDc5fQ.a4zfhxdRdMXCLoWRQSzUd_mFRIGhlfGqhn3smse6X25p6GuU5HWHXrho3aun9HDFdQZi9lHhS7TkQMlpp2xv-g]
2026-02-20 14:47:39.773 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:39.773] EXITING: TokenBlacklistServiceImpl.isBlacklisted returned: Boolean
2026-02-20 14:47:39.773 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:39.773] EXITING: TokenBlacklistServiceImpl.isBlacklisted returned: Boolean
2026-02-20 14:47:39.776 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@369707433 wrapping org.postgresql.jdbc.PgConnection@1236cfb0] read-only
2026-02-20 14:47:39.777 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1591772257 wrapping org.postgresql.jdbc.PgConnection@2d2697a8] read-only
2026-02-20 14:47:39.777 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:39.777] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 14:47:39.777 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:39.777] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 14:47:39.777 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:39.777] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:47:39.777 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:39.777] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:47:39.779 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:47:39.779 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:47:39.782 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:39.782] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:47:39.783 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:39.783] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:47:39.784 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1591772257 wrapping org.postgresql.jdbc.PgConnection@2d2697a8]
2026-02-20 14:47:39.787 [http-nio-8080-exec-7] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 14:47:39.791 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:39.791] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:47:39.792 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:39.792] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:47:39.794 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@369707433 wrapping org.postgresql.jdbc.PgConnection@1236cfb0]
2026-02-20 14:47:39.798 [http-nio-8080-exec-6] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 14:47:39.802 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.getCartTotal with arguments: [24]
2026-02-20 14:47:39.803 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1923269375 wrapping org.postgresql.jdbc.PgConnection@2d2697a8] read-only
2026-02-20 14:47:39.803 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:39.803] ENTERING: CartServiceImpl.getCartTotal with arguments: [24]
2026-02-20 14:47:39.804 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:39.804] TRANSACTION START: CartServiceImpl.getCartTotal(Integer)
2026-02-20 14:47:39.804 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CartController.getCartItems with arguments: [24]
2026-02-20 14:47:39.807 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@688527188 wrapping org.postgresql.jdbc.PgConnection@1236cfb0] read-only
2026-02-20 14:47:39.807 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:39.807] ENTERING: CartServiceImpl.getCartItems with arguments: [24]
2026-02-20 14:47:39.808 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:39.808] TRANSACTION START: CartServiceImpl.getCartItems(Integer)
2026-02-20 14:47:39.808 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 where ci1_0.user_id=?
2026-02-20 14:47:39.809 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select ci1_0.cart_item_id,ci1_0.added_at,ci1_0.product_id,ci1_0.quantity,ci1_0.user_id from cart_items ci1_0 where ci1_0.user_id=?
2026-02-20 14:47:39.815 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:39.815] TRANSACTION COMMIT: CartServiceImpl.getCartItems(Integer)
2026-02-20 14:47:39.815 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:39.815] EXITING: CartServiceImpl.getCartItems returned: ArrayList
2026-02-20 14:47:39.816 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@688527188 wrapping org.postgresql.jdbc.PgConnection@1236cfb0]
2026-02-20 14:47:39.817 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.getCartItems responded in 10ms
2026-02-20 14:47:39.817 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.getCartItems returned: ResponseEntity
2026-02-20 14:47:39.828 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:39.828] TRANSACTION COMMIT: CartServiceImpl.getCartTotal(Integer)
2026-02-20 14:47:39.828 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:39.828] EXITING: CartServiceImpl.getCartTotal returned: Double
2026-02-20 14:47:39.829 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1923269375 wrapping org.postgresql.jdbc.PgConnection@2d2697a8]
2026-02-20 14:47:39.829 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CartController.getCartTotal responded in 26ms
2026-02-20 14:47:39.829 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CartController.getCartTotal returned: ResponseEntity
2026-02-20 14:47:41.651 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:41.651] ENTERING: TokenBlacklistServiceImpl.isBlacklisted with arguments: [eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiQ1VTVE9NRVIiLCJyb2xlcyI6IlJPTEVfQ1VTVE9NRVIiLCJ1c2VySWQiOjI0LCJzdWIiOiJldWdlbmVfNjE3NyIsImlhdCI6MTc3MTU5ODA3OSwiZXhwIjoxNzcxNjg0NDc5fQ.a4zfhxdRdMXCLoWRQSzUd_mFRIGhlfGqhn3smse6X25p6GuU5HWHXrho3aun9HDFdQZi9lHhS7TkQMlpp2xv-g]
2026-02-20 14:47:41.651 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:41.651] EXITING: TokenBlacklistServiceImpl.isBlacklisted returned: Boolean
2026-02-20 14:47:41.654 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1079624590 wrapping org.postgresql.jdbc.PgConnection@2d2697a8] read-only
2026-02-20 14:47:41.655 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:41.655] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [eugene_6177]
2026-02-20 14:47:41.655 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:41.655] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:47:41.656 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:47:41.659 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:41.659] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:47:41.659 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:41.659] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:47:41.660 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1079624590 wrapping org.postgresql.jdbc.PgConnection@2d2697a8]
2026-02-20 14:47:41.665 [http-nio-8080-exec-10] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: eugene_6177
2026-02-20 14:47:41.947 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@966676666 wrapping org.postgresql.jdbc.PgConnection@2d2697a8] read-only
2026-02-20 14:47:41.948 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:41.948] ENTERING: OrderServiceImpl.getOrders with arguments: [24, OrderFilter(status=null, paymentStatus=null, startDate=null, endDate=null, minAmount=null, maxAmount=null, searchTerm=null), Page request [number: 0, size 10, sort: orderDate: DESC]]
2026-02-20 14:47:41.958 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:41.957] TRANSACTION START: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-20 14:47:42.006 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select o1_0.order_id,o1_0.created_at,o1_0.notes,o1_0.order_date,o1_0.payment_method,o1_0.payment_status,o1_0.shipping_address,o1_0.status,o1_0.total_amount,o1_0.updated_at,o1_0.user_id from orders o1_0 where o1_0.user_id=? order by o1_0.order_date desc offset ? rows fetch first ? rows only
2026-02-20 14:47:42.021 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:47:42.033 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-20 14:47:42.038 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:47:42.040 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id=?
2026-02-20 14:47:42.043 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:47:42.047 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:47:42.050 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:47:42.052 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:42.052] TRANSACTION COMMIT: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-20 14:47:42.052 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:42.052] EXITING: OrderServiceImpl.getOrders returned: PageImpl
2026-02-20 14:47:42.053 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@966676666 wrapping org.postgresql.jdbc.PgConnection@2d2697a8]
2026-02-20 14:47:53.478 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: AuthController.login with arguments: [com.shopjoy.dto.request.LoginRequest@720f905b, SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@72796ba]]
2026-02-20 14:47:53.485 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@376312197 wrapping org.postgresql.jdbc.PgConnection@2d2697a8] read-only
2026-02-20 14:47:53.486 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:53.486] ENTERING: AuthServiceImpl.login with arguments: [com.shopjoy.dto.request.LoginRequest@720f905b]
2026-02-20 14:47:53.538 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:53.538] TRANSACTION START: AuthServiceImpl.login(LoginRequest)
2026-02-20 14:47:54.002 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:54.002] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [admin]
2026-02-20 14:47:54.002 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:54.002] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:47:54.003 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:47:54.010 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:54.009] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:47:54.010 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:54.010] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:47:54.458 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:54.458] TRANSACTION COMMIT: AuthServiceImpl.login(LoginRequest)
2026-02-20 14:47:54.459 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:54.459] EXITING: AuthServiceImpl.login returned: LoginResponse
2026-02-20 14:47:54.461 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@376312197 wrapping org.postgresql.jdbc.PgConnection@2d2697a8]
2026-02-20 14:47:54.465 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint AuthController.login responded in 986ms
2026-02-20 14:47:54.482 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: AuthController.login returned: ResponseEntity
2026-02-20 14:47:54.486 [task-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:54.486] ENTERING: SecurityAuditServiceImpl.logEvent with arguments: [admin, LOGIN_SUCCESS, SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@72796ba], User logged in successfully, true]
2026-02-20 14:47:54.486 [task-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:54.486] TRANSACTION START: SecurityAuditServiceImpl.logEvent(String, SecurityEventType, HttpServletRequest, String, Boolean)
2026-02-20 14:47:54.491 [task-2] ERROR c.s.s.impl.SecurityAuditServiceImpl - Failed to log security event: LOGIN_SUCCESS for user: admin
java.lang.IllegalStateException: The request object has been recycled and is no longer associated with this facade
	at org.apache.catalina.connector.RequestFacade.checkFacade(RequestFacade.java:609)
	at org.apache.catalina.connector.RequestFacade.getHeader(RequestFacade.java:287)
	at jakarta.servlet.http.HttpServletRequestWrapper.getHeader(HttpServletRequestWrapper.java:82)
	at org.springframework.security.web.firewall.StrictHttpFirewall$StrictFirewalledRequest.getHeader(StrictHttpFirewall.java:724)
	at jakarta.servlet.http.HttpServletRequestWrapper.getHeader(HttpServletRequestWrapper.java:82)
	at jakarta.servlet.http.HttpServletRequestWrapper.getHeader(HttpServletRequestWrapper.java:82)
	at com.shopjoy.service.impl.SecurityAuditServiceImpl.extractClientIp(SecurityAuditServiceImpl.java:74)
	at com.shopjoy.service.impl.SecurityAuditServiceImpl.logEvent(SecurityAuditServiceImpl.java:37)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.TransactionAspect.monitorTransactionDuration(TransactionAspect.java:68)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.PerformanceAspect.monitorServicePerformance(PerformanceAspect.java:34)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:133)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:371)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:130)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:112)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:328)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1090)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:614)
	at java.base/java.lang.Thread.run(Thread.java:1474)
2026-02-20 14:47:54.497 [task-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:54.496] TRANSACTION COMMIT: SecurityAuditServiceImpl.logEvent(String, SecurityEventType, HttpServletRequest, String, Boolean)
2026-02-20 14:47:54.497 [task-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:54.497] EXITING: SecurityAuditServiceImpl.logEvent returned: void
2026-02-20 14:47:54.538 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:54.538] ENTERING: TokenBlacklistServiceImpl.isBlacklisted with arguments: [eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiQURNSU4iLCJyb2xlcyI6IlJPTEVfQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluIiwiaWF0IjoxNzcxNTk4ODc0LCJleHAiOjE3NzE2ODUyNzR9.A4TcRxStDoeeQ0K1dV9-1gnh-a39HS0DkUzXhHRPT1PbTXdNCrWfOLelMoizntLpP3W_rYh4faRv0yrxm4PXHw]
2026-02-20 14:47:54.539 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:54.539] EXITING: TokenBlacklistServiceImpl.isBlacklisted returned: Boolean
2026-02-20 14:47:54.547 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1383549171 wrapping org.postgresql.jdbc.PgConnection@2d2697a8] read-only
2026-02-20 14:47:54.547 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:54.547] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [admin]
2026-02-20 14:47:54.547 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:54.547] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:47:54.548 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:47:54.548 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:54.548] ENTERING: TokenBlacklistServiceImpl.isBlacklisted with arguments: [eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiQURNSU4iLCJyb2xlcyI6IlJPTEVfQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluIiwiaWF0IjoxNzcxNTk4ODc0LCJleHAiOjE3NzE2ODUyNzR9.A4TcRxStDoeeQ0K1dV9-1gnh-a39HS0DkUzXhHRPT1PbTXdNCrWfOLelMoizntLpP3W_rYh4faRv0yrxm4PXHw]
2026-02-20 14:47:54.550 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:54.550] EXITING: TokenBlacklistServiceImpl.isBlacklisted returned: Boolean
2026-02-20 14:47:54.552 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1988386923 wrapping org.postgresql.jdbc.PgConnection@1236cfb0] read-only
2026-02-20 14:47:54.552 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:54.552] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [admin]
2026-02-20 14:47:54.553 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:54.553] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:47:54.553 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:54.553] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:47:54.553 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:54.553] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:47:54.553 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1383549171 wrapping org.postgresql.jdbc.PgConnection@2d2697a8]
2026-02-20 14:47:54.553 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:47:54.560 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:54.560] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:47:54.560 [http-nio-8080-exec-4] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: admin
2026-02-20 14:47:54.569 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:54.569] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:47:54.570 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1988386923 wrapping org.postgresql.jdbc.PgConnection@1236cfb0]
2026-02-20 14:47:54.571 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: PerformanceController.getMetrics with arguments: []
2026-02-20 14:47:54.572 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint PerformanceController.getMetrics responded in 1ms
2026-02-20 14:47:54.572 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: PerformanceController.getMetrics returned: ResponseEntity
2026-02-20 14:47:54.576 [http-nio-8080-exec-5] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: admin
2026-02-20 14:47:54.627 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:54.627] ENTERING: TokenBlacklistServiceImpl.isBlacklisted with arguments: [eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiQURNSU4iLCJyb2xlcyI6IlJPTEVfQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluIiwiaWF0IjoxNzcxNTk4ODc0LCJleHAiOjE3NzE2ODUyNzR9.A4TcRxStDoeeQ0K1dV9-1gnh-a39HS0DkUzXhHRPT1PbTXdNCrWfOLelMoizntLpP3W_rYh4faRv0yrxm4PXHw]
2026-02-20 14:47:54.627 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:54.627] EXITING: TokenBlacklistServiceImpl.isBlacklisted returned: Boolean
2026-02-20 14:47:54.636 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@2085258784 wrapping org.postgresql.jdbc.PgConnection@1236cfb0] read-only
2026-02-20 14:47:54.636 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:54.636] ENTERING: UserServiceImpl.getAllUsers with arguments: []
2026-02-20 14:47:54.639 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:54.639] TRANSACTION START: UserServiceImpl.getAllUsers()
2026-02-20 14:47:54.641 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1519597966 wrapping org.postgresql.jdbc.PgConnection@2d2697a8] read-only
2026-02-20 14:47:54.642 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:54.642] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [admin]
2026-02-20 14:47:54.642 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:54.642] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:47:54.643 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:47:54.647 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:54.647] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:47:54.648 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:54.648] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:47:54.648 [http-nio-8080-exec-4] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1519597966 wrapping org.postgresql.jdbc.PgConnection@2d2697a8]
2026-02-20 14:47:54.651 [http-nio-8080-exec-4] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: admin
2026-02-20 14:47:54.655 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: PerformanceController.getMetrics with arguments: []
2026-02-20 14:47:54.656 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint PerformanceController.getMetrics responded in 1ms
2026-02-20 14:47:54.656 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: PerformanceController.getMetrics returned: ResponseEntity
2026-02-20 14:47:54.702 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0
2026-02-20 14:47:54.792 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:54.789] TRANSACTION COMMIT: UserServiceImpl.getAllUsers()
2026-02-20 14:47:54.793 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:54.793] EXITING: UserServiceImpl.getAllUsers returned: ArrayList
2026-02-20 14:47:54.794 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@2085258784 wrapping org.postgresql.jdbc.PgConnection@1236cfb0]
2026-02-20 14:47:54.840 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1784276851 wrapping org.postgresql.jdbc.PgConnection@1236cfb0] read-only
2026-02-20 14:47:54.841 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:54.841] ENTERING: ProductServiceImpl.getProductsWithFilters with arguments: [null, Page request [number: 0, size 20, sort: id: ASC], id, ASC]
2026-02-20 14:47:54.842 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:54.842] TRANSACTION START: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 14:47:55.000 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?) order by p1_0.product_id fetch first ? rows only
2026-02-20 14:47:55.019 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:47:55.027 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:47:55.031 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:47:55.033 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:47:55.035 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:47:55.037 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:47:55.040 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:47:55.043 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:47:55.046 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:47:55.048 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:47:55.051 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:47:55.053 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:47:55.056 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:47:55.058 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:47:55.061 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:47:55.063 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:47:55.066 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:47:55.068 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:47:55.070 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:47:55.072 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:47:55.087 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select count(*) from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?)
2026-02-20 14:47:55.091 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id = any (?)
2026-02-20 14:47:55.099 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:55.099] TRANSACTION COMMIT: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 14:47:55.099 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:55.099] EXITING: ProductServiceImpl.getProductsWithFilters returned: PageImpl
2026-02-20 14:47:55.100 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1784276851 wrapping org.postgresql.jdbc.PgConnection@1236cfb0]
2026-02-20 14:47:55.184 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@37026341 wrapping org.postgresql.jdbc.PgConnection@1236cfb0] read-only
2026-02-20 14:47:55.185 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:55.185] ENTERING: OrderServiceImpl.getOrders with arguments: [null, null, Page request [number: 0, size 20, sort: orderDate: DESC]]
2026-02-20 14:47:55.185 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:55.185] TRANSACTION START: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-20 14:47:55.212 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select o1_0.order_id,o1_0.created_at,o1_0.notes,o1_0.order_date,o1_0.payment_method,o1_0.payment_status,o1_0.shipping_address,o1_0.status,o1_0.total_amount,o1_0.updated_at,o1_0.user_id from orders o1_0 where 1=1 order by o1_0.order_date desc offset ? rows fetch first ? rows only
2026-02-20 14:47:55.254 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select count(o1_0.order_id) from orders o1_0 where 1=1
2026-02-20 14:47:55.257 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:47:55.267 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-20 14:47:55.272 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:47:55.275 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id = any (?)
2026-02-20 14:47:55.280 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:47:55.282 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:47:55.286 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:47:55.288 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:47:55.290 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:47:55.294 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:47:55.298 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-20 14:47:55.302 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:47:55.303 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:47:55.307 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:47:55.310 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:47:55.315 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:47:55.316 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:47:55.318 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:47:55.320 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:47:55.323 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:47:55.326 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:47:55.330 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-20 14:47:55.334 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id = any (?)
2026-02-20 14:47:55.336 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:47:55.338 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:47:55.341 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:47:55.343 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-20 14:47:55.348 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:47:55.349 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:47:55.351 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:47:55.354 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:47:55.355 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:47:55.357 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:47:55.359 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:47:55.362 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:47:55.363 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:47:55.366 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:47:55.368 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:47:55.370 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:47:55.372 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:47:55.374 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:47:55.376 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:47:55.379 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:55.379] TRANSACTION COMMIT: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-20 14:47:55.379 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:55.379] EXITING: OrderServiceImpl.getOrders returned: PageImpl
2026-02-20 14:47:55.380 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@37026341 wrapping org.postgresql.jdbc.PgConnection@1236cfb0]
2026-02-20 14:47:55.405 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1376259123 wrapping org.postgresql.jdbc.PgConnection@1236cfb0] read-only
2026-02-20 14:47:55.406 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:55.406] ENTERING: InventoryServiceImpl.getLowStockProducts with arguments: []
2026-02-20 14:47:55.406 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:55.406] TRANSACTION START: InventoryServiceImpl.getLowStockProducts()
2026-02-20 14:47:55.468 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.quantity_in_stock<=i1_0.reorder_level
2026-02-20 14:47:55.475 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-20 14:47:55.482 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:55.482] TRANSACTION COMMIT: InventoryServiceImpl.getLowStockProducts()
2026-02-20 14:47:55.483 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:55.483] EXITING: InventoryServiceImpl.getLowStockProducts returned: ArrayList
2026-02-20 14:47:55.483 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1376259123 wrapping org.postgresql.jdbc.PgConnection@1236cfb0]
2026-02-20 14:47:55.491 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@236908614 wrapping org.postgresql.jdbc.PgConnection@1236cfb0] read-only
2026-02-20 14:47:55.492 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:55.492] ENTERING: CategoryServiceImpl.getCategoriesByIds with arguments: [[11, 12, 13, 14, 15, 16]]
2026-02-20 14:47:55.495 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:55.495] TRANSACTION START: CategoryServiceImpl.getCategoriesByIds(List)
2026-02-20 14:47:55.504 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id in (?,?,?,?,?,?)
2026-02-20 14:47:55.508 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:55.508] TRANSACTION COMMIT: CategoryServiceImpl.getCategoriesByIds(List)
2026-02-20 14:47:55.510 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:55.510] EXITING: CategoryServiceImpl.getCategoriesByIds returned: ListN
2026-02-20 14:47:55.511 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@236908614 wrapping org.postgresql.jdbc.PgConnection@1236cfb0]
2026-02-20 14:47:55.529 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@400091301 wrapping org.postgresql.jdbc.PgConnection@1236cfb0] read-only
2026-02-20 14:47:55.529 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:55.529] ENTERING: UserServiceImpl.getUsersByIds with arguments: [[24, 3, 26, 18]]
2026-02-20 14:47:55.529 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:55.529] TRANSACTION START: UserServiceImpl.getUsersByIds(List)
2026-02-20 14:47:55.549 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id in (?,?,?,?)
2026-02-20 14:47:57.250 [http-nio-8080-exec-5] WARN  c.shopjoy.aspect.PerformanceAspect - SLOW DATABASE QUERY: $Proxy189.findAllById took 1.72s
2026-02-20 14:47:57.251 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:57.251] TRANSACTION COMMIT: UserServiceImpl.getUsersByIds(List)
2026-02-20 14:47:57.252 [http-nio-8080-exec-5] WARN  c.shopjoy.aspect.PerformanceAspect - SLOW SERVICE METHOD: UserServiceImpl.getUsersByIds took 1.72s
2026-02-20 14:47:57.252 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:57.252] EXITING: UserServiceImpl.getUsersByIds returned: ListN
2026-02-20 14:47:57.253 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@400091301 wrapping org.postgresql.jdbc.PgConnection@1236cfb0]
2026-02-20 14:47:57.276 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1498316106 wrapping org.postgresql.jdbc.PgConnection@1236cfb0] read-only
2026-02-20 14:47:57.276 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:57.276] ENTERING: ProductServiceImpl.getProductsByIds with arguments: [[21, 28, 35, 45, 49, 56, 63, 69, 75, 77, 70, 14, 39, 42]]
2026-02-20 14:47:57.277 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:57.277] TRANSACTION START: ProductServiceImpl.getProductsByIds(List)
2026-02-20 14:47:57.278 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:47:57.281 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:47:57.283 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:47:57.286 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:47:57.290 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:47:57.296 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:47:57.299 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:47:57.301 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:47:57.302 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:47:57.306 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:47:57.310 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:47:57.314 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:47:57.317 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:47:57.320 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:47:57.322 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:47:57.325 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:47:57.328 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:47:57.330 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:47:57.335 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:47:57.338 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:47:57.342 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:47:57.346 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:47:57.348 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:47:57.351 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:47:57.353 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:47:57.361 [http-nio-8080-exec-5] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:47:57.361] TRANSACTION COMMIT: ProductServiceImpl.getProductsByIds(List)
2026-02-20 14:47:57.362 [http-nio-8080-exec-5] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:47:57.362] EXITING: ProductServiceImpl.getProductsByIds returned: ArrayList
2026-02-20 14:47:57.363 [http-nio-8080-exec-5] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1498316106 wrapping org.postgresql.jdbc.PgConnection@1236cfb0]
2026-02-20 14:48:05.128 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:05.128] ENTERING: TokenBlacklistServiceImpl.isBlacklisted with arguments: [eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiQURNSU4iLCJyb2xlcyI6IlJPTEVfQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluIiwiaWF0IjoxNzcxNTk4ODc0LCJleHAiOjE3NzE2ODUyNzR9.A4TcRxStDoeeQ0K1dV9-1gnh-a39HS0DkUzXhHRPT1PbTXdNCrWfOLelMoizntLpP3W_rYh4faRv0yrxm4PXHw]
2026-02-20 14:48:05.128 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:05.128] EXITING: TokenBlacklistServiceImpl.isBlacklisted returned: Boolean
2026-02-20 14:48:05.130 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:05.130] ENTERING: TokenBlacklistServiceImpl.isBlacklisted with arguments: [eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiQURNSU4iLCJyb2xlcyI6IlJPTEVfQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluIiwiaWF0IjoxNzcxNTk4ODc0LCJleHAiOjE3NzE2ODUyNzR9.A4TcRxStDoeeQ0K1dV9-1gnh-a39HS0DkUzXhHRPT1PbTXdNCrWfOLelMoizntLpP3W_rYh4faRv0yrxm4PXHw]
2026-02-20 14:48:05.130 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:05.130] EXITING: TokenBlacklistServiceImpl.isBlacklisted returned: Boolean
2026-02-20 14:48:05.131 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1996465124 wrapping org.postgresql.jdbc.PgConnection@2d2697a8] read-only
2026-02-20 14:48:05.132 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:05.132] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [admin]
2026-02-20 14:48:05.132 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:48:05.132] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:48:05.133 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:48:05.133 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@692107111 wrapping org.postgresql.jdbc.PgConnection@1236cfb0] read-only
2026-02-20 14:48:05.134 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:05.134] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [admin]
2026-02-20 14:48:05.134 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:48:05.134] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:48:05.135 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:48:05.136 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:48:05.136] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:48:05.136 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:05.136] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:48:05.137 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1996465124 wrapping org.postgresql.jdbc.PgConnection@2d2697a8]
2026-02-20 14:48:05.138 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:48:05.138] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:48:05.138 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:05.138] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:48:05.139 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@692107111 wrapping org.postgresql.jdbc.PgConnection@1236cfb0]
2026-02-20 14:48:05.140 [http-nio-8080-exec-9] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: admin
2026-02-20 14:48:05.141 [http-nio-8080-exec-2] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: admin
2026-02-20 14:48:05.144 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: PerformanceController.getMetrics with arguments: []
2026-02-20 14:48:05.144 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint PerformanceController.getMetrics responded in 0ms
2026-02-20 14:48:05.144 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: PerformanceController.getMetrics returned: ResponseEntity
2026-02-20 14:48:05.154 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:05.154] ENTERING: TokenBlacklistServiceImpl.isBlacklisted with arguments: [eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiQURNSU4iLCJyb2xlcyI6IlJPTEVfQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluIiwiaWF0IjoxNzcxNTk4ODc0LCJleHAiOjE3NzE2ODUyNzR9.A4TcRxStDoeeQ0K1dV9-1gnh-a39HS0DkUzXhHRPT1PbTXdNCrWfOLelMoizntLpP3W_rYh4faRv0yrxm4PXHw]
2026-02-20 14:48:05.154 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:05.154] EXITING: TokenBlacklistServiceImpl.isBlacklisted returned: Boolean
2026-02-20 14:48:05.156 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@165010526 wrapping org.postgresql.jdbc.PgConnection@2d2697a8] read-only
2026-02-20 14:48:05.156 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:05.156] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [admin]
2026-02-20 14:48:05.157 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:48:05.157] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:48:05.157 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1993505656 wrapping org.postgresql.jdbc.PgConnection@1236cfb0] read-only
2026-02-20 14:48:05.157 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:05.157] ENTERING: UserServiceImpl.getAllUsers with arguments: []
2026-02-20 14:48:05.157 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:48:05.157] TRANSACTION START: UserServiceImpl.getAllUsers()
2026-02-20 14:48:05.158 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:48:05.159 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0
2026-02-20 14:48:05.160 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:48:05.160] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:48:05.160 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:05.160] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:48:05.161 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@165010526 wrapping org.postgresql.jdbc.PgConnection@2d2697a8]
2026-02-20 14:48:05.163 [http-nio-8080-exec-3] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: admin
2026-02-20 14:48:05.165 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:48:05.165] TRANSACTION COMMIT: UserServiceImpl.getAllUsers()
2026-02-20 14:48:05.165 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:05.165] EXITING: UserServiceImpl.getAllUsers returned: ArrayList
2026-02-20 14:48:05.166 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1993505656 wrapping org.postgresql.jdbc.PgConnection@1236cfb0]
2026-02-20 14:48:05.167 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: PerformanceController.getMetrics with arguments: []
2026-02-20 14:48:05.168 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint PerformanceController.getMetrics responded in 1ms
2026-02-20 14:48:05.168 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: PerformanceController.getMetrics returned: ResponseEntity
2026-02-20 14:48:05.172 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1941979470 wrapping org.postgresql.jdbc.PgConnection@1236cfb0] read-only
2026-02-20 14:48:05.172 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:05.172] ENTERING: ProductServiceImpl.getProductsWithFilters with arguments: [null, Page request [number: 0, size 20, sort: id: ASC], id, ASC]
2026-02-20 14:48:05.174 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:48:05.174] TRANSACTION START: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 14:48:05.176 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?) order by p1_0.product_id fetch first ? rows only
2026-02-20 14:48:05.178 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:48:05.180 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:48:05.182 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:48:05.184 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:48:05.186 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:48:05.188 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:48:05.190 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:48:05.191 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:48:05.193 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:48:05.195 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:48:05.196 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:48:05.199 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:48:05.201 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:48:05.203 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:48:05.206 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:48:05.208 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:48:05.209 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:48:05.211 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:48:05.213 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:48:05.215 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:48:05.221 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select count(*) from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?)
2026-02-20 14:48:05.223 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id = any (?)
2026-02-20 14:48:05.224 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:48:05.224] TRANSACTION COMMIT: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 14:48:05.226 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:05.226] EXITING: ProductServiceImpl.getProductsWithFilters returned: PageImpl
2026-02-20 14:48:05.227 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1941979470 wrapping org.postgresql.jdbc.PgConnection@1236cfb0]
2026-02-20 14:48:05.278 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@172389686 wrapping org.postgresql.jdbc.PgConnection@1236cfb0] read-only
2026-02-20 14:48:05.279 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:05.279] ENTERING: ProductServiceImpl.getProductsByIds with arguments: [[21, 28, 35, 45, 49, 56, 63, 69, 75, 77, 70, 14, 39, 42]]
2026-02-20 14:48:05.279 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:48:05.279] TRANSACTION START: ProductServiceImpl.getProductsByIds(List)
2026-02-20 14:48:05.280 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:48:05.283 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:48:05.285 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:48:05.287 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:48:05.289 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:48:05.291 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:48:05.294 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:48:05.295 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:48:05.299 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:48:05.302 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:48:05.304 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:48:05.305 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:48:05.307 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:48:05.309 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:48:05.311 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:48:05.314 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:48:05.316 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:48:05.319 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:48:05.321 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:48:05.323 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:48:05.326 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:48:05.327 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:48:05.329 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:48:05.332 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:48:05.334 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:48:05.336 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:48:05.336] TRANSACTION COMMIT: ProductServiceImpl.getProductsByIds(List)
2026-02-20 14:48:05.336 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:05.336] EXITING: ProductServiceImpl.getProductsByIds returned: ArrayList
2026-02-20 14:48:05.337 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@172389686 wrapping org.postgresql.jdbc.PgConnection@1236cfb0]
2026-02-20 14:48:10.974 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:10.974] ENTERING: TokenBlacklistServiceImpl.isBlacklisted with arguments: [eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiQURNSU4iLCJyb2xlcyI6IlJPTEVfQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluIiwiaWF0IjoxNzcxNTk4ODc0LCJleHAiOjE3NzE2ODUyNzR9.A4TcRxStDoeeQ0K1dV9-1gnh-a39HS0DkUzXhHRPT1PbTXdNCrWfOLelMoizntLpP3W_rYh4faRv0yrxm4PXHw]
2026-02-20 14:48:10.975 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:10.975] EXITING: TokenBlacklistServiceImpl.isBlacklisted returned: Boolean
2026-02-20 14:48:10.977 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@173617621 wrapping org.postgresql.jdbc.PgConnection@1236cfb0] read-only
2026-02-20 14:48:10.977 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:10.977] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [admin]
2026-02-20 14:48:10.977 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:48:10.977] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:48:10.978 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:48:10.980 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:48:10.980] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:48:10.981 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:10.981] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:48:10.981 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@173617621 wrapping org.postgresql.jdbc.PgConnection@1236cfb0]
2026-02-20 14:48:10.983 [http-nio-8080-exec-6] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: admin
2026-02-20 14:48:10.993 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1622439398 wrapping org.postgresql.jdbc.PgConnection@1236cfb0] read-only
2026-02-20 14:48:10.993 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:10.993] ENTERING: OrderServiceImpl.getOrders with arguments: [null, OrderFilter(status=null, paymentStatus=null, startDate=null, endDate=null, minAmount=null, maxAmount=null, searchTerm=null), Page request [number: 0, size 20, sort: orderDate: DESC]]
2026-02-20 14:48:10.994 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:48:10.994] TRANSACTION START: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-20 14:48:10.997 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select o1_0.order_id,o1_0.created_at,o1_0.notes,o1_0.order_date,o1_0.payment_method,o1_0.payment_status,o1_0.shipping_address,o1_0.status,o1_0.total_amount,o1_0.updated_at,o1_0.user_id from orders o1_0 where 1=1 order by o1_0.order_date desc offset ? rows fetch first ? rows only
2026-02-20 14:48:11.003 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select count(o1_0.order_id) from orders o1_0 where 1=1
2026-02-20 14:48:11.005 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:48:11.008 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-20 14:48:11.012 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:48:11.015 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.user_id = any (?)
2026-02-20 14:48:11.017 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:48:11.019 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:48:11.021 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:48:11.022 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:48:11.026 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:48:11.029 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:48:11.031 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-20 14:48:11.033 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:48:11.035 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:48:11.037 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:48:11.039 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:48:11.042 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:48:11.043 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:48:11.044 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:48:11.046 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:48:11.048 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:48:11.049 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:48:11.052 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-20 14:48:11.055 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id = any (?)
2026-02-20 14:48:11.057 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:48:11.060 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:48:11.061 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:48:11.063 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-20 14:48:11.065 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:48:11.067 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:48:11.069 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:48:11.070 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:48:11.072 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:48:11.074 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:48:11.077 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:48:11.079 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:48:11.080 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:48:11.082 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:48:11.083 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:48:11.086 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:48:11.087 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:48:11.088 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:48:11.093 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select oi1_0.order_id,oi1_0.order_item_id,oi1_0.created_at,oi1_0.product_id,oi1_0.quantity,oi1_0.subtotal,oi1_0.unit_price from order_items oi1_0 where oi1_0.order_id=?
2026-02-20 14:48:11.094 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:48:11.094] TRANSACTION COMMIT: OrderServiceImpl.getOrders(Integer, OrderFilter, Pageable)
2026-02-20 14:48:11.094 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:11.094] EXITING: OrderServiceImpl.getOrders returned: PageImpl
2026-02-20 14:48:11.096 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1622439398 wrapping org.postgresql.jdbc.PgConnection@1236cfb0]
2026-02-20 14:48:14.373 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:14.372] ENTERING: TokenBlacklistServiceImpl.isBlacklisted with arguments: [eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiQURNSU4iLCJyb2xlcyI6IlJPTEVfQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluIiwiaWF0IjoxNzcxNTk4ODc0LCJleHAiOjE3NzE2ODUyNzR9.A4TcRxStDoeeQ0K1dV9-1gnh-a39HS0DkUzXhHRPT1PbTXdNCrWfOLelMoizntLpP3W_rYh4faRv0yrxm4PXHw]
2026-02-20 14:48:14.373 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:14.373] EXITING: TokenBlacklistServiceImpl.isBlacklisted returned: Boolean
2026-02-20 14:48:14.374 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@2083785079 wrapping org.postgresql.jdbc.PgConnection@2d2697a8] read-only
2026-02-20 14:48:14.376 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:14.376] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [admin]
2026-02-20 14:48:14.376 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:48:14.376] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:48:14.377 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:48:14.378 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:48:14.378] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:48:14.379 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:14.379] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:48:14.380 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@2083785079 wrapping org.postgresql.jdbc.PgConnection@2d2697a8]
2026-02-20 14:48:14.383 [http-nio-8080-exec-7] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: admin
2026-02-20 14:48:14.402 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: SecurityAuditLogController.getAllLogs with arguments: [0, 20, timestamp, desc]
2026-02-20 14:48:14.405 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@646187134 wrapping org.postgresql.jdbc.PgConnection@2d2697a8] read-only
2026-02-20 14:48:14.405 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:14.405] ENTERING: SecurityAuditServiceImpl.getAllLogs with arguments: [Page request [number: 0, size 20, sort: timestamp: DESC]]
2026-02-20 14:48:14.406 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:48:14.405] TRANSACTION START: SecurityAuditServiceImpl.getAllLogs(Pageable)
2026-02-20 14:48:14.431 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select sal1_0.log_id,sal1_0.details,sal1_0.event_type,sal1_0.ip_address,sal1_0.success,sal1_0.timestamp,sal1_0.user_agent,sal1_0.username from security_audit_logs sal1_0 order by sal1_0.timestamp desc offset ? rows fetch first ? rows only
2026-02-20 14:48:14.441 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:48:14.441] TRANSACTION COMMIT: SecurityAuditServiceImpl.getAllLogs(Pageable)
2026-02-20 14:48:14.441 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:14.441] EXITING: SecurityAuditServiceImpl.getAllLogs returned: PageImpl
2026-02-20 14:48:14.442 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@646187134 wrapping org.postgresql.jdbc.PgConnection@2d2697a8]
2026-02-20 14:48:14.445 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint SecurityAuditLogController.getAllLogs responded in 43ms
2026-02-20 14:48:14.445 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: SecurityAuditLogController.getAllLogs returned: ResponseEntity
2026-02-20 14:48:14.450 [http-nio-8080-exec-7] WARN  o.s.d.w.c.SpringDataJackson3Configuration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2026-02-20 14:48:14.473 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:14.473] ENTERING: TokenBlacklistServiceImpl.isBlacklisted with arguments: [eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiQURNSU4iLCJyb2xlcyI6IlJPTEVfQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluIiwiaWF0IjoxNzcxNTk4ODc0LCJleHAiOjE3NzE2ODUyNzR9.A4TcRxStDoeeQ0K1dV9-1gnh-a39HS0DkUzXhHRPT1PbTXdNCrWfOLelMoizntLpP3W_rYh4faRv0yrxm4PXHw]
2026-02-20 14:48:14.473 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:14.473] EXITING: TokenBlacklistServiceImpl.isBlacklisted returned: Boolean
2026-02-20 14:48:14.475 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@555037360 wrapping org.postgresql.jdbc.PgConnection@2d2697a8] read-only
2026-02-20 14:48:14.475 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:14.475] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [admin]
2026-02-20 14:48:14.476 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:48:14.476] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:48:14.478 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:48:14.479 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:48:14.479] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:48:14.480 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:14.480] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:48:14.480 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@555037360 wrapping org.postgresql.jdbc.PgConnection@2d2697a8]
2026-02-20 14:48:14.482 [http-nio-8080-exec-10] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: admin
2026-02-20 14:48:14.487 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: SecurityAuditLogController.getAllLogs with arguments: [0, 20, timestamp, desc]
2026-02-20 14:48:14.487 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@833939518 wrapping org.postgresql.jdbc.PgConnection@2d2697a8] read-only
2026-02-20 14:48:14.489 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:14.489] ENTERING: SecurityAuditServiceImpl.getAllLogs with arguments: [Page request [number: 0, size 20, sort: timestamp: DESC]]
2026-02-20 14:48:14.489 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:48:14.489] TRANSACTION START: SecurityAuditServiceImpl.getAllLogs(Pageable)
2026-02-20 14:48:14.491 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select sal1_0.log_id,sal1_0.details,sal1_0.event_type,sal1_0.ip_address,sal1_0.success,sal1_0.timestamp,sal1_0.user_agent,sal1_0.username from security_audit_logs sal1_0 order by sal1_0.timestamp desc offset ? rows fetch first ? rows only
2026-02-20 14:48:14.493 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:48:14.493] TRANSACTION COMMIT: SecurityAuditServiceImpl.getAllLogs(Pageable)
2026-02-20 14:48:14.493 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:14.493] EXITING: SecurityAuditServiceImpl.getAllLogs returned: PageImpl
2026-02-20 14:48:14.494 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@833939518 wrapping org.postgresql.jdbc.PgConnection@2d2697a8]
2026-02-20 14:48:14.494 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint SecurityAuditLogController.getAllLogs responded in 7ms
2026-02-20 14:48:14.494 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: SecurityAuditLogController.getAllLogs returned: ResponseEntity
2026-02-20 14:48:19.553 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:19.553] ENTERING: TokenBlacklistServiceImpl.isBlacklisted with arguments: [eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiQURNSU4iLCJyb2xlcyI6IlJPTEVfQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluIiwiaWF0IjoxNzcxNTk4ODc0LCJleHAiOjE3NzE2ODUyNzR9.A4TcRxStDoeeQ0K1dV9-1gnh-a39HS0DkUzXhHRPT1PbTXdNCrWfOLelMoizntLpP3W_rYh4faRv0yrxm4PXHw]
2026-02-20 14:48:19.553 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:19.553] EXITING: TokenBlacklistServiceImpl.isBlacklisted returned: Boolean
2026-02-20 14:48:19.554 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:19.554] ENTERING: TokenBlacklistServiceImpl.isBlacklisted with arguments: [eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiQURNSU4iLCJyb2xlcyI6IlJPTEVfQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluIiwiaWF0IjoxNzcxNTk4ODc0LCJleHAiOjE3NzE2ODUyNzR9.A4TcRxStDoeeQ0K1dV9-1gnh-a39HS0DkUzXhHRPT1PbTXdNCrWfOLelMoizntLpP3W_rYh4faRv0yrxm4PXHw]
2026-02-20 14:48:19.554 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:19.554] EXITING: TokenBlacklistServiceImpl.isBlacklisted returned: Boolean
2026-02-20 14:48:19.555 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@2109516053 wrapping org.postgresql.jdbc.PgConnection@2d2697a8] read-only
2026-02-20 14:48:19.555 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:19.555] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [admin]
2026-02-20 14:48:19.556 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@958649035 wrapping org.postgresql.jdbc.PgConnection@1236cfb0] read-only
2026-02-20 14:48:19.556 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:48:19.556] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:48:19.556 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:19.556] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [admin]
2026-02-20 14:48:19.557 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:48:19.557] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:48:19.558 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:48:19.561 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:48:19.561] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:48:19.561 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:19.561] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:48:19.562 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@958649035 wrapping org.postgresql.jdbc.PgConnection@1236cfb0]
2026-02-20 14:48:19.566 [http-nio-8080-exec-8] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: admin
2026-02-20 14:48:19.567 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:48:19.574 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:48:19.574] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:48:19.574 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:19.574] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:48:19.575 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@2109516053 wrapping org.postgresql.jdbc.PgConnection@2d2697a8]
2026-02-20 14:48:19.577 [http-nio-8080-exec-1] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: admin
2026-02-20 14:48:19.580 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: PerformanceController.getMetrics with arguments: []
2026-02-20 14:48:19.581 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint PerformanceController.getMetrics responded in 1ms
2026-02-20 14:48:19.581 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: PerformanceController.getMetrics returned: ResponseEntity
2026-02-20 14:48:19.581 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1486795065 wrapping org.postgresql.jdbc.PgConnection@1236cfb0] read-only
2026-02-20 14:48:19.582 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:19.582] ENTERING: UserServiceImpl.getAllUsers with arguments: []
2026-02-20 14:48:19.583 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:48:19.582] TRANSACTION START: UserServiceImpl.getAllUsers()
2026-02-20 14:48:19.586 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0
2026-02-20 14:48:19.589 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:48:19.589] TRANSACTION COMMIT: UserServiceImpl.getAllUsers()
2026-02-20 14:48:19.590 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:19.590] EXITING: UserServiceImpl.getAllUsers returned: ArrayList
2026-02-20 14:48:19.590 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1486795065 wrapping org.postgresql.jdbc.PgConnection@1236cfb0]
2026-02-20 14:48:19.595 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@242008695 wrapping org.postgresql.jdbc.PgConnection@1236cfb0] read-only
2026-02-20 14:48:19.595 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:19.595] ENTERING: ProductServiceImpl.getProductsWithFilters with arguments: [null, Page request [number: 0, size 20, sort: id: ASC], id, ASC]
2026-02-20 14:48:19.596 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:48:19.596] TRANSACTION START: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 14:48:19.598 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:19.598] ENTERING: TokenBlacklistServiceImpl.isBlacklisted with arguments: [eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiQURNSU4iLCJyb2xlcyI6IlJPTEVfQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluIiwiaWF0IjoxNzcxNTk4ODc0LCJleHAiOjE3NzE2ODUyNzR9.A4TcRxStDoeeQ0K1dV9-1gnh-a39HS0DkUzXhHRPT1PbTXdNCrWfOLelMoizntLpP3W_rYh4faRv0yrxm4PXHw]
2026-02-20 14:48:19.598 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:19.598] EXITING: TokenBlacklistServiceImpl.isBlacklisted returned: Boolean
2026-02-20 14:48:19.600 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@853154458 wrapping org.postgresql.jdbc.PgConnection@2d2697a8] read-only
2026-02-20 14:48:19.600 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:19.600] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [admin]
2026-02-20 14:48:19.601 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:48:19.601] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:48:19.601 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:48:19.604 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:48:19.604] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:48:19.604 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:19.604] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:48:19.604 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@853154458 wrapping org.postgresql.jdbc.PgConnection@2d2697a8]
2026-02-20 14:48:19.607 [http-nio-8080-exec-1] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: admin
2026-02-20 14:48:19.609 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: PerformanceController.getMetrics with arguments: []
2026-02-20 14:48:19.612 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint PerformanceController.getMetrics responded in 1ms
2026-02-20 14:48:19.613 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: PerformanceController.getMetrics returned: ResponseEntity
2026-02-20 14:48:19.638 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?) order by p1_0.product_id fetch first ? rows only
2026-02-20 14:48:19.640 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:48:19.643 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:48:19.648 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:48:19.650 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:48:19.653 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:48:19.657 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:48:19.658 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:48:19.661 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:48:19.662 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:48:19.665 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:48:19.666 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:48:19.668 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:48:19.669 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:48:19.671 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:48:19.672 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:48:19.673 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:48:19.675 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:48:19.677 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:48:19.681 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:48:19.683 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:48:19.690 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select count(*) from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?)
2026-02-20 14:48:19.692 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id = any (?)
2026-02-20 14:48:19.695 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:48:19.695] TRANSACTION COMMIT: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 14:48:19.696 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:19.696] EXITING: ProductServiceImpl.getProductsWithFilters returned: PageImpl
2026-02-20 14:48:19.696 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@242008695 wrapping org.postgresql.jdbc.PgConnection@1236cfb0]
2026-02-20 14:48:19.739 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1710076390 wrapping org.postgresql.jdbc.PgConnection@1236cfb0] read-only
2026-02-20 14:48:19.739 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:19.739] ENTERING: ProductServiceImpl.getProductsByIds with arguments: [[21, 28, 35, 45, 49, 56, 63, 69, 75, 77, 70, 14, 39, 42]]
2026-02-20 14:48:19.740 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:48:19.740] TRANSACTION START: ProductServiceImpl.getProductsByIds(List)
2026-02-20 14:48:19.740 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:48:19.743 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:48:19.744 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:48:19.747 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:48:19.749 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:48:19.751 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:48:19.753 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:48:19.755 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:48:19.756 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:48:19.758 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:48:19.760 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:48:19.762 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:48:19.764 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:48:19.766 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:48:19.768 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:48:19.769 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:48:19.772 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:48:19.773 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:48:19.774 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:48:19.776 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:48:19.778 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:48:19.780 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:48:19.782 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:48:19.783 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:48:19.785 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:48:19.787 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:48:19.787] TRANSACTION COMMIT: ProductServiceImpl.getProductsByIds(List)
2026-02-20 14:48:19.787 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:48:19.787] EXITING: ProductServiceImpl.getProductsByIds returned: ArrayList
2026-02-20 14:48:19.788 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1710076390 wrapping org.postgresql.jdbc.PgConnection@1236cfb0]
2026-02-20 14:50:48.911 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:48.911] ENTERING: TokenBlacklistServiceImpl.isBlacklisted with arguments: [eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiQURNSU4iLCJyb2xlcyI6IlJPTEVfQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluIiwiaWF0IjoxNzcxNTk4ODc0LCJleHAiOjE3NzE2ODUyNzR9.A4TcRxStDoeeQ0K1dV9-1gnh-a39HS0DkUzXhHRPT1PbTXdNCrWfOLelMoizntLpP3W_rYh4faRv0yrxm4PXHw]
2026-02-20 14:50:48.912 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:48.912] EXITING: TokenBlacklistServiceImpl.isBlacklisted returned: Boolean
2026-02-20 14:50:48.919 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1812224910 wrapping org.postgresql.jdbc.PgConnection@2d2697a8] read-only
2026-02-20 14:50:48.919 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:48.919] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [admin]
2026-02-20 14:50:48.921 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:50:48.921] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:50:48.921 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:48.921] ENTERING: TokenBlacklistServiceImpl.isBlacklisted with arguments: [eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiQURNSU4iLCJyb2xlcyI6IlJPTEVfQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluIiwiaWF0IjoxNzcxNTk4ODc0LCJleHAiOjE3NzE2ODUyNzR9.A4TcRxStDoeeQ0K1dV9-1gnh-a39HS0DkUzXhHRPT1PbTXdNCrWfOLelMoizntLpP3W_rYh4faRv0yrxm4PXHw]
2026-02-20 14:50:48.921 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:48.921] EXITING: TokenBlacklistServiceImpl.isBlacklisted returned: Boolean
2026-02-20 14:50:48.922 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:50:48.923 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@609960303 wrapping org.postgresql.jdbc.PgConnection@1236cfb0] read-only
2026-02-20 14:50:48.924 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:48.924] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [admin]
2026-02-20 14:50:48.924 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:50:48.924] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:50:48.925 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:50:48.925] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:50:48.925 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:48.925] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:50:48.925 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:50:48.926 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1812224910 wrapping org.postgresql.jdbc.PgConnection@2d2697a8]
2026-02-20 14:50:48.926 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:50:48.926] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:50:48.927 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:48.927] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:50:48.927 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@609960303 wrapping org.postgresql.jdbc.PgConnection@1236cfb0]
2026-02-20 14:50:48.928 [http-nio-8080-exec-10] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: admin
2026-02-20 14:50:48.930 [http-nio-8080-exec-6] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: admin
2026-02-20 14:50:48.934 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CategoryController.getAllCategories with arguments: []
2026-02-20 14:50:48.934 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@386627452 wrapping org.postgresql.jdbc.PgConnection@2d2697a8] read-only
2026-02-20 14:50:48.935 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:48.935] ENTERING: CategoryServiceImpl.getAllCategories with arguments: []
2026-02-20 14:50:48.935 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:50:48.935] TRANSACTION START: CategoryServiceImpl.getAllCategories()
2026-02-20 14:50:48.938 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0
2026-02-20 14:50:48.941 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:50:48.941] TRANSACTION COMMIT: CategoryServiceImpl.getAllCategories()
2026-02-20 14:50:48.941 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:48.941] EXITING: CategoryServiceImpl.getAllCategories returned: ArrayList
2026-02-20 14:50:48.942 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@386627452 wrapping org.postgresql.jdbc.PgConnection@2d2697a8]
2026-02-20 14:50:48.943 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CategoryController.getAllCategories responded in 9ms
2026-02-20 14:50:48.943 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CategoryController.getAllCategories returned: ResponseEntity
2026-02-20 14:50:48.963 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: ProductController.getProductsWithFilters with arguments: [null, null, null, null, null, null, null, true, 0, 12, productName, ASC]
2026-02-20 14:50:48.964 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:48.964] ENTERING: TokenBlacklistServiceImpl.isBlacklisted with arguments: [eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiQURNSU4iLCJyb2xlcyI6IlJPTEVfQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluIiwiaWF0IjoxNzcxNTk4ODc0LCJleHAiOjE3NzE2ODUyNzR9.A4TcRxStDoeeQ0K1dV9-1gnh-a39HS0DkUzXhHRPT1PbTXdNCrWfOLelMoizntLpP3W_rYh4faRv0yrxm4PXHw]
2026-02-20 14:50:48.964 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:48.964] EXITING: TokenBlacklistServiceImpl.isBlacklisted returned: Boolean
2026-02-20 14:50:48.966 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@507781538 wrapping org.postgresql.jdbc.PgConnection@2d2697a8] read-only
2026-02-20 14:50:48.967 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:48.967] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [admin]
2026-02-20 14:50:48.967 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:50:48.967] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:50:48.968 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:50:48.970 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:50:48.970] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:50:48.970 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:48.970] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:50:48.970 [http-nio-8080-exec-10] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@507781538 wrapping org.postgresql.jdbc.PgConnection@2d2697a8]
2026-02-20 14:50:48.972 [http-nio-8080-exec-10] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: admin
2026-02-20 14:50:48.976 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CategoryController.getAllCategories with arguments: []
2026-02-20 14:50:48.976 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CategoryController.getAllCategories responded in 0ms
2026-02-20 14:50:48.976 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CategoryController.getAllCategories returned: ResponseEntity
2026-02-20 14:50:48.997 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:48.997] ENTERING: TokenBlacklistServiceImpl.isBlacklisted with arguments: [eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiQURNSU4iLCJyb2xlcyI6IlJPTEVfQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluIiwiaWF0IjoxNzcxNTk4ODc0LCJleHAiOjE3NzE2ODUyNzR9.A4TcRxStDoeeQ0K1dV9-1gnh-a39HS0DkUzXhHRPT1PbTXdNCrWfOLelMoizntLpP3W_rYh4faRv0yrxm4PXHw]
2026-02-20 14:50:48.997 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:48.997] EXITING: TokenBlacklistServiceImpl.isBlacklisted returned: Boolean
2026-02-20 14:50:49.004 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1113569726 wrapping org.postgresql.jdbc.PgConnection@2d2697a8] read-only
2026-02-20 14:50:49.004 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:49.004] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [admin]
2026-02-20 14:50:49.004 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:49.004] ENTERING: TokenBlacklistServiceImpl.isBlacklisted with arguments: [eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiQURNSU4iLCJyb2xlcyI6IlJPTEVfQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluIiwiaWF0IjoxNzcxNTk4ODc0LCJleHAiOjE3NzE2ODUyNzR9.A4TcRxStDoeeQ0K1dV9-1gnh-a39HS0DkUzXhHRPT1PbTXdNCrWfOLelMoizntLpP3W_rYh4faRv0yrxm4PXHw]
2026-02-20 14:50:49.004 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:49.004] EXITING: TokenBlacklistServiceImpl.isBlacklisted returned: Boolean
2026-02-20 14:50:49.005 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:50:49.005] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:50:49.005 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:50:49.006 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1985201679 wrapping org.postgresql.jdbc.PgConnection@1236cfb0] read-only
2026-02-20 14:50:49.006 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:49.006] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [admin]
2026-02-20 14:50:49.007 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:50:49.007] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:50:49.007 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:50:49.007] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:50:49.007 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:49.007] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:50:49.008 [http-nio-8080-exec-1] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1113569726 wrapping org.postgresql.jdbc.PgConnection@2d2697a8]
2026-02-20 14:50:49.008 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:50:49.010 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:50:49.010] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:50:49.010 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:49.010] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:50:49.011 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1985201679 wrapping org.postgresql.jdbc.PgConnection@1236cfb0]
2026-02-20 14:50:49.011 [http-nio-8080-exec-1] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: admin
2026-02-20 14:50:49.013 [http-nio-8080-exec-8] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: admin
2026-02-20 14:50:49.014 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: PerformanceController.getMetrics with arguments: []
2026-02-20 14:50:49.015 [http-nio-8080-exec-1] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint PerformanceController.getMetrics responded in 1ms
2026-02-20 14:50:49.015 [http-nio-8080-exec-1] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: PerformanceController.getMetrics returned: ResponseEntity
2026-02-20 14:50:49.026 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@177644393 wrapping org.postgresql.jdbc.PgConnection@1236cfb0] read-only
2026-02-20 14:50:49.026 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:49.026] ENTERING: TokenBlacklistServiceImpl.isBlacklisted with arguments: [eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiQURNSU4iLCJyb2xlcyI6IlJPTEVfQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluIiwiaWF0IjoxNzcxNTk4ODc0LCJleHAiOjE3NzE2ODUyNzR9.A4TcRxStDoeeQ0K1dV9-1gnh-a39HS0DkUzXhHRPT1PbTXdNCrWfOLelMoizntLpP3W_rYh4faRv0yrxm4PXHw]
2026-02-20 14:50:49.026 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:49.026] EXITING: TokenBlacklistServiceImpl.isBlacklisted returned: Boolean
2026-02-20 14:50:49.026 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:49.026] ENTERING: UserServiceImpl.getAllUsers with arguments: []
2026-02-20 14:50:49.026 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:50:49.026] TRANSACTION START: UserServiceImpl.getAllUsers()
2026-02-20 14:50:49.027 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@2086234682 wrapping org.postgresql.jdbc.PgConnection@2d2697a8] read-only
2026-02-20 14:50:49.028 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:49.028] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [admin]
2026-02-20 14:50:49.028 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:50:49.028] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:50:49.028 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0
2026-02-20 14:50:49.029 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:50:49.029 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:50:49.029] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:50:49.029 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:49.029] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:50:49.031 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@2086234682 wrapping org.postgresql.jdbc.PgConnection@2d2697a8]
2026-02-20 14:50:49.035 [http-nio-8080-exec-9] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: admin
2026-02-20 14:50:49.038 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: PerformanceController.getMetrics with arguments: []
2026-02-20 14:50:49.038 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint PerformanceController.getMetrics responded in 0ms
2026-02-20 14:50:49.038 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: PerformanceController.getMetrics returned: ResponseEntity
2026-02-20 14:50:49.039 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:50:49.039] TRANSACTION COMMIT: UserServiceImpl.getAllUsers()
2026-02-20 14:50:49.039 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:49.039] EXITING: UserServiceImpl.getAllUsers returned: ArrayList
2026-02-20 14:50:49.040 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@177644393 wrapping org.postgresql.jdbc.PgConnection@1236cfb0]
2026-02-20 14:50:49.045 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@590120511 wrapping org.postgresql.jdbc.PgConnection@1236cfb0] read-only
2026-02-20 14:50:49.045 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:49.045] ENTERING: ProductServiceImpl.getProductsWithFilters with arguments: [null, Page request [number: 0, size 20, sort: id: ASC], id, ASC]
2026-02-20 14:50:49.045 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:50:49.045] TRANSACTION START: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 14:50:49.047 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?) order by p1_0.product_id fetch first ? rows only
2026-02-20 14:50:49.051 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:49.053 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:49.054 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:49.055 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@237274036 wrapping org.postgresql.jdbc.PgConnection@2d2697a8] read-only
2026-02-20 14:50:49.056 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:49.056] ENTERING: ProductServiceImpl.getProductsWithFilters with arguments: [com.shopjoy.dto.filter.ProductFilter@4e17380c, Page request [number: 0, size 12, sort: productName: ASC], productName, ASC]
2026-02-20 14:50:49.056 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:49.056 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:50:49.056] TRANSACTION START: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 14:50:49.057 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:49.058 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:49.059 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:49.061 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:49.063 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:49.064 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:49.067 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:49.068 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:49.069 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:49.069 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?) order by p1_0.product_name fetch first ? rows only
2026-02-20 14:50:49.071 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:49.073 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:49.073 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:49.074 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:49.075 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:49.075 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:49.076 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:49.076 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:49.077 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:49.077 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:49.079 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:49.079 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:49.080 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:49.082 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:49.084 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:49.085 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:49.087 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:49.089 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:49.089 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select count(*) from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?)
2026-02-20 14:50:49.090 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:49.090 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id = any (?)
2026-02-20 14:50:49.092 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:50:49.092] TRANSACTION COMMIT: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 14:50:49.092 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:49.092] EXITING: ProductServiceImpl.getProductsWithFilters returned: PageImpl
2026-02-20 14:50:49.093 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@590120511 wrapping org.postgresql.jdbc.PgConnection@1236cfb0]
2026-02-20 14:50:49.093 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select count(*) from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?)
2026-02-20 14:50:49.096 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id = any (?)
2026-02-20 14:50:49.099 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:50:49.099] TRANSACTION COMMIT: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 14:50:49.100 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:49.100] EXITING: ProductServiceImpl.getProductsWithFilters returned: PageImpl
2026-02-20 14:50:49.100 [http-nio-8080-exec-6] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@237274036 wrapping org.postgresql.jdbc.PgConnection@2d2697a8]
2026-02-20 14:50:49.102 [http-nio-8080-exec-6] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint ProductController.getProductsWithFilters responded in 139ms
2026-02-20 14:50:49.102 [http-nio-8080-exec-6] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: ProductController.getProductsWithFilters returned: ResponseEntity
2026-02-20 14:50:49.112 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:49.112] ENTERING: TokenBlacklistServiceImpl.isBlacklisted with arguments: [eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiQURNSU4iLCJyb2xlcyI6IlJPTEVfQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluIiwiaWF0IjoxNzcxNTk4ODc0LCJleHAiOjE3NzE2ODUyNzR9.A4TcRxStDoeeQ0K1dV9-1gnh-a39HS0DkUzXhHRPT1PbTXdNCrWfOLelMoizntLpP3W_rYh4faRv0yrxm4PXHw]
2026-02-20 14:50:49.113 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:49.113] EXITING: TokenBlacklistServiceImpl.isBlacklisted returned: Boolean
2026-02-20 14:50:49.114 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@2143743172 wrapping org.postgresql.jdbc.PgConnection@2d2697a8] read-only
2026-02-20 14:50:49.114 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:49.114] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [admin]
2026-02-20 14:50:49.115 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:50:49.115] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:50:49.116 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:50:49.116 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@156521363 wrapping org.postgresql.jdbc.PgConnection@1236cfb0] read-only
2026-02-20 14:50:49.117 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:49.117] ENTERING: InventoryServiceImpl.getLowStockProducts with arguments: []
2026-02-20 14:50:49.118 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:50:49.118] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:50:49.118 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:49.118] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:50:49.118 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@2143743172 wrapping org.postgresql.jdbc.PgConnection@2d2697a8]
2026-02-20 14:50:49.118 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:50:49.118] TRANSACTION START: InventoryServiceImpl.getLowStockProducts()
2026-02-20 14:50:49.120 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.quantity_in_stock<=i1_0.reorder_level
2026-02-20 14:50:49.121 [http-nio-8080-exec-3] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: admin
2026-02-20 14:50:49.123 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id = any (?)
2026-02-20 14:50:49.125 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: ProductController.getProductsWithFilters with arguments: [null, null, null, null, null, null, null, true, 0, 12, productName, ASC]
2026-02-20 14:50:49.126 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@2000752462 wrapping org.postgresql.jdbc.PgConnection@2d2697a8] read-only
2026-02-20 14:50:49.126 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:49.126] ENTERING: ProductServiceImpl.getProductsWithFilters with arguments: [com.shopjoy.dto.filter.ProductFilter@58fb2460, Page request [number: 0, size 12, sort: productName: ASC], productName, ASC]
2026-02-20 14:50:49.126 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:50:49.126] TRANSACTION START: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 14:50:49.127 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:50:49.126] TRANSACTION COMMIT: InventoryServiceImpl.getLowStockProducts()
2026-02-20 14:50:49.127 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:49.127] EXITING: InventoryServiceImpl.getLowStockProducts returned: ArrayList
2026-02-20 14:50:49.128 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@156521363 wrapping org.postgresql.jdbc.PgConnection@1236cfb0]
2026-02-20 14:50:49.128 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?) order by p1_0.product_name fetch first ? rows only
2026-02-20 14:50:49.130 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:49.131 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:49.133 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:49.134 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:49.136 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:49.138 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:49.139 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:49.140 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:49.141 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:49.142 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:49.143 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:49.144 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:49.144 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@2043844864 wrapping org.postgresql.jdbc.PgConnection@1236cfb0] read-only
2026-02-20 14:50:49.145 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:49.145] ENTERING: ProductServiceImpl.getProductsByIds with arguments: [[21, 28, 35, 45, 49, 56, 63, 69, 75, 77, 70, 14, 39, 42]]
2026-02-20 14:50:49.145 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:50:49.145] TRANSACTION START: ProductServiceImpl.getProductsByIds(List)
2026-02-20 14:50:49.146 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:50:49.147 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:50:49.150 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select count(*) from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?)
2026-02-20 14:50:49.152 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id = any (?)
2026-02-20 14:50:49.152 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:50:49.154 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:50:49.155 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:50:49.154] TRANSACTION COMMIT: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 14:50:49.155 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:49.155] EXITING: ProductServiceImpl.getProductsWithFilters returned: PageImpl
2026-02-20 14:50:49.155 [http-nio-8080-exec-3] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@2000752462 wrapping org.postgresql.jdbc.PgConnection@2d2697a8]
2026-02-20 14:50:49.156 [http-nio-8080-exec-3] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint ProductController.getProductsWithFilters responded in 31ms
2026-02-20 14:50:49.156 [http-nio-8080-exec-3] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: ProductController.getProductsWithFilters returned: ResponseEntity
2026-02-20 14:50:49.157 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:50:49.159 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:50:49.161 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:50:49.163 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:50:49.167 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:50:49.169 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:50:49.171 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:50:49.172 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:50:49.175 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:50:49.177 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:50:49.179 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:50:49.180 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:50:49.183 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:50:49.186 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:50:49.187 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:50:49.190 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:50:49.192 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:50:49.193 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:50:49.197 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:50:49.200 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id=?
2026-02-20 14:50:49.201 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 left join inventory i1_0 on p1_0.product_id=i1_0.product_id where p1_0.product_id=?
2026-02-20 14:50:49.203 [http-nio-8080-exec-8] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:50:49.203] TRANSACTION COMMIT: ProductServiceImpl.getProductsByIds(List)
2026-02-20 14:50:49.204 [http-nio-8080-exec-8] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:49.204] EXITING: ProductServiceImpl.getProductsByIds returned: ArrayList
2026-02-20 14:50:49.204 [http-nio-8080-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@2043844864 wrapping org.postgresql.jdbc.PgConnection@1236cfb0]
2026-02-20 14:50:52.621 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:52.621] ENTERING: TokenBlacklistServiceImpl.isBlacklisted with arguments: [eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiQURNSU4iLCJyb2xlcyI6IlJPTEVfQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluIiwiaWF0IjoxNzcxNTk4ODc0LCJleHAiOjE3NzE2ODUyNzR9.A4TcRxStDoeeQ0K1dV9-1gnh-a39HS0DkUzXhHRPT1PbTXdNCrWfOLelMoizntLpP3W_rYh4faRv0yrxm4PXHw]
2026-02-20 14:50:52.621 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:52.621] EXITING: TokenBlacklistServiceImpl.isBlacklisted returned: Boolean
2026-02-20 14:50:52.623 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1192365857 wrapping org.postgresql.jdbc.PgConnection@1236cfb0] read-only
2026-02-20 14:50:52.623 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:52.623] ENTERING: CustomUserDetailsService.loadUserByUsername with arguments: [admin]
2026-02-20 14:50:52.623 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:50:52.623] TRANSACTION START: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:50:52.624 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select u1_0.user_id,u1_0.created_at,u1_0.email,u1_0.first_name,u1_0.last_name,u1_0.oauth_provider,u1_0.oauth_provider_id,u1_0.password_hash,u1_0.phone,u1_0.updated_at,u1_0.user_type,u1_0.username from users u1_0 where u1_0.username=?
2026-02-20 14:50:52.626 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:50:52.626] TRANSACTION COMMIT: CustomUserDetailsService.loadUserByUsername(String)
2026-02-20 14:50:52.626 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:52.626] EXITING: CustomUserDetailsService.loadUserByUsername returned: CustomUserDetails
2026-02-20 14:50:52.627 [http-nio-8080-exec-2] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1192365857 wrapping org.postgresql.jdbc.PgConnection@1236cfb0]
2026-02-20 14:50:52.629 [http-nio-8080-exec-2] DEBUG c.s.config.JwtAuthenticationFilter - JWT authentication successful for user: admin
2026-02-20 14:50:52.632 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: AuthController.logout with arguments: [SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@6a502efe]]
2026-02-20 14:50:52.632 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:52.632] ENTERING: TokenBlacklistServiceImpl.blacklistToken with arguments: [eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiQURNSU4iLCJyb2xlcyI6IlJPTEVfQURNSU4iLCJ1c2VySWQiOjEsInN1YiI6ImFkbWluIiwiaWF0IjoxNzcxNTk4ODc0LCJleHAiOjE3NzE2ODUyNzR9.A4TcRxStDoeeQ0K1dV9-1gnh-a39HS0DkUzXhHRPT1PbTXdNCrWfOLelMoizntLpP3W_rYh4faRv0yrxm4PXHw]
2026-02-20 14:50:52.634 [http-nio-8080-exec-2] DEBUG c.s.s.impl.TokenBlacklistServiceImpl - Token blacklisted. Total blacklisted tokens: 1
2026-02-20 14:50:52.634 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:52.634] EXITING: TokenBlacklistServiceImpl.blacklistToken returned: void
2026-02-20 14:50:52.635 [http-nio-8080-exec-2] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint AuthController.logout responded in 3ms
2026-02-20 14:50:52.635 [http-nio-8080-exec-2] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: AuthController.logout returned: ResponseEntity
2026-02-20 14:50:52.691 [task-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:52.691] ENTERING: SecurityAuditServiceImpl.logEvent with arguments: [admin, LOGOUT, SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@6a502efe], User logged out successfully, true]
2026-02-20 14:50:52.691 [task-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:50:52.691] TRANSACTION START: SecurityAuditServiceImpl.logEvent(String, SecurityEventType, HttpServletRequest, String, Boolean)
2026-02-20 14:50:52.691 [task-3] ERROR c.s.s.impl.SecurityAuditServiceImpl - Failed to log security event: LOGOUT for user: admin
java.lang.IllegalStateException: The request object has been recycled and is no longer associated with this facade
	at org.apache.catalina.connector.RequestFacade.checkFacade(RequestFacade.java:609)
	at org.apache.catalina.connector.RequestFacade.getHeader(RequestFacade.java:287)
	at jakarta.servlet.http.HttpServletRequestWrapper.getHeader(HttpServletRequestWrapper.java:82)
	at org.springframework.security.web.firewall.StrictHttpFirewall$StrictFirewalledRequest.getHeader(StrictHttpFirewall.java:724)
	at jakarta.servlet.http.HttpServletRequestWrapper.getHeader(HttpServletRequestWrapper.java:82)
	at jakarta.servlet.http.HttpServletRequestWrapper.getHeader(HttpServletRequestWrapper.java:82)
	at com.shopjoy.service.impl.SecurityAuditServiceImpl.extractClientIp(SecurityAuditServiceImpl.java:74)
	at com.shopjoy.service.impl.SecurityAuditServiceImpl.logEvent(SecurityAuditServiceImpl.java:37)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.TransactionAspect.monitorTransactionDuration(TransactionAspect.java:68)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:168)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:82)
	at com.shopjoy.aspect.PerformanceAspect.monitorServicePerformance(PerformanceAspect.java:34)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:648)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:630)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:63)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.AfterReturningAdviceInterceptor.invoke(AfterReturningAdviceInterceptor.java:56)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:133)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:371)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:130)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:112)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:328)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1090)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:614)
	at java.base/java.lang.Thread.run(Thread.java:1474)
2026-02-20 14:50:52.692 [task-3] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:50:52.691] TRANSACTION COMMIT: SecurityAuditServiceImpl.logEvent(String, SecurityEventType, HttpServletRequest, String, Boolean)
2026-02-20 14:50:52.692 [task-3] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:52.692] EXITING: SecurityAuditServiceImpl.logEvent returned: void
2026-02-20 14:50:58.983 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: ProductController.getProductsWithFilters with arguments: [null, null, null, null, null, null, null, true, 0, 12, productName, ASC]
2026-02-20 14:50:58.985 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@2121929235 wrapping org.postgresql.jdbc.PgConnection@2d2697a8] read-only
2026-02-20 14:50:58.986 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:58.986] ENTERING: ProductServiceImpl.getProductsWithFilters with arguments: [com.shopjoy.dto.filter.ProductFilter@5f0901d5, Page request [number: 0, size 12, sort: productName: ASC], productName, ASC]
2026-02-20 14:50:58.986 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:50:58.986] TRANSACTION START: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 14:50:58.988 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?) order by p1_0.product_name fetch first ? rows only
2026-02-20 14:50:58.991 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:58.993 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:58.994 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CategoryController.getAllCategories with arguments: []
2026-02-20 14:50:58.994 [http-nio-8080-exec-4] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CategoryController.getAllCategories responded in 0ms
2026-02-20 14:50:58.994 [http-nio-8080-exec-4] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CategoryController.getAllCategories returned: ResponseEntity
2026-02-20 14:50:58.995 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:58.996 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:58.997 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:58.999 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:59.001 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:59.002 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:59.005 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: CategoryController.getAllCategories with arguments: []
2026-02-20 14:50:59.005 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:59.007 [http-nio-8080-exec-10] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint CategoryController.getAllCategories responded in 2ms
2026-02-20 14:50:59.007 [http-nio-8080-exec-10] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: CategoryController.getAllCategories returned: ResponseEntity
2026-02-20 14:50:59.008 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:59.009 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:59.011 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:59.015 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select count(*) from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?)
2026-02-20 14:50:59.017 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id = any (?)
2026-02-20 14:50:59.019 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:50:59.019] TRANSACTION COMMIT: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 14:50:59.019 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:59.019] EXITING: ProductServiceImpl.getProductsWithFilters returned: PageImpl
2026-02-20 14:50:59.021 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@2121929235 wrapping org.postgresql.jdbc.PgConnection@2d2697a8]
2026-02-20 14:50:59.022 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint ProductController.getProductsWithFilters responded in 38ms
2026-02-20 14:50:59.022 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: ProductController.getProductsWithFilters returned: ResponseEntity
2026-02-20 14:50:59.032 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: ProductController.getProductsWithFilters with arguments: [null, null, null, null, null, null, null, true, 0, 12, productName, ASC]
2026-02-20 14:50:59.033 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1188296543 wrapping org.postgresql.jdbc.PgConnection@2d2697a8] read-only
2026-02-20 14:50:59.033 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:59.033] ENTERING: ProductServiceImpl.getProductsWithFilters with arguments: [com.shopjoy.dto.filter.ProductFilter@1052e53c, Page request [number: 0, size 12, sort: productName: ASC], productName, ASC]
2026-02-20 14:50:59.034 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:50:59.034] TRANSACTION START: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 14:50:59.035 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?) order by p1_0.product_name fetch first ? rows only
2026-02-20 14:50:59.040 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:59.042 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:59.044 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:59.046 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:59.047 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:59.049 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:59.051 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:59.052 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:59.056 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:59.058 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:59.059 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:59.062 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:50:59.065 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select count(*) from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?)
2026-02-20 14:50:59.067 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id = any (?)
2026-02-20 14:50:59.069 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:50:59.069] TRANSACTION COMMIT: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 14:50:59.071 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:50:59.071] EXITING: ProductServiceImpl.getProductsWithFilters returned: PageImpl
2026-02-20 14:50:59.072 [http-nio-8080-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1188296543 wrapping org.postgresql.jdbc.PgConnection@2d2697a8]
2026-02-20 14:50:59.073 [http-nio-8080-exec-7] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint ProductController.getProductsWithFilters responded in 41ms
2026-02-20 14:50:59.073 [http-nio-8080-exec-7] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: ProductController.getProductsWithFilters returned: ResponseEntity
2026-02-20 14:51:05.318 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT CALLED: ProductController.getProductsWithFilters with arguments: [null, null, null, null, null, null, null, true, 1, 12, productName, ASC]
2026-02-20 14:51:05.319 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@2073430127 wrapping org.postgresql.jdbc.PgConnection@2d2697a8] read-only
2026-02-20 14:51:05.319 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:51:05.319] ENTERING: ProductServiceImpl.getProductsWithFilters with arguments: [com.shopjoy.dto.filter.ProductFilter@7921e768, Page request [number: 1, size 12, sort: productName: ASC], productName, ASC]
2026-02-20 14:51:05.319 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:51:05.319] TRANSACTION START: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 14:51:05.323 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select p1_0.product_id,p1_0.is_active,p1_0.brand,p1_0.category_id,p1_0.cost_price,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.price,p1_0.product_name,p1_0.sku,p1_0.updated_at from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?) order by p1_0.product_name offset ? rows fetch first ? rows only
2026-02-20 14:51:05.326 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:51:05.327 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:51:05.333 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:51:05.335 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:51:05.336 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:51:05.337 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:51:05.338 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:51:05.341 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:51:05.342 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:51:05.343 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:51:05.344 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:51:05.347 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select i1_0.inventory_id,i1_0.last_restocked,i1_0.product_id,i1_0.quantity_in_stock,i1_0.reorder_level,i1_0.updated_at,i1_0.warehouse_location from inventory i1_0 where i1_0.product_id=?
2026-02-20 14:51:05.351 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select count(*) from products p1_0 where (coalesce(?,'')='' or lower(p1_0.product_name) like lower(('%'||coalesce(?,'')||'%')) escape '' or lower(p1_0.description) like lower(('%'||coalesce(?,'')||'%')) escape '') and (? is null or p1_0.category_id=?) and (? is null or p1_0.price>=?) and (? is null or p1_0.price<=?) and (? is null or p1_0.brand=?) and (? is null or p1_0.is_active=?)
2026-02-20 14:51:05.353 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select c1_0.category_id,c1_0.category_name,c1_0.created_at,c1_0.description from categories c1_0 where c1_0.category_id = any (?)
2026-02-20 14:51:05.355 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.TransactionAspect - [2026-02-20 14:51:05.355] TRANSACTION COMMIT: ProductServiceImpl.getProductsWithFilters(ProductFilter, Pageable, String, String)
2026-02-20 14:51:05.355 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - [2026-02-20 14:51:05.355] EXITING: ProductServiceImpl.getProductsWithFilters returned: PageImpl
2026-02-20 14:51:05.356 [http-nio-8080-exec-9] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@2073430127 wrapping org.postgresql.jdbc.PgConnection@2d2697a8]
2026-02-20 14:51:05.356 [http-nio-8080-exec-9] INFO  c.shopjoy.aspect.PerformanceAspect - API endpoint ProductController.getProductsWithFilters responded in 38ms
2026-02-20 14:51:05.356 [http-nio-8080-exec-9] INFO  com.shopjoy.aspect.LoggingAspect - API ENDPOINT COMPLETED: ProductController.getProductsWithFilters returned: ResponseEntity
